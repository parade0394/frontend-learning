<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ¨¡æ€æ¡†å±…ä¸­ - DOM å…ƒç´ å°ºå¯¸å’Œä½ç½® API å®æˆ˜æ¡ˆä¾‹</title>
    <link href="../styles.css" rel="stylesheet" />
    <script type="module" src="/src/theme-sync.js"></script>
    <style>
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;
      }

      .modal-overlay.visible {
        display: flex;
      }

      .modal {
        background: var(--card-bg);
        border-radius: var(--radius-lg);
        padding: 30px;
        max-width: 500px;
        width: 90%;
        box-shadow: var(--shadow-lg);
        position: relative;
      }

      .modal h2 {
        color: var(--text-primary);
        margin-bottom: 15px;
      }

      .modal p {
        color: var(--text-secondary);
        line-height: 1.6;
        margin-bottom: 20px;
      }

      .modal-close {
        position: absolute;
        top: 15px;
        right: 15px;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--text-secondary);
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.2s ease;
      }

      .modal-close:hover {
        background: var(--bg-secondary);
        color: var(--text-primary);
      }
    </style>
  </head>
  <body>
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>DOM å…ƒç´ å°ºå¯¸å’Œä½ç½® API</h1>
        <a class="back-home" href="../index.html">â† è¿”å›ä¸»é¡µ</a>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <h3>å®æˆ˜åº”ç”¨</h3>
          <a class="nav-item" href="drag-drop.html">æ‹–æ‹½å…ƒç´ </a>
          <a class="nav-item" href="snap-align.html">å…ƒç´ å¸é™„å¯¹é½</a>
          <a class="nav-item" href="tooltip.html">å·¥å…·æç¤ºå®šä½</a>
          <a class="nav-item" href="dropdown.html">ä¸‹æ‹‰èœå•å®šä½</a>
          <a class="nav-item active" href="modal-center.html">æ¨¡æ€æ¡†å±…ä¸­</a>
          <a class="nav-item" href="scroll-progress.html">æ»šåŠ¨è¿›åº¦æ¡</a>
        </div>
      </nav>
    </aside>

    <main class="main-content">
      <div class="demo-page">
        <h1>æ¨¡æ€æ¡†å±…ä¸­</h1>
        <p class="subtitle">å®ç°æ°´å¹³å’Œå‚ç›´å±…ä¸­çš„æ¨¡æ€æ¡†</p>

        <section class="section">
          <h2>å®ç°æ–¹æ³•</h2>
          <p>æœ‰å¤šç§æ–¹æ³•å®ç°æ¨¡æ€æ¡†å±…ä¸­ï¼Œè¿™é‡Œä»‹ç»ä¸‰ç§å¸¸ç”¨æ–¹æ³•ã€‚</p>

          <h3>æ–¹æ³• 1ï¼šFlexboxï¼ˆæ¨èï¼‰</h3>
          <pre class="code-block"><code>.modal-overlay {
  <span class="keyword">display</span>: flex;
  <span class="keyword">align-items</span>: center;
  <span class="keyword">justify-content</span>: center;
}</code></pre>

          <h3>æ–¹æ³• 2ï¼šTransform + Absolute</h3>
          <pre class="code-block"><code>.modal {
  <span class="keyword">position</span>: fixed;
  <span class="keyword">top</span>: <span class="value">50%</span>;
  <span class="keyword">left</span>: <span class="value">50%</span>;
  <span class="keyword">transform</span>: <span class="function">translate</span>(-<span class="value">50%</span>, -<span class="value">50%</span>);
}</code></pre>

          <h3>æ–¹æ³• 3ï¼šJavaScript åŠ¨æ€è®¡ç®—</h3>
          <pre
            class="code-block"
          ><code><span class="keyword">function</span> <span class="function">centerModal</span>(modal) {
  <span class="keyword">const</span> modalWidth = modal.offsetWidth;
  <span class="keyword">const</span> modalHeight = modal.offsetHeight;
  <span class="keyword">const</span> windowWidth = window.innerWidth;
  <span class="keyword">const</span> windowHeight = window.innerHeight;

  <span class="keyword">const</span> left = (windowWidth - modalWidth) / <span class="value">2</span>;
  <span class="keyword">const</span> top = (windowHeight - modalHeight) / <span class="value">2</span>;

  modal.style.left = left + <span class="string">'px'</span>;
  modal.style.top = top + <span class="string">'px'</span>;
}</code></pre>
        </section>

        <section class="section">
          <h2>ç¤ºä¾‹ï¼šå±…ä¸­æ¨¡æ€æ¡†</h2>
          <p>ç‚¹å‡»æŒ‰é’®æ‰“å¼€å±…ä¸­çš„æ¨¡æ€æ¡†</p>

          <button class="control-button" onclick="openModal()">æ‰“å¼€æ¨¡æ€æ¡†</button>

          <div class="info-panel" style="margin-top: 20px">
            <h4>æ¨¡æ€æ¡†ä¿¡æ¯</h4>
            <div class="info-row">
              <span class="info-label">çª—å£å®½åº¦:</span>
              <span id="window-width" class="info-value">0px</span>
            </div>
            <div class="info-row">
              <span class="info-label">çª—å£é«˜åº¦:</span>
              <span id="window-height" class="info-value">0px</span>
            </div>
            <div class="info-row">
              <span class="info-label">æ¨¡æ€æ¡†å®½åº¦:</span>
              <span id="modal-width" class="info-value">0px</span>
            </div>
            <div class="info-row">
              <span class="info-label">å±…ä¸­æ–¹å¼:</span>
              <span class="info-value">Flexbox</span>
            </div>
          </div>

          <div class="tip">
            <h4>ğŸ’¡ æ¨èä½¿ç”¨ Flexbox</h4>
            <p>
              Flexbox æ˜¯æœ€ç®€æ´ã€æœ€å¯é çš„å±…ä¸­æ–¹æ³•ï¼š<br />
              - ä»£ç ç®€å•ï¼Œæ˜“äºç†è§£<br />
              - æ— éœ€çŸ¥é“æ¨¡æ€æ¡†çš„å…·ä½“å°ºå¯¸<br />
              - å®Œç¾å“åº”å¼<br />
              - æµè§ˆå™¨å…¼å®¹æ€§å¥½
            </p>
          </div>
        </section>

        <section class="section">
          <h2>æ€»ç»“</h2>
          <ul>
            <li>Flexbox æ˜¯æœ€ç®€å•ã€æœ€æ¨èçš„å±…ä¸­æ–¹æ³•</li>
            <li>Transform + Absolute é€‚åˆå›ºå®šå°ºå¯¸çš„æ¨¡æ€æ¡†</li>
            <li>JavaScript æ–¹æ³•é€‚åˆåŠ¨æ€è®¡ç®—çš„ç‰¹æ®Šåœºæ™¯</li>
            <li>ä½¿ç”¨ fixed å®šä½ç¡®ä¿æ¨¡æ€æ¡†å§‹ç»ˆç›¸å¯¹äºè§†å£å±…ä¸­</li>
            <li>æ·»åŠ åŠé€æ˜é®ç½©å±‚æå‡ç”¨æˆ·ä½“éªŒ</li>
          </ul>
        </section>
      </div>
    </main>

    <!-- æ¨¡æ€æ¡† -->
    <div id="modal-overlay" class="modal-overlay">
      <div class="modal">
        <button class="modal-close" onclick="closeModal()">&times;</button>
        <h2>å±…ä¸­æ¨¡æ€æ¡†</h2>
        <p>è¿™ä¸ªæ¨¡æ€æ¡†ä½¿ç”¨ Flexbox å®ç°æ°´å¹³å’Œå‚ç›´å±…ä¸­ã€‚ æ— è®ºçª—å£å°ºå¯¸å¦‚ä½•å˜åŒ–ï¼Œæ¨¡æ€æ¡†éƒ½ä¼šä¿æŒå±…ä¸­æ˜¾ç¤ºã€‚</p>
        <p>Flexbox æ˜¯å®ç°å±…ä¸­çš„æœ€ä½³æ–¹æ¡ˆï¼Œä»£ç ç®€æ´ä¸”æ€§èƒ½ä¼˜ç§€ã€‚</p>
        <button class="control-button" onclick="closeModal()">å…³é—­</button>
      </div>
    </div>

    <script>
      const overlay = document.getElementById('modal-overlay');
      const modal = overlay.querySelector('.modal');

      window.openModal = function () {
        overlay.classList.add('visible');

        // æ›´æ–°ä¿¡æ¯
        document.getElementById('window-width').textContent = window.innerWidth + 'px';
        document.getElementById('window-height').textContent = window.innerHeight + 'px';

        // ç­‰å¾…æ¨¡æ€æ¡†æ˜¾ç¤ºåå†è·å–å°ºå¯¸
        setTimeout(() => {
          document.getElementById('modal-width').textContent = modal.offsetWidth + 'px';
        }, 100);
      };

      window.closeModal = function () {
        overlay.classList.remove('visible');
      };

      // ç‚¹å‡»é®ç½©å±‚å…³é—­æ¨¡æ€æ¡†
      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          window.closeModal();
        }
      });

      // ESC é”®å…³é—­
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && overlay.classList.contains('visible')) {
          window.closeModal();
        }
      });

      // ç›‘å¬çª—å£å°ºå¯¸å˜åŒ–
      window.addEventListener('resize', () => {
        if (overlay.classList.contains('visible')) {
          document.getElementById('window-width').textContent = window.innerWidth + 'px';
          document.getElementById('window-height').textContent = window.innerHeight + 'px';
          document.getElementById('modal-width').textContent = modal.offsetWidth + 'px';
        }
      });
    </script>
  </body>
</html>
