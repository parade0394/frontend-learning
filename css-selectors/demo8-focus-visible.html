<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>:focus-visible - CSS ç°ä»£é€‰æ‹©å™¨</title>
    <link href="/src/styles/common.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script>
      (function () {
        try {
          const theme = localStorage.getItem('themeMode') || 'light';
          const color = localStorage.getItem('primaryColor') || '#10b981';
          let actualTheme = theme;
          if (theme === 'auto') {
            actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', actualTheme);
          document.documentElement.style.setProperty('--primary', color);
        } catch (e) {
          console.log(e);
        }
      })();
    </script>
    <script type="module" src="/src/theme.js"></script>
    <script src="compatibility-check.js"></script>
  </head>
  <body data-demo="focus-visible">
    <!-- å·¦ä¾§è¾¹æ å¯¼èˆª -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>CSS ç°ä»£é€‰æ‹©å™¨</h1>
        <a class="back-home" href="index.html">â† è¿”å›ä¸»é¡µ</a>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <h3>åŸºç¡€æ¦‚å¿µ</h3>
          <a class="nav-item" href="demo1-specificity.html">é€‰æ‹©å™¨ä¼˜å…ˆçº§</a>
        </div>
        <div class="nav-section">
          <h3>é€»è¾‘é€‰æ‹©å™¨</h3>
          <a class="nav-item" href="demo2-is.html">:is() ä¼ªç±»</a>
          <a class="nav-item" href="demo3-where.html">:where() ä¼ªç±»</a>
          <a class="nav-item" href="demo4-not.html">:not() ä¼ªç±»</a>
        </div>
        <div class="nav-section">
          <h3>çˆ¶å­å…³ç³»é€‰æ‹©å™¨</h3>
          <a class="nav-item" href="demo5-has-basics.html">:has() åŸºç¡€</a>
          <a class="nav-item" href="demo6-has-practical.html">:has() å®æˆ˜</a>
        </div>
        <div class="nav-section">
          <h3>çŠ¶æ€é€‰æ‹©å™¨</h3>
          <a class="nav-item" href="demo7-focus-within.html">:focus-within</a>
          <a class="nav-item active" href="demo8-focus-visible.html">:focus-visible</a>
        </div>
        <div class="nav-section">
          <h3>ç»“æ„é€‰æ‹©å™¨è¿›é˜¶</h3>
          <a class="nav-item" href="demo9-nth-child.html">:nth-child() é«˜çº§</a>
          <a class="nav-item" href="demo10-nth-comparison.html">ç»“æ„é€‰æ‹©å™¨å¯¹æ¯”</a>
        </div>
        <div class="nav-section">
          <h3>ç»¼åˆå®æˆ˜</h3>
          <a class="nav-item" href="demo11-combinations.html">é€‰æ‹©å™¨ç»„åˆå®æˆ˜</a>
        </div>
      </nav>
    </aside>

    <!-- å³ä¾§ä¸»å†…å®¹åŒº -->
    <main class="main-content">
      <div class="demo-page">
        <h1>:focus-visible</h1>
        <p class="subtitle">æ™ºèƒ½æ˜¾ç¤ºç„¦ç‚¹ç¯ï¼Œä¼˜åŒ–é”®ç›˜å¯¼èˆªä½“éªŒ</p>

        <!-- æ¦‚å¿µä»‹ç» -->
        <section class="concept-section">
          <h2>ä»€ä¹ˆæ˜¯ :focus-visible?</h2>
          <p>
            <code>:focus-visible</code> ä¼ªç±»ç”¨äºé€‰æ‹©<strong>åº”è¯¥æ˜¾ç¤ºç„¦ç‚¹æŒ‡ç¤ºå™¨</strong>çš„å…ƒç´ ã€‚ å®ƒè§£å†³äº†ä¼ ç»Ÿ
            <code>:focus</code> çš„ä¸€ä¸ªé‡è¦é—®é¢˜ï¼šå½“ç”¨æˆ·ç”¨é¼ æ ‡ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œ
            é€šå¸¸ä¸éœ€è¦æ˜¾ç¤ºç„¦ç‚¹ç¯ï¼Œä½†å½“ç”¨æˆ·ä½¿ç”¨é”®ç›˜å¯¼èˆªæ—¶ï¼Œç„¦ç‚¹ç¯æ˜¯å¿…ä¸å¯å°‘çš„ã€‚
          </p>
          <p>
            æµè§ˆå™¨ä¼šæ ¹æ®ç”¨æˆ·çš„è¾“å…¥æ–¹å¼ï¼ˆé¼ æ ‡ã€è§¦æ‘¸ã€é”®ç›˜ï¼‰æ™ºèƒ½åˆ¤æ–­æ˜¯å¦éœ€è¦æ˜¾ç¤ºç„¦ç‚¹æŒ‡ç¤ºå™¨ã€‚
            è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¿æŒè‰¯å¥½æ— éšœç¢è®¿é—®çš„åŒæ—¶ï¼Œæä¾›æ›´æ¸…çˆ½çš„è§†è§‰ä½“éªŒã€‚
          </p>
          <div class="info-box">
            <strong>ğŸ’¡ æ ¸å¿ƒç‰¹æ€§ï¼š</strong>
            <ul>
              <li><strong>æ™ºèƒ½åˆ¤æ–­</strong> - æµè§ˆå™¨æ ¹æ®è¾“å…¥æ–¹å¼å†³å®šæ˜¯å¦æ˜¾ç¤ºç„¦ç‚¹ç¯</li>
              <li><strong>é”®ç›˜å‹å¥½</strong> - ä½¿ç”¨ Tab é”®å¯¼èˆªæ—¶å§‹ç»ˆæ˜¾ç¤ºç„¦ç‚¹æŒ‡ç¤ºå™¨</li>
              <li><strong>é¼ æ ‡ä¼˜åŒ–</strong> - é¼ æ ‡ç‚¹å‡»æŒ‰é’®æ—¶é€šå¸¸ä¸æ˜¾ç¤ºç„¦ç‚¹ç¯</li>
              <li><strong>æ— éšœç¢è®¿é—®</strong> - ç¡®ä¿é”®ç›˜ç”¨æˆ·èƒ½æ¸…æ¥šçœ‹åˆ°å½“å‰ç„¦ç‚¹ä½ç½®</li>
            </ul>
          </div>
          <div class="info-box warning">
            <strong>âš ï¸ ä¸ :focus çš„å…³é”®åŒºåˆ«ï¼š</strong>
            <ul>
              <li><code>:focus</code> - å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶<strong>æ€»æ˜¯</strong>åŒ¹é…ï¼Œæ— è®ºè¾“å…¥æ–¹å¼</li>
              <li><code>:focus-visible</code> - åªåœ¨<strong>åº”è¯¥æ˜¾ç¤º</strong>ç„¦ç‚¹æŒ‡ç¤ºå™¨æ—¶åŒ¹é…</li>
              <li>ä½¿ç”¨ <code>:focus-visible</code> å¯ä»¥é¿å…é¼ æ ‡ç‚¹å‡»æ—¶å‡ºç°ä¸å¿…è¦çš„ç„¦ç‚¹ç¯</li>
            </ul>
          </div>
        </section>

        <!-- è¯­æ³•è¯´æ˜ -->
        <section class="syntax-section">
          <h2>è¯­æ³•</h2>
          <pre><code>/* åŸºç¡€è¯­æ³• */
element:focus-visible {
  /* åªåœ¨åº”è¯¥æ˜¾ç¤ºç„¦ç‚¹æŒ‡ç¤ºå™¨æ—¶çš„æ ·å¼ */
}

/* æ¨èçš„æœ€ä½³å®è·µ */
button:focus {
  outline: none; /* ç§»é™¤é»˜è®¤ç„¦ç‚¹ç¯ */
}

button:focus-visible {
  outline: 3px solid var(--primary); /* åªåœ¨é”®ç›˜å¯¼èˆªæ—¶æ˜¾ç¤º */
  outline-offset: 2px;
}

/* ç»„åˆä½¿ç”¨ */
input:focus-visible {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}</code></pre>
          <div class="info-box">
            <strong>ğŸ’¡ ä½¿ç”¨å»ºè®®ï¼š</strong>
            <ul>
              <li><strong>ä¸è¦å®Œå…¨ç§»é™¤ç„¦ç‚¹æ ·å¼</strong> - å§‹ç»ˆä¸º <code>:focus-visible</code> æä¾›æ¸…æ™°çš„æ ·å¼</li>
              <li><strong>ä¿æŒé«˜å¯¹æ¯”åº¦</strong> - ç¡®ä¿ç„¦ç‚¹æŒ‡ç¤ºå™¨åœ¨ä»»ä½•èƒŒæ™¯ä¸‹éƒ½æ¸…æ™°å¯è§</li>
              <li><strong>ä½¿ç”¨ outline è€Œé border</strong> - outline ä¸ä¼šå½±å“å¸ƒå±€ï¼Œæ›´é€‚åˆç„¦ç‚¹æŒ‡ç¤ºå™¨</li>
              <li><strong>æ·»åŠ  outline-offset</strong> - è®©ç„¦ç‚¹ç¯ä¸å…ƒç´ ä¿æŒä¸€å®šè·ç¦»ï¼Œæ›´ç¾è§‚</li>
            </ul>
          </div>
        </section>

        <!-- ç¤ºä¾‹ 1: é¼ æ ‡ vs é”®ç›˜å¯¹æ¯” -->
        <section class="demo-section">
          <h2>ç¤ºä¾‹ 1: é¼ æ ‡ç‚¹å‡» vs é”®ç›˜å¯¼èˆªå¯¹æ¯”</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº† <code>:focus</code> å’Œ <code>:focus-visible</code> çš„è¡Œä¸ºå·®å¼‚ã€‚
            è¯·åˆ†åˆ«ç”¨<strong>é¼ æ ‡ç‚¹å‡»</strong>å’Œ<strong>é”®ç›˜ Tab é”®</strong>æ¥æµ‹è¯•æŒ‰é’®çš„ç„¦ç‚¹æ•ˆæœã€‚
          </p>

          <div class="demo-container single-column">
            <div class="demo-preview">
              <div class="demo-preview-title">æ•ˆæœé¢„è§ˆ - è¯·ç”¨é¼ æ ‡å’Œé”®ç›˜åˆ†åˆ«æµ‹è¯•</div>
              <style>
                .comparison-container {
                  display: grid;
                  grid-template-columns: 1fr 1fr;
                  gap: 30px;
                  max-width: 900px;
                  margin: 0 auto;
                }

                @media (max-width: 768px) {
                  .comparison-container {
                    grid-template-columns: 1fr;
                  }
                }

                .comparison-box {
                  background: var(--bg-secondary);
                  border: 2px solid var(--border-color);
                  border-radius: 12px;
                  padding: 30px;
                  text-align: center;
                }

                .comparison-box h3 {
                  margin-top: 0;
                  margin-bottom: 10px;
                  color: var(--text-primary);
                }

                .comparison-box .description {
                  color: var(--text-secondary);
                  font-size: 0.9rem;
                  margin-bottom: 25px;
                  line-height: 1.5;
                }

                .comparison-box .badge {
                  display: inline-block;
                  padding: 4px 12px;
                  border-radius: 12px;
                  font-size: 0.85rem;
                  font-weight: 600;
                  margin-bottom: 20px;
                }

                .badge.old {
                  background: #fee;
                  color: #c00;
                }

                .badge.new {
                  background: #efe;
                  color: #0a0;
                }

                /* ä½¿ç”¨ä¼ ç»Ÿ :focus çš„æŒ‰é’® */
                .btn-old-focus {
                  padding: 12px 32px;
                  font-size: 1rem;
                  font-weight: 600;
                  background: var(--primary);
                  color: white;
                  border: none;
                  border-radius: 8px;
                  cursor: pointer;
                  transition: all 0.2s ease;
                }

                .btn-old-focus:hover {
                  transform: translateY(-2px);
                  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
                }

                /* ä¼ ç»Ÿæ–¹å¼ï¼šé¼ æ ‡ç‚¹å‡»ä¹Ÿä¼šæ˜¾ç¤ºç„¦ç‚¹ç¯ */
                .btn-old-focus:focus {
                  outline: 3px solid #f59e0b;
                  outline-offset: 3px;
                }

                /* ä½¿ç”¨ :focus-visible çš„æŒ‰é’® */
                .btn-new-focus {
                  padding: 12px 32px;
                  font-size: 1rem;
                  font-weight: 600;
                  background: var(--primary);
                  color: white;
                  border: none;
                  border-radius: 8px;
                  cursor: pointer;
                  transition: all 0.2s ease;
                }

                .btn-new-focus:hover {
                  transform: translateY(-2px);
                  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
                }

                /* ç§»é™¤é»˜è®¤ç„¦ç‚¹æ ·å¼ */
                .btn-new-focus:focus {
                  outline: none;
                }

                /* ç°ä»£æ–¹å¼ï¼šåªåœ¨é”®ç›˜å¯¼èˆªæ—¶æ˜¾ç¤ºç„¦ç‚¹ç¯ */
                .btn-new-focus:focus-visible {
                  outline: 3px solid #f59e0b;
                  outline-offset: 3px;
                }

                .test-instruction {
                  margin-top: 25px;
                  padding: 15px;
                  background: var(--bg-primary);
                  border-radius: 8px;
                  font-size: 0.9rem;
                  color: var(--text-secondary);
                  line-height: 1.6;
                }

                .test-instruction strong {
                  color: var(--text-primary);
                }
              </style>

              <div class="comparison-container">
                <!-- ä¼ ç»Ÿ :focus -->
                <div class="comparison-box">
                  <span class="badge old">âŒ ä¼ ç»Ÿæ–¹å¼</span>
                  <h3>ä½¿ç”¨ :focus</h3>
                  <p class="description">æ— è®ºç”¨é¼ æ ‡è¿˜æ˜¯é”®ç›˜ï¼Œè·å¾—ç„¦ç‚¹æ—¶éƒ½ä¼šæ˜¾ç¤ºç„¦ç‚¹ç¯</p>
                  <button class="btn-old-focus">ç‚¹å‡»æˆ‘</button>
                </div>

                <!-- ç°ä»£ :focus-visible -->
                <div class="comparison-box">
                  <span class="badge new">âœ… ç°ä»£æ–¹å¼</span>
                  <h3>ä½¿ç”¨ :focus-visible</h3>
                  <p class="description">é¼ æ ‡ç‚¹å‡»ä¸æ˜¾ç¤ºç„¦ç‚¹ç¯ï¼Œé”®ç›˜å¯¼èˆªæ—¶æ‰æ˜¾ç¤º</p>
                  <button class="btn-new-focus">ç‚¹å‡»æˆ‘</button>
                </div>
              </div>

              <div class="test-instruction">
                <strong>ğŸ§ª æµ‹è¯•æ­¥éª¤ï¼š</strong><br />
                1ï¸âƒ£ ç”¨<strong>é¼ æ ‡ç‚¹å‡»</strong>å·¦ä¾§æŒ‰é’® â†’ ä¼šçœ‹åˆ°æ©™è‰²ç„¦ç‚¹ç¯ï¼ˆä¸ç†æƒ³ï¼‰<br />
                2ï¸âƒ£ ç”¨<strong>é¼ æ ‡ç‚¹å‡»</strong>å³ä¾§æŒ‰é’® â†’ ä¸ä¼šæ˜¾ç¤ºç„¦ç‚¹ç¯ï¼ˆæ›´æ¸…çˆ½ï¼‰<br />
                3ï¸âƒ£ ç”¨<strong>Tab é”®</strong>å¯¼èˆªåˆ°ä¸¤ä¸ªæŒ‰é’® â†’ éƒ½ä¼šæ˜¾ç¤ºç„¦ç‚¹ç¯ï¼ˆä¿è¯å¯è®¿é—®æ€§ï¼‰
              </div>
            </div>

            <div class="demo-code">
              <pre><code>/* âŒ ä¼ ç»Ÿæ–¹å¼ - æ€»æ˜¯æ˜¾ç¤ºç„¦ç‚¹ç¯ */
.btn-old-focus:focus {
  outline: 3px solid #f59e0b;
  outline-offset: 3px;
}

/* âœ… ç°ä»£æ–¹å¼ - æ™ºèƒ½æ˜¾ç¤ºç„¦ç‚¹ç¯ */
.btn-new-focus:focus {
  outline: none; /* ç§»é™¤é»˜è®¤æ ·å¼ */
}

.btn-new-focus:focus-visible {
  outline: 3px solid #f59e0b;
  outline-offset: 3px;
}

/* ç»“æœï¼š
 * - é¼ æ ‡ç‚¹å‡»ï¼šä¸æ˜¾ç¤ºç„¦ç‚¹ç¯
 * - é”®ç›˜å¯¼èˆªï¼šæ˜¾ç¤ºç„¦ç‚¹ç¯
 * - æœ€ä½³ç”¨æˆ·ä½“éªŒï¼
 */</code></pre>
            </div>
          </div>
        </section>

        <!-- ç¤ºä¾‹ 2: äº¤äº’å¼æµ‹è¯•å·¥å…· -->
        <section class="demo-section">
          <h2>ç¤ºä¾‹ 2: äº¤äº’å¼ç„¦ç‚¹æµ‹è¯•å·¥å…·</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            è¿™ä¸ªå·¥å…·å¯ä»¥å¸®åŠ©ä½ ç›´è§‚åœ°ç†è§£ä¸åŒè¾“å…¥æ–¹å¼ä¸‹ç„¦ç‚¹çŠ¶æ€çš„å˜åŒ–ã€‚
          </p>

          <div class="demo-container single-column">
            <div class="demo-preview">
              <style>
                .focus-tester {
                  max-width: 700px;
                  margin: 0 auto;
                }

                .input-method-indicator {
                  display: flex;
                  gap: 15px;
                  justify-content: center;
                  margin-bottom: 30px;
                }

                .method-badge {
                  padding: 10px 20px;
                  border-radius: 8px;
                  font-weight: 600;
                  background: var(--bg-secondary);
                  color: var(--text-secondary);
                  border: 2px solid var(--border-color);
                  transition: all 0.3s ease;
                }

                .method-badge.active {
                  background: var(--primary);
                  color: white;
                  border-color: var(--primary);
                  transform: scale(1.05);
                }

                .test-elements {
                  display: grid;
                  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                  gap: 20px;
                  margin-bottom: 30px;
                }

                .test-element {
                  padding: 20px;
                  background: var(--bg-secondary);
                  border: 2px solid var(--border-color);
                  border-radius: 8px;
                  text-align: center;
                  cursor: pointer;
                  transition: all 0.2s ease;
                  font-weight: 600;
                  color: var(--text-primary);
                }

                .test-element:hover {
                  transform: translateY(-2px);
                  border-color: var(--primary);
                }

                .test-element:focus {
                  outline: none;
                }

                .test-element:focus-visible {
                  outline: 4px solid var(--primary);
                  outline-offset: 2px;
                  background: var(--primary-light);
                }

                .focus-status {
                  padding: 20px;
                  background: var(--bg-secondary);
                  border-radius: 8px;
                  text-align: center;
                }

                .focus-status-title {
                  font-weight: 600;
                  color: var(--text-secondary);
                  margin-bottom: 10px;
                }

                .focus-status-value {
                  font-size: 1.2rem;
                  font-weight: 700;
                  color: var(--text-primary);
                }

                .focus-status-value.has-focus {
                  color: var(--primary);
                }

                .focus-status-value.has-focus-visible {
                  color: #f59e0b;
                }
              </style>

              <div class="focus-tester">
                <div class="input-method-indicator">
                  <div id="mouse-indicator" class="method-badge">ğŸ–±ï¸ é¼ æ ‡æ¨¡å¼</div>
                  <div id="keyboard-indicator" class="method-badge">âŒ¨ï¸ é”®ç›˜æ¨¡å¼</div>
                </div>

                <div class="test-elements">
                  <button class="test-element" tabindex="0">æŒ‰é’® 1</button>
                  <button class="test-element" tabindex="0">æŒ‰é’® 2</button>
                  <button class="test-element" tabindex="0">æŒ‰é’® 3</button>
                  <button class="test-element" tabindex="0">æŒ‰é’® 4</button>
                </div>

                <div class="focus-status">
                  <div class="focus-status-title">å½“å‰ç„¦ç‚¹çŠ¶æ€</div>
                  <div id="focus-status-text" class="focus-status-value">æœªè·å¾—ç„¦ç‚¹</div>
                </div>
              </div>

              <script>
                (function () {
                  const mouseIndicator = document.getElementById('mouse-indicator');
                  const keyboardIndicator = document.getElementById('keyboard-indicator');
                  const statusText = document.getElementById('focus-status-text');
                  const testElements = document.querySelectorAll('.test-element');

                  let lastInputMethod = 'unknown';

                  // æ£€æµ‹è¾“å…¥æ–¹å¼
                  document.addEventListener('mousedown', () => {
                    lastInputMethod = 'mouse';
                    updateIndicators();
                  });

                  document.addEventListener('keydown', (e) => {
                    if (e.key === 'Tab') {
                      lastInputMethod = 'keyboard';
                      updateIndicators();
                    }
                  });

                  function updateIndicators() {
                    if (lastInputMethod === 'mouse') {
                      mouseIndicator.classList.add('active');
                      keyboardIndicator.classList.remove('active');
                    } else if (lastInputMethod === 'keyboard') {
                      keyboardIndicator.classList.add('active');
                      mouseIndicator.classList.remove('active');
                    }
                  }

                  // ç›‘å¬ç„¦ç‚¹çŠ¶æ€
                  testElements.forEach((element, index) => {
                    element.addEventListener('focus', () => {
                      updateFocusStatus(element, index + 1);
                    });

                    element.addEventListener('blur', () => {
                      statusText.textContent = 'æœªè·å¾—ç„¦ç‚¹';
                      statusText.className = 'focus-status-value';
                    });
                  });

                  function updateFocusStatus(element, buttonNum) {
                    // æ£€æŸ¥æ˜¯å¦åŒ¹é… :focus-visible
                    const hasFocusVisible = element.matches(':focus-visible');

                    if (hasFocusVisible) {
                      statusText.textContent = `æŒ‰é’® ${buttonNum} - :focus âœ“ å’Œ :focus-visible âœ“`;
                      statusText.className = 'focus-status-value has-focus-visible';
                    } else {
                      statusText.textContent = `æŒ‰é’® ${buttonNum} - :focus âœ“ ä½† :focus-visible âœ—`;
                      statusText.className = 'focus-status-value has-focus';
                    }
                  }
                })();
              </script>
            </div>

            <div class="demo-code">
              <pre><code>/* æµ‹è¯•å…ƒç´ æ ·å¼ */
.test-element:focus {
  outline: none; /* ç§»é™¤é»˜è®¤ç„¦ç‚¹ç¯ */
}

.test-element:focus-visible {
  outline: 4px solid var(--primary);
  outline-offset: 2px;
  background: var(--primary-light);
}

/* JavaScript æ£€æµ‹ç„¦ç‚¹çŠ¶æ€ */
element.addEventListener('focus', () => {
  // æ£€æŸ¥æ˜¯å¦åŒ¹é… :focus-visible
  const hasFocusVisible = element.matches(':focus-visible');
  
  if (hasFocusVisible) {
    console.log('é”®ç›˜å¯¼èˆª - æ˜¾ç¤ºç„¦ç‚¹ç¯');
  } else {
    console.log('é¼ æ ‡ç‚¹å‡» - ä¸æ˜¾ç¤ºç„¦ç‚¹ç¯');
  }
});</code></pre>
            </div>
          </div>
        </section>

        <!-- ç¤ºä¾‹ 3: ä¸åŒå…ƒç´ çš„ç„¦ç‚¹ç­–ç•¥ -->
        <section class="demo-section">
          <h2>ç¤ºä¾‹ 3: ä¸åŒå…ƒç´ çš„ç„¦ç‚¹å¯è§æ€§ç­–ç•¥</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            ä¸åŒç±»å‹çš„å…ƒç´ éœ€è¦ä¸åŒçš„ç„¦ç‚¹ç­–ç•¥ã€‚æŒ‰é’®é€šå¸¸ä¸éœ€è¦åœ¨é¼ æ ‡ç‚¹å‡»æ—¶æ˜¾ç¤ºç„¦ç‚¹ç¯ï¼Œ
            ä½†è¾“å…¥æ¡†å’Œé“¾æ¥çš„ç„¦ç‚¹è¡Œä¸ºå¯èƒ½æœ‰æ‰€ä¸åŒã€‚
          </p>

          <div class="demo-container single-column">
            <div class="demo-preview">
              <div class="demo-preview-title">æ•ˆæœé¢„è§ˆ - æµ‹è¯•ä¸åŒå…ƒç´ çš„ç„¦ç‚¹è¡Œä¸º</div>
              <style>
                .element-strategies {
                  max-width: 800px;
                  margin: 0 auto;
                }

                .strategy-group {
                  background: var(--bg-secondary);
                  border: 2px solid var(--border-color);
                  border-radius: 12px;
                  padding: 25px;
                  margin-bottom: 25px;
                }

                .strategy-group h3 {
                  margin-top: 0;
                  margin-bottom: 15px;
                  color: var(--text-primary);
                  display: flex;
                  align-items: center;
                  gap: 10px;
                }

                .strategy-description {
                  color: var(--text-secondary);
                  margin-bottom: 20px;
                  line-height: 1.6;
                  font-size: 0.95rem;
                }

                /* æŒ‰é’®ç„¦ç‚¹ç­–ç•¥ */
                .demo-button {
                  padding: 12px 24px;
                  font-size: 1rem;
                  font-weight: 600;
                  background: var(--primary);
                  color: white;
                  border: none;
                  border-radius: 8px;
                  cursor: pointer;
                  transition: all 0.2s ease;
                  margin-right: 10px;
                  margin-bottom: 10px;
                }

                .demo-button:hover {
                  transform: translateY(-2px);
                  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
                }

                .demo-button:focus {
                  outline: none;
                }

                .demo-button:focus-visible {
                  outline: 3px solid var(--primary);
                  outline-offset: 3px;
                }

                .demo-button.secondary {
                  background: var(--bg-primary);
                  color: var(--text-primary);
                  border: 2px solid var(--border-color);
                }

                .demo-button.secondary:focus-visible {
                  border-color: var(--primary);
                  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
                }

                /* é“¾æ¥ç„¦ç‚¹ç­–ç•¥ */
                .demo-link {
                  color: var(--primary);
                  text-decoration: none;
                  font-weight: 600;
                  padding: 4px 8px;
                  border-radius: 4px;
                  transition: all 0.2s ease;
                  display: inline-block;
                  margin-right: 15px;
                  margin-bottom: 10px;
                }

                .demo-link:hover {
                  background: var(--primary-light);
                  text-decoration: underline;
                }

                .demo-link:focus {
                  outline: none;
                }

                .demo-link:focus-visible {
                  outline: 2px solid var(--primary);
                  outline-offset: 4px;
                  background: var(--primary-light);
                }

                /* è¾“å…¥æ¡†ç„¦ç‚¹ç­–ç•¥ */
                .demo-input {
                  width: 100%;
                  max-width: 400px;
                  padding: 12px;
                  font-size: 1rem;
                  border: 2px solid var(--border-color);
                  border-radius: 8px;
                  background: var(--bg-primary);
                  color: var(--text-primary);
                  transition: all 0.3s ease;
                  margin-bottom: 10px;
                }

                /* è¾“å…¥æ¡†ï¼šæ— è®ºé¼ æ ‡è¿˜æ˜¯é”®ç›˜éƒ½æ˜¾ç¤ºç„¦ç‚¹ */
                .demo-input:focus {
                  border-color: var(--primary);
                  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
                  outline: none;
                }

                /* è¾“å…¥æ¡†é€šå¸¸ä¸éœ€è¦ :focus-visibleï¼Œå› ä¸ºæ€»æ˜¯éœ€è¦æ˜¾ç¤ºç„¦ç‚¹çŠ¶æ€ */

                .strategy-note {
                  margin-top: 15px;
                  padding: 12px;
                  background: var(--bg-primary);
                  border-left: 4px solid var(--primary);
                  border-radius: 4px;
                  font-size: 0.9rem;
                  color: var(--text-secondary);
                  line-height: 1.6;
                }

                .strategy-note strong {
                  color: var(--text-primary);
                }
              </style>

              <div class="element-strategies">
                <!-- æŒ‰é’®ç­–ç•¥ -->
                <div class="strategy-group">
                  <h3>
                    <span>ğŸ”˜</span>
                    æŒ‰é’® (Buttons)
                  </h3>
                  <p class="strategy-description">
                    <strong>ç­–ç•¥ï¼š</strong>ä½¿ç”¨ <code>:focus-visible</code>ï¼Œé¼ æ ‡ç‚¹å‡»æ—¶ä¸æ˜¾ç¤ºç„¦ç‚¹ç¯ï¼Œé”®ç›˜å¯¼èˆªæ—¶æ˜¾ç¤ºã€‚
                    è¿™æ˜¯æœ€å¸¸è§çš„ä½¿ç”¨åœºæ™¯ã€‚
                  </p>
                  <div>
                    <button class="demo-button">ä¸»è¦æŒ‰é’®</button>
                    <button class="demo-button secondary">æ¬¡è¦æŒ‰é’®</button>
                    <button class="demo-button" disabled style="opacity: 0.5; cursor: not-allowed">ç¦ç”¨æŒ‰é’®</button>
                  </div>
                  <div class="strategy-note">
                    <strong>ğŸ’¡ ä¸ºä»€ä¹ˆï¼Ÿ</strong>
                    æŒ‰é’®ç‚¹å‡»åé€šå¸¸ä¼šè§¦å‘æŸä¸ªåŠ¨ä½œï¼Œç”¨æˆ·çš„æ³¨æ„åŠ›ä¼šè½¬ç§»åˆ°åŠ¨ä½œç»“æœä¸Šï¼Œ
                    ä¸éœ€è¦æŒç»­æ˜¾ç¤ºç„¦ç‚¹ç¯ã€‚ä½†é”®ç›˜ç”¨æˆ·éœ€è¦çŸ¥é“å½“å‰ç„¦ç‚¹ä½ç½®ã€‚
                  </div>
                </div>

                <!-- é“¾æ¥ç­–ç•¥ -->
                <div class="strategy-group">
                  <h3>
                    <span>ğŸ”—</span>
                    é“¾æ¥ (Links)
                  </h3>
                  <p class="strategy-description">
                    <strong>ç­–ç•¥ï¼š</strong>ä½¿ç”¨ <code>:focus-visible</code>ï¼Œè¡Œä¸ºä¸æŒ‰é’®ç±»ä¼¼ã€‚
                    é¼ æ ‡ç‚¹å‡»æ—¶ä¸æ˜¾ç¤ºç„¦ç‚¹ç¯ï¼Œé”®ç›˜å¯¼èˆªæ—¶æ˜¾ç¤ºã€‚
                  </p>
                  <div>
                    <a class="demo-link" href="#" onclick="event.preventDefault()">æ–‡æœ¬é“¾æ¥</a>
                    <a class="demo-link" href="#" onclick="event.preventDefault()">å¯¼èˆªé“¾æ¥</a>
                    <a class="demo-link" href="#" onclick="event.preventDefault()">å¤–éƒ¨é“¾æ¥</a>
                  </div>
                  <div class="strategy-note">
                    <strong>ğŸ’¡ ä¸ºä»€ä¹ˆï¼Ÿ</strong>
                    é“¾æ¥çš„ç„¦ç‚¹è¡Œä¸ºåº”è¯¥ä¸æŒ‰é’®ä¸€è‡´ã€‚ç”¨æˆ·ç‚¹å‡»é“¾æ¥åä¼šè·³è½¬åˆ°æ–°é¡µé¢ï¼Œ ä¸éœ€è¦åœ¨å½“å‰é¡µé¢ä¿æŒç„¦ç‚¹æŒ‡ç¤ºå™¨ã€‚
                  </div>
                </div>

                <!-- è¾“å…¥æ¡†ç­–ç•¥ -->
                <div class="strategy-group">
                  <h3>
                    <span>ğŸ“</span>
                    è¾“å…¥æ¡† (Inputs)
                  </h3>
                  <p class="strategy-description">
                    <strong>ç­–ç•¥ï¼š</strong>ä½¿ç”¨ <code>:focus</code>ï¼Œæ— è®ºé¼ æ ‡è¿˜æ˜¯é”®ç›˜éƒ½æ˜¾ç¤ºç„¦ç‚¹çŠ¶æ€ã€‚
                    è¾“å…¥æ¡†æ˜¯ä¸ªä¾‹å¤–ï¼Œä¸åº”è¯¥ä½¿ç”¨ <code>:focus-visible</code>ã€‚
                  </p>
                  <div>
                    <input class="demo-input" type="text" placeholder="æ–‡æœ¬è¾“å…¥æ¡†" />
                    <input class="demo-input" type="email" placeholder="é‚®ç®±è¾“å…¥æ¡†" />
                    <input class="demo-input" type="password" placeholder="å¯†ç è¾“å…¥æ¡†" />
                  </div>
                  <div class="strategy-note">
                    <strong>ğŸ’¡ ä¸ºä»€ä¹ˆï¼Ÿ</strong>
                    è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹åï¼Œç”¨æˆ·éœ€è¦åœ¨å…¶ä¸­è¾“å…¥å†…å®¹ï¼Œç„¦ç‚¹çŠ¶æ€åº”è¯¥å§‹ç»ˆå¯è§ï¼Œ
                    æ— è®ºæ˜¯é€šè¿‡é¼ æ ‡ç‚¹å‡»è¿˜æ˜¯é”®ç›˜å¯¼èˆªè¿›å…¥çš„ã€‚è¿™æœ‰åŠ©äºç”¨æˆ·çŸ¥é“å½“å‰æ­£åœ¨ç¼–è¾‘å“ªä¸ªå­—æ®µã€‚
                  </div>
                </div>
              </div>
            </div>

            <div class="demo-code">
              <pre><code>/* æŒ‰é’®ï¼šä½¿ç”¨ :focus-visible */
.demo-button:focus {
  outline: none;
}

.demo-button:focus-visible {
  outline: 3px solid var(--primary);
  outline-offset: 3px;
}

/* é“¾æ¥ï¼šä½¿ç”¨ :focus-visible */
.demo-link:focus {
  outline: none;
}

.demo-link:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 4px;
}

/* è¾“å…¥æ¡†ï¼šä½¿ç”¨ :focusï¼ˆä¸ç”¨ :focus-visibleï¼‰ */
.demo-input:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
  outline: none;
}</code></pre>
            </div>
          </div>
        </section>

        <!-- æ— éšœç¢è®¿é—®æœ€ä½³å®è·µ -->
        <section class="demo-section">
          <h2>æ— éšœç¢è®¿é—®æœ€ä½³å®è·µ</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            ä½¿ç”¨ <code>:focus-visible</code> æ—¶ï¼ŒåŠ¡å¿…éµå¾ªæ— éšœç¢è®¿é—®çš„æœ€ä½³å®è·µï¼Œ ç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½è·å¾—è‰¯å¥½çš„ä½“éªŒã€‚
          </p>

          <div class="info-box">
            <strong>âœ… æ¨èåšæ³•ï¼š</strong>
            <ul>
              <li><strong>å§‹ç»ˆæä¾›ç„¦ç‚¹æ ·å¼</strong> - ä¸è¦å®Œå…¨ç§»é™¤ç„¦ç‚¹æŒ‡ç¤ºå™¨ï¼Œåªæ˜¯æ™ºèƒ½åœ°æ˜¾ç¤ºå®ƒ</li>
              <li><strong>ä¿æŒé«˜å¯¹æ¯”åº¦</strong> - ç„¦ç‚¹ç¯åº”è¯¥åœ¨ä»»ä½•èƒŒæ™¯ä¸‹éƒ½æ¸…æ™°å¯è§ï¼ˆè‡³å°‘ 3:1 å¯¹æ¯”åº¦ï¼‰</li>
              <li><strong>ä½¿ç”¨ outline è€Œé border</strong> - outline ä¸å½±å“å¸ƒå±€ï¼Œé¿å…å…ƒç´ è·³åŠ¨</li>
              <li><strong>æ·»åŠ  outline-offset</strong> - è®©ç„¦ç‚¹ç¯ä¸å…ƒç´ ä¿æŒè·ç¦»ï¼Œæ›´ç¾è§‚ä¸”æ›´æ˜“è¯†åˆ«</li>
              <li><strong>æµ‹è¯•é”®ç›˜å¯¼èˆª</strong> - ç¡®ä¿æ‰€æœ‰äº¤äº’å…ƒç´ éƒ½å¯ä»¥é€šè¿‡ Tab é”®è®¿é—®</li>
              <li>
                <strong>è¾“å…¥æ¡†ä¾‹å¤–</strong> - è¾“å…¥æ¡†åº”è¯¥å§‹ç»ˆæ˜¾ç¤ºç„¦ç‚¹çŠ¶æ€ï¼Œä½¿ç”¨ <code>:focus</code> è€Œé
                <code>:focus-visible</code>
              </li>
            </ul>
          </div>

          <div class="info-box warning">
            <strong>âŒ é¿å…çš„åšæ³•ï¼š</strong>
            <ul>
              <li>
                <strong>ä¸è¦å®Œå…¨ç§»é™¤ç„¦ç‚¹æ ·å¼</strong> - <code>outline: none</code> å¿…é¡»é…åˆ
                <code>:focus-visible</code> ä½¿ç”¨
              </li>
              <li><strong>ä¸è¦ä½¿ç”¨ä½å¯¹æ¯”åº¦é¢œè‰²</strong> - æµ…ç°è‰²ç„¦ç‚¹ç¯å¯¹è§†åŠ›éšœç¢ç”¨æˆ·ä¸å‹å¥½</li>
              <li><strong>ä¸è¦ä¾èµ–é¢œè‰²</strong> - é™¤äº†é¢œè‰²å˜åŒ–ï¼Œè¿˜åº”è¯¥æœ‰å…¶ä»–è§†è§‰æç¤ºï¼ˆå¦‚è¾¹æ¡†ã€é˜´å½±ï¼‰</li>
              <li>
                <strong>ä¸è¦åœ¨æ‰€æœ‰å…ƒç´ ä¸Šä½¿ç”¨ :focus-visible</strong> - è¾“å…¥æ¡†ç­‰éœ€è¦æŒç»­æ˜¾ç¤ºç„¦ç‚¹çš„å…ƒç´ åº”è¯¥ä½¿ç”¨
                <code>:focus</code>
              </li>
            </ul>
          </div>
        </section>

        <!-- æµè§ˆå™¨å…¼å®¹æ€§ -->
        <section class="compatibility-section">
          <h2>æµè§ˆå™¨å…¼å®¹æ€§</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            <code>:focus-visible</code> æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„ç‰¹æ€§ï¼Œä½†åœ¨ç°ä»£æµè§ˆå™¨ä¸­å·²ç»å¾—åˆ°äº†å¹¿æ³›æ”¯æŒã€‚
          </p>

          <div class="compatibility-table">
            <table>
              <thead>
                <tr>
                  <th>æµè§ˆå™¨</th>
                  <th>ç‰ˆæœ¬æ”¯æŒ</th>
                  <th>å‘å¸ƒæ—¶é—´</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <span class="browser-icon">ğŸŒ</span>
                    Chrome / Edge
                  </td>
                  <td><span class="support-badge yes">âœ“ 86+</span></td>
                  <td>2020å¹´10æœˆ</td>
                </tr>
                <tr>
                  <td>
                    <span class="browser-icon">ğŸ¦Š</span>
                    Firefox
                  </td>
                  <td><span class="support-badge yes">âœ“ 85+</span></td>
                  <td>2021å¹´1æœˆ</td>
                </tr>
                <tr>
                  <td>
                    <span class="browser-icon">ğŸ§­</span>
                    Safari
                  </td>
                  <td><span class="support-badge yes">âœ“ 15.4+</span></td>
                  <td>2022å¹´3æœˆ</td>
                </tr>
                <tr>
                  <td>
                    <span class="browser-icon">ğŸ“±</span>
                    iOS Safari
                  </td>
                  <td><span class="support-badge yes">âœ“ 15.4+</span></td>
                  <td>2022å¹´3æœˆ</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-box">
            <strong>ğŸ’¡ ä½¿ç”¨å»ºè®®ï¼š</strong>
            <ul>
              <li><strong>æ¸è¿›å¢å¼º</strong> - æ—§ç‰ˆæµè§ˆå™¨ä¼šå›é€€åˆ° <code>:focus</code> è¡Œä¸ºï¼Œä¸å½±å“åŸºæœ¬åŠŸèƒ½</li>
              <li>
                <strong>Polyfill å¯ç”¨</strong> - å¦‚éœ€æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨ï¼Œå¯ä»¥ä½¿ç”¨
                <a
                  href="https://github.com/WICG/focus-visible"
                  target="_blank"
                  rel="noopener"
                  style="color: var(--primary)"
                  >focus-visible polyfill</a
                >
              </li>
              <li><strong>ç‰¹æ€§æ£€æµ‹</strong> - å¯ä»¥ä½¿ç”¨ <code>@supports selector(:focus-visible)</code> æ£€æµ‹æ”¯æŒæƒ…å†µ</li>
              <li><strong>ç°ä»£é¡¹ç›®æ¨è</strong> - å¦‚æœä¸éœ€è¦æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨ï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨</li>
            </ul>
          </div>

          <div class="info-box warning">
            <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong>
            <ul>
              <li>IE æµè§ˆå™¨å®Œå…¨ä¸æ”¯æŒ <code>:focus-visible</code></li>
              <li>Safari 15.4 ä¹‹å‰çš„ç‰ˆæœ¬ä¸æ”¯æŒï¼Œä½†å¯ä»¥ä½¿ç”¨ polyfill</li>
              <li>åœ¨ä¸æ”¯æŒçš„æµè§ˆå™¨ä¸­ï¼Œ<code>:focus-visible</code> è§„åˆ™ä¼šè¢«å¿½ç•¥</li>
              <li>å»ºè®®åŒæ—¶ä¿ç•™ <code>:focus</code> æ ·å¼ä½œä¸ºé™çº§æ–¹æ¡ˆ</li>
            </ul>
          </div>

          <p style="margin-top: 20px">
            <a
              href="https://caniuse.com/css-focus-visible"
              target="_blank"
              rel="noopener"
              style="color: var(--primary); text-decoration: none; font-weight: 600"
            >
              â†’ æŸ¥çœ‹å®Œæ•´çš„æµè§ˆå™¨å…¼å®¹æ€§æ•°æ® (Can I Use)
            </a>
          </p>
        </section>

        <!-- æ€»ç»“ -->
        <section class="concept-section" style="margin-top: 40px">
          <h2>æ€»ç»“</h2>
          <p>
            <code>:focus-visible</code> æ˜¯ç°ä»£ Web å¼€å‘ä¸­éå¸¸é‡è¦çš„ä¼ªç±»é€‰æ‹©å™¨ï¼Œ
            å®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¿æŒè‰¯å¥½æ— éšœç¢è®¿é—®çš„åŒæ—¶ï¼Œæä¾›æ›´æ¸…çˆ½çš„è§†è§‰ä½“éªŒã€‚
          </p>
          <div class="info-box">
            <strong>ğŸ¯ æ ¸å¿ƒè¦ç‚¹ï¼š</strong>
            <ul>
              <li>æµè§ˆå™¨æ ¹æ®è¾“å…¥æ–¹å¼æ™ºèƒ½åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºç„¦ç‚¹æŒ‡ç¤ºå™¨</li>
              <li>é¼ æ ‡ç‚¹å‡»æŒ‰é’®æ—¶ä¸æ˜¾ç¤ºç„¦ç‚¹ç¯ï¼Œé”®ç›˜å¯¼èˆªæ—¶æ˜¾ç¤º</li>
              <li>è¾“å…¥æ¡†åº”è¯¥ä½¿ç”¨ <code>:focus</code> è€Œé <code>:focus-visible</code></li>
              <li>å§‹ç»ˆä¸º <code>:focus-visible</code> æä¾›æ¸…æ™°çš„ç„¦ç‚¹æ ·å¼</li>
              <li>ä½¿ç”¨ <code>outline</code> è€Œé <code>border</code> å®ç°ç„¦ç‚¹æŒ‡ç¤ºå™¨</li>
              <li>é…åˆ <code>outline-offset</code> è®©ç„¦ç‚¹ç¯æ›´ç¾è§‚</li>
            </ul>
          </div>
          <p>
            é€šè¿‡åˆç†ä½¿ç”¨ <code>:focus-visible</code>ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›é€ å‡ºæ—¢ç¾è§‚åˆæ˜“ç”¨çš„ç•Œé¢ï¼Œ
            è®©é¼ æ ‡ç”¨æˆ·å’Œé”®ç›˜ç”¨æˆ·éƒ½èƒ½è·å¾—æœ€ä½³ä½“éªŒã€‚è¿™æ˜¯ç°ä»£ Web æ— éšœç¢è®¿é—®çš„é‡è¦å®è·µã€‚
          </p>
          <p>
            åœ¨ä¸‹ä¸€ä¸ªæ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹  <code>:nth-child()</code> çš„é«˜çº§ç”¨æ³•ï¼Œ æ¢ç´¢å¦‚ä½•ä½¿ç”¨ An+B
            è¯­æ³•å®ç°å¤æ‚çš„å…ƒç´ é€‰æ‹©æ¨¡å¼ã€‚
          </p>
        </section>
      </div>
    </main>
  </body>
</html>
