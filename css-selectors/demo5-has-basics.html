<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>:has() åŸºç¡€ - CSS ç°ä»£é€‰æ‹©å™¨</title>
    <link href="/src/styles/common.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script>
      (function () {
        try {
          const theme = localStorage.getItem('themeMode') || 'light';
          const color = localStorage.getItem('primaryColor') || '#10b981';
          let actualTheme = theme;
          if (theme === 'auto') {
            actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', actualTheme);
          document.documentElement.style.setProperty('--primary', color);
        } catch (e) {
          console.log(e);
        }
      })();
    </script>
    <script type="module" src="/src/theme.js"></script>
  </head>
  <body>
    <!-- å·¦ä¾§è¾¹æ å¯¼èˆª -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>CSS ç°ä»£é€‰æ‹©å™¨</h1>
        <a class="back-home" href="index.html">â† è¿”å›ä¸»é¡µ</a>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <h3>åŸºç¡€æ¦‚å¿µ</h3>
          <a class="nav-item" href="demo1-specificity.html">é€‰æ‹©å™¨ä¼˜å…ˆçº§</a>
        </div>
        <div class="nav-section">
          <h3>é€»è¾‘é€‰æ‹©å™¨</h3>
          <a class="nav-item" href="demo2-is.html">:is() ä¼ªç±»</a>
          <a class="nav-item" href="demo3-where.html">:where() ä¼ªç±»</a>
          <a class="nav-item" href="demo4-not.html">:not() ä¼ªç±»</a>
        </div>
        <div class="nav-section">
          <h3>çˆ¶å­å…³ç³»é€‰æ‹©å™¨</h3>
          <a class="nav-item active" href="demo5-has-basics.html">:has() åŸºç¡€</a>
          <a class="nav-item" href="demo6-has-practical.html">:has() å®æˆ˜</a>
        </div>
        <div class="nav-section">
          <h3>çŠ¶æ€é€‰æ‹©å™¨</h3>
          <a class="nav-item" href="demo7-focus-within.html">:focus-within</a>
          <a class="nav-item" href="demo8-focus-visible.html">:focus-visible</a>
        </div>
        <div class="nav-section">
          <h3>ç»“æ„é€‰æ‹©å™¨è¿›é˜¶</h3>
          <a class="nav-item" href="demo9-nth-child.html">:nth-child() é«˜çº§</a>
          <a class="nav-item" href="demo10-nth-comparison.html">ç»“æ„é€‰æ‹©å™¨å¯¹æ¯”</a>
        </div>
        <div class="nav-section">
          <h3>ç»¼åˆå®æˆ˜</h3>
          <a class="nav-item" href="demo11-combinations.html">é€‰æ‹©å™¨ç»„åˆå®æˆ˜</a>
        </div>
      </nav>
    </aside>

    <!-- å³ä¾§ä¸»å†…å®¹åŒº -->
    <main class="main-content">
      <div class="demo-page">
        <h1>:has() åŸºç¡€</h1>
        <p class="subtitle">é©å‘½æ€§çš„çˆ¶é€‰æ‹©å™¨ï¼Œæ ¹æ®å­å…ƒç´ é€‰æ‹©çˆ¶å…ƒç´ </p>

        <!-- æ¦‚å¿µä»‹ç» -->
        <section class="concept-section">
          <h2>ä»€ä¹ˆæ˜¯ :has() ä¼ªç±»ï¼Ÿ</h2>
          <p>
            <code>:has()</code> æ˜¯ CSS ä¸­æœ€å…·é©å‘½æ€§çš„é€‰æ‹©å™¨ä¹‹ä¸€ï¼Œå®ƒå…è®¸ä½ <strong>æ ¹æ®å­å…ƒç´ çš„çŠ¶æ€æ¥é€‰æ‹©çˆ¶å…ƒç´ </strong>ã€‚
            è¿™åœ¨ä»¥å‰è¢«ç§°ä¸º"çˆ¶é€‰æ‹©å™¨"ï¼Œæ˜¯å¼€å‘è€…æœŸå¾…å·²ä¹…çš„åŠŸèƒ½ã€‚
          </p>
          <p>
            åœ¨ <code>:has()</code> å‡ºç°ä¹‹å‰ï¼ŒCSS åªèƒ½ä»çˆ¶å…ƒç´ å‘ä¸‹é€‰æ‹©å­å…ƒç´ ï¼Œæ— æ³•åå‘é€‰æ‹©ã€‚
            ç°åœ¨ï¼Œä½ å¯ä»¥æ ¹æ®å…ƒç´ å†…éƒ¨åŒ…å«çš„å†…å®¹æ¥æ”¹å˜è¯¥å…ƒç´ çš„æ ·å¼ï¼Œè¿™ä¸ºæ ·å¼æ§åˆ¶å¸¦æ¥äº†å‰æ‰€æœªæœ‰çš„çµæ´»æ€§ã€‚
          </p>
          <ul>
            <li><strong>çˆ¶é€‰æ‹©å™¨èƒ½åŠ›</strong> - æ ¹æ®å­å…ƒç´ çŠ¶æ€é€‰æ‹©çˆ¶å…ƒç´ </li>
            <li><strong>æ¡ä»¶æ ·å¼</strong> - æ ¹æ®å†…å®¹åŠ¨æ€è°ƒæ•´å¸ƒå±€å’Œæ ·å¼</li>
            <li><strong>å‡å°‘ JavaScript</strong> - è®¸å¤šä»¥å‰éœ€è¦ JS çš„åœºæ™¯ç°åœ¨å¯ä»¥ç”¨çº¯ CSS å®ç°</li>
            <li><strong>æé«˜å¯ç»´æŠ¤æ€§</strong> - æ ·å¼é€»è¾‘æ›´åŠ æ¸…æ™°å’Œé›†ä¸­</li>
          </ul>
        </section>

        <!-- çˆ¶å­å…³ç³»å¯è§†åŒ– -->
        <section class="demo-section">
          <h2>çˆ¶å­å…³ç³»å¯è§†åŒ–</h2>
          <p style="color: var(--text-secondary); margin-bottom: 25px">
            ç†è§£ <code>:has()</code> çš„å…³é”®åœ¨äºç†è§£å®ƒå¦‚ä½•æ”¹å˜é€‰æ‹©æ–¹å‘ã€‚è®©æˆ‘ä»¬é€šè¿‡å¯è§†åŒ–æ¥ç†è§£è¿™ä¸ªæ¦‚å¿µã€‚
          </p>

          <div class="demo-container single-column">
            <div class="demo-preview" style="min-height: auto">
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px">
                <!-- ä¼ ç»Ÿé€‰æ‹©å™¨ -->
                <div>
                  <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1.1rem">
                    âŒ ä¼ ç»Ÿé€‰æ‹©å™¨ï¼ˆå‘ä¸‹é€‰æ‹©ï¼‰
                  </h4>
                  <div
                    style="
                      background: var(--bg-primary);
                      border: 2px solid var(--border-color);
                      border-radius: var(--radius-md);
                      padding: 20px;
                    "
                  >
                    <div
                      style="
                        background: var(--error-light);
                        border: 2px solid var(--error);
                        border-radius: var(--radius-md);
                        padding: 15px;
                        margin-bottom: 10px;
                      "
                    >
                      <div style="font-weight: 600; color: var(--error-dark); margin-bottom: 8px">
                        çˆ¶å…ƒç´  (æ— æ³•é€‰æ‹©)
                      </div>
                      <div style="font-size: 0.85rem; color: var(--text-secondary)">é€‰æ‹©å™¨: <code>.parent</code></div>
                    </div>
                    <div style="margin-left: 20px; border-left: 3px solid var(--border-color); padding-left: 15px">
                      <div
                        style="
                          background: var(--success-light);
                          border: 2px solid var(--success);
                          border-radius: var(--radius-md);
                          padding: 12px;
                        "
                      >
                        <div style="font-weight: 600; color: var(--success-dark); margin-bottom: 8px">
                          å­å…ƒç´  (å¯ä»¥é€‰æ‹©)
                        </div>
                        <div style="font-size: 0.85rem; color: var(--text-secondary)">
                          é€‰æ‹©å™¨: <code>.parent .child</code>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    style="
                      margin-top: 15px;
                      padding: 12px;
                      background: var(--gray-100);
                      border-radius: var(--radius-md);
                      font-size: 0.9rem;
                      color: var(--text-secondary);
                    "
                  >
                    <strong>é™åˆ¶ï¼š</strong>åªèƒ½ä»çˆ¶å…ƒç´ å‘ä¸‹é€‰æ‹©å­å…ƒç´ ï¼Œæ— æ³•æ ¹æ®å­å…ƒç´ çŠ¶æ€é€‰æ‹©çˆ¶å…ƒç´ ã€‚
                  </div>
                </div>

                <!-- :has() é€‰æ‹©å™¨ -->
                <div>
                  <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1.1rem">
                    âœ… :has() é€‰æ‹©å™¨ï¼ˆå‘ä¸Šé€‰æ‹©ï¼‰
                  </h4>
                  <div
                    style="
                      background: var(--bg-primary);
                      border: 2px solid var(--border-color);
                      border-radius: var(--radius-md);
                      padding: 20px;
                    "
                  >
                    <div
                      style="
                        background: var(--success-light);
                        border: 2px solid var(--success);
                        border-radius: var(--radius-md);
                        padding: 15px;
                        margin-bottom: 10px;
                      "
                    >
                      <div style="font-weight: 600; color: var(--success-dark); margin-bottom: 8px">
                        çˆ¶å…ƒç´  (å¯ä»¥é€‰æ‹©ï¼)
                      </div>
                      <div style="font-size: 0.85rem; color: var(--text-secondary)">
                        é€‰æ‹©å™¨: <code>.parent:has(.child)</code>
                      </div>
                    </div>
                    <div style="margin-left: 20px; border-left: 3px solid var(--primary); padding-left: 15px">
                      <div
                        style="
                          background: var(--primary-light);
                          border: 2px solid var(--primary);
                          border-radius: var(--radius-md);
                          padding: 12px;
                        "
                      >
                        <div style="font-weight: 600; color: var(--primary-dark); margin-bottom: 8px">
                          å­å…ƒç´  (æ¡ä»¶)
                        </div>
                        <div style="font-size: 0.85rem; color: var(--text-secondary)">
                          åŒ¹é…æ¡ä»¶: <code>.child</code>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    style="
                      margin-top: 15px;
                      padding: 12px;
                      background: var(--success-light);
                      border-radius: var(--radius-md);
                      font-size: 0.9rem;
                      color: var(--success-dark);
                    "
                  >
                    <strong>çªç ´ï¼š</strong>å¯ä»¥æ ¹æ®å­å…ƒç´ çš„å­˜åœ¨æˆ–çŠ¶æ€æ¥é€‰æ‹©å¹¶æ ·å¼åŒ–çˆ¶å…ƒç´ ï¼
                  </div>
                </div>
              </div>

              <!-- å®é™…ç¤ºä¾‹ -->
              <div style="border-top: 2px solid var(--border-color); padding-top: 25px">
                <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1.1rem">ğŸ’¡ å®é™…ç¤ºä¾‹å¯¹æ¯”</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px">
                  <div>
                    <div style="font-weight: 600; color: var(--text-secondary); margin-bottom: 10px; font-size: 0.9rem">
                      ä¼ ç»Ÿæ–¹å¼ï¼ˆéœ€è¦ JavaScriptï¼‰
                    </div>
                    <pre
                      style="
                        background: var(--gray-800);
                        color: var(--gray-200);
                        padding: 15px;
                        border-radius: var(--radius-md);
                        font-size: 0.85rem;
                        line-height: 1.5;
                        margin: 0;
                      "
                    ><code><span class="code-comment">/* CSS */</span>
.card.has-image {
  border: 2px solid blue;
}

<span class="code-comment">/* JavaScript å¿…éœ€ */</span>
if (card.querySelector('img')) {
  card.classList.add('has-image');
}</code></pre>
                  </div>
                  <div>
                    <div style="font-weight: 600; color: var(--success-dark); margin-bottom: 10px; font-size: 0.9rem">
                      ä½¿ç”¨ :has()ï¼ˆçº¯ CSSï¼‰
                    </div>
                    <pre
                      style="
                        background: var(--gray-800);
                        color: var(--gray-200);
                        padding: 15px;
                        border-radius: var(--radius-md);
                        font-size: 0.85rem;
                        line-height: 1.5;
                        margin: 0;
                      "
                    ><code><span class="code-comment">/* çº¯ CSSï¼Œæ— éœ€ JavaScript */</span>
.card:has(img) {
  border: 2px solid blue;
}


<span class="code-comment">/* è‡ªåŠ¨å“åº” DOM å˜åŒ– */</span></code></pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ä¸ä¼ ç»Ÿé€‰æ‹©å™¨å¯¹æ¯” -->
        <section class="demo-section">
          <h2>ä¸ä¼ ç»Ÿé€‰æ‹©å™¨çš„å¯¹æ¯”</h2>
          <p style="color: var(--text-secondary); margin-bottom: 25px">
            è®©æˆ‘ä»¬é€šè¿‡å…·ä½“çš„ä»£ç ç¤ºä¾‹æ¥ç†è§£ <code>:has()</code> ä¸ä¼ ç»Ÿé€‰æ‹©å™¨çš„åŒºåˆ«ã€‚
          </p>

          <div class="demo-container">
            <!-- ä¼ ç»Ÿé€‰æ‹©å™¨ç¤ºä¾‹ -->
            <div>
              <div class="demo-preview-title">ä¼ ç»Ÿé€‰æ‹©å™¨</div>
              <div class="demo-preview" style="min-height: 200px">
                <div
                  style="
                    background: var(--bg-primary);
                    border: 2px solid var(--border-color);
                    border-radius: var(--radius-md);
                    padding: 15px;
                    margin-bottom: 15px;
                  "
                >
                  <div style="font-weight: 600; margin-bottom: 8px">å¡ç‰‡å®¹å™¨</div>
                  <div
                    style="
                      margin-left: 15px;
                      padding: 10px;
                      background: var(--primary-light);
                      border-radius: var(--radius-sm);
                    "
                  >
                    <div style="font-weight: 600; color: var(--primary-dark)">âœ“ å›¾ç‰‡ï¼ˆå¯ä»¥é€‰æ‹©ï¼‰</div>
                  </div>
                </div>
                <div style="font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6">
                  <strong>é—®é¢˜ï¼š</strong>æˆ‘ä»¬å¯ä»¥é€‰æ‹©å›¾ç‰‡ï¼Œä½†æ— æ³•æ ¹æ®å›¾ç‰‡çš„å­˜åœ¨æ¥æ”¹å˜å¡ç‰‡å®¹å™¨çš„æ ·å¼ã€‚
                </div>
              </div>
              <div class="demo-code">
                <pre><code><span class="code-comment">/* åªèƒ½é€‰æ‹©å­å…ƒç´  */</span>
.card img {
  border-radius: 8px;
}

<span class="code-comment">/* âŒ æ— æ³•å®ç°ï¼š
   "å¦‚æœå¡ç‰‡åŒ…å«å›¾ç‰‡ï¼Œ
    æ”¹å˜å¡ç‰‡çš„è¾¹æ¡†é¢œè‰²" */</span></code></pre>
              </div>
            </div>

            <!-- :has() é€‰æ‹©å™¨ç¤ºä¾‹ -->
            <div>
              <div class="demo-preview-title">:has() é€‰æ‹©å™¨</div>
              <div class="demo-preview" style="min-height: 200px">
                <div
                  style="
                    background: var(--bg-primary);
                    border: 2px solid var(--success);
                    border-radius: var(--radius-md);
                    padding: 15px;
                    margin-bottom: 15px;
                    box-shadow: 0 0 0 3px var(--success-light);
                  "
                >
                  <div style="font-weight: 600; color: var(--success-dark); margin-bottom: 8px">
                    âœ“ å¡ç‰‡å®¹å™¨ï¼ˆå¯ä»¥é€‰æ‹©ï¼ï¼‰
                  </div>
                  <div
                    style="
                      margin-left: 15px;
                      padding: 10px;
                      background: var(--primary-light);
                      border-radius: var(--radius-sm);
                    "
                  >
                    <div style="font-weight: 600; color: var(--primary-dark)">å›¾ç‰‡ï¼ˆæ¡ä»¶ï¼‰</div>
                  </div>
                </div>
                <div style="font-size: 0.9rem; color: var(--success-dark); line-height: 1.6">
                  <strong>è§£å†³ï¼š</strong>å¯ä»¥æ ¹æ®å›¾ç‰‡çš„å­˜åœ¨æ¥æ”¹å˜å¡ç‰‡å®¹å™¨çš„æ ·å¼ï¼
                </div>
              </div>
              <div class="demo-code">
                <pre><code><span class="code-comment">/* æ ¹æ®å­å…ƒç´ é€‰æ‹©çˆ¶å…ƒç´  */</span>
.card:has(img) {
  border: 2px solid green;
  box-shadow: 0 0 0 3px lightgreen;
}

<span class="code-comment">/* âœ… å®Œç¾å®ç°ï¼š
   "å¦‚æœå¡ç‰‡åŒ…å«å›¾ç‰‡ï¼Œ
    æ”¹å˜å¡ç‰‡çš„è¾¹æ¡†é¢œè‰²" */</span></code></pre>
              </div>
            </div>
          </div>

          <div
            style="
              background: var(--info-light);
              border-left: 4px solid var(--info);
              padding: 20px;
              border-radius: var(--radius-md);
              margin-top: 30px;
            "
          >
            <strong style="color: var(--info-dark); font-size: 1.1rem">ğŸ¯ æ ¸å¿ƒç†è§£</strong>
            <div style="color: var(--text-primary); margin-top: 12px; line-height: 1.8">
              <p style="margin-bottom: 10px">
                <strong>ä¼ ç»Ÿé€‰æ‹©å™¨ï¼š</strong><code>.parent .child</code> - é€‰æ‹© .parent å†…çš„ .child
              </p>
              <p style="margin-bottom: 10px">
                <strong>:has() é€‰æ‹©å™¨ï¼š</strong><code>.parent:has(.child)</code> - é€‰æ‹©åŒ…å« .child çš„ .parent
              </p>
              <p style="margin-bottom: 0">
                <strong>å…³é”®åŒºåˆ«ï¼š</strong>é€‰æ‹©çš„ç›®æ ‡ä¸åŒï¼ä¼ ç»Ÿé€‰æ‹©å™¨é€‰æ‹©å­å…ƒç´ ï¼Œ:has() é€‰æ‹©çˆ¶å…ƒç´ ã€‚
              </p>
            </div>
          </div>
        </section>

        <!-- å¸¸è§ä½¿ç”¨åœºæ™¯é¢„è§ˆ -->
        <section class="demo-section">
          <h2>å¸¸è§ä½¿ç”¨åœºæ™¯</h2>
          <p style="color: var(--text-secondary); margin-bottom: 25px">
            <code>:has()</code> å¯ä»¥è§£å†³è®¸å¤šä»¥å‰éœ€è¦ JavaScript æ‰èƒ½å®ç°çš„æ ·å¼éœ€æ±‚ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§åœºæ™¯ï¼š
          </p>

          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px">
            <!-- åœºæ™¯ 1 -->
            <div
              style="
                background: var(--card-bg);
                border: 2px solid var(--border-color);
                border-radius: var(--radius-lg);
                padding: 20px;
              "
            >
              <div style="font-size: 1.5rem; margin-bottom: 10px">ğŸ“</div>
              <h3 style="color: var(--text-primary); font-size: 1.1rem; margin-bottom: 10px">è¡¨å•éªŒè¯</h3>
              <p style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-bottom: 12px">
                æ ¹æ®è¾“å…¥æ¡†çš„éªŒè¯çŠ¶æ€æ”¹å˜è¡¨å•å®¹å™¨çš„æ ·å¼
              </p>
              <code
                style="
                  background: var(--gray-800);
                  color: var(--gray-200);
                  padding: 8px;
                  border-radius: 4px;
                  font-size: 0.85rem;
                  display: block;
                "
              >
                form:has(input:invalid)
              </code>
            </div>

            <!-- åœºæ™¯ 2 -->
            <div
              style="
                background: var(--card-bg);
                border: 2px solid var(--border-color);
                border-radius: var(--radius-lg);
                padding: 20px;
              "
            >
              <div style="font-size: 1.5rem; margin-bottom: 10px">ğŸ´</div>
              <h3 style="color: var(--text-primary); font-size: 1.1rem; margin-bottom: 10px">å¡ç‰‡å¸ƒå±€</h3>
              <p style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-bottom: 12px">
                æ ¹æ®å¡ç‰‡æ˜¯å¦åŒ…å«å›¾ç‰‡è°ƒæ•´å¸ƒå±€
              </p>
              <code
                style="
                  background: var(--gray-800);
                  color: var(--gray-200);
                  padding: 8px;
                  border-radius: 4px;
                  font-size: 0.85rem;
                  display: block;
                "
              >
                .card:has(img)
              </code>
            </div>

            <!-- åœºæ™¯ 3 -->
            <div
              style="
                background: var(--card-bg);
                border: 2px solid var(--border-color);
                border-radius: var(--radius-lg);
                padding: 20px;
              "
            >
              <div style="font-size: 1.5rem; margin-bottom: 10px">ğŸ§­</div>
              <h3 style="color: var(--text-primary); font-size: 1.1rem; margin-bottom: 10px">å¯¼èˆªé«˜äº®</h3>
              <p style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-bottom: 12px">
                é«˜äº®åŒ…å«å½“å‰é¡µé¢é“¾æ¥çš„å¯¼èˆªé¡¹
              </p>
              <code
                style="
                  background: var(--gray-800);
                  color: var(--gray-200);
                  padding: 8px;
                  border-radius: 4px;
                  font-size: 0.85rem;
                  display: block;
                "
              >
                nav li:has(a.active)
              </code>
            </div>

            <!-- åœºæ™¯ 4 -->
            <div
              style="
                background: var(--card-bg);
                border: 2px solid var(--border-color);
                border-radius: var(--radius-lg);
                padding: 20px;
              "
            >
              <div style="font-size: 1.5rem; margin-bottom: 10px">ğŸ›’</div>
              <h3 style="color: var(--text-primary); font-size: 1.1rem; margin-bottom: 10px">è´­ç‰©è½¦çŠ¶æ€</h3>
              <p style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-bottom: 12px">
                æ ¹æ®è´­ç‰©è½¦æ˜¯å¦ä¸ºç©ºæ˜¾ç¤ºä¸åŒå†…å®¹
              </p>
              <code
                style="
                  background: var(--gray-800);
                  color: var(--gray-200);
                  padding: 8px;
                  border-radius: 4px;
                  font-size: 0.85rem;
                  display: block;
                "
              >
                .cart:not(:has(.item))
              </code>
            </div>
          </div>

          <div
            style="
              background: var(--warning-light);
              border-left: 4px solid var(--warning);
              padding: 20px;
              border-radius: var(--radius-md);
              margin-top: 30px;
            "
          >
            <strong style="color: var(--warning-dark); font-size: 1.1rem">ğŸ’¡ æç¤º</strong>
            <p style="color: var(--text-primary); margin-top: 12px; line-height: 1.8; margin-bottom: 0">
              è¿™äº›åœºæ™¯å°†åœ¨åç»­çš„æ¼”ç¤ºä¸­è¯¦ç»†å±•ç¤ºã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å…ˆé€šè¿‡åŸºç¡€ç¤ºä¾‹æ¥ç†Ÿæ‚‰ <code>:has()</code> çš„è¯­æ³•å’Œç”¨æ³•ã€‚
            </p>
          </div>
        </section>

        <!-- åŸºç¡€è¯­æ³•ç¤ºä¾‹ -->
        <section class="demo-section">
          <h2>åŸºç¡€è¯­æ³•ç¤ºä¾‹</h2>
          <p style="color: var(--text-secondary); margin-bottom: 25px">
            è®©æˆ‘ä»¬é€šè¿‡å®é™…çš„äº¤äº’ç¤ºä¾‹æ¥å­¦ä¹  <code>:has()</code> çš„åŸºç¡€è¯­æ³•ã€‚æ¯ä¸ªç¤ºä¾‹éƒ½æ˜¯å¯äº¤äº’çš„ï¼Œä½ å¯ä»¥çœ‹åˆ°å®æ—¶æ•ˆæœã€‚
          </p>

          <!-- ç¤ºä¾‹ 1: é€‰æ‹©åŒ…å«ç‰¹å®šå­å…ƒç´ çš„çˆ¶å…ƒç´  -->
          <div class="demo-container">
            <div class="demo-preview-title">ç¤ºä¾‹ 1: é€‰æ‹©åŒ…å«ç‰¹å®šå­å…ƒç´ çš„çˆ¶å…ƒç´ </div>
            <div class="demo-preview">
              <style>
                .example1-card {
                  background: var(--card-bg);
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-md);
                  padding: 20px;
                  margin-bottom: 15px;
                  transition: all 0.3s ease;
                }

                .example1-card:has(img) {
                  border-color: var(--primary);
                  background: var(--primary-light);
                  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
                }

                .example1-card img {
                  width: 100%;
                  max-width: 200px;
                  height: 120px;
                  object-fit: cover;
                  border-radius: var(--radius-sm);
                  margin-top: 10px;
                }

                .example1-card h3 {
                  margin: 0 0 8px 0;
                  color: var(--text-primary);
                  font-size: 1.1rem;
                }

                .example1-card p {
                  margin: 0;
                  color: var(--text-secondary);
                  font-size: 0.9rem;
                }
              </style>

              <div class="example1-card">
                <h3>å¡ç‰‡ 1 - åŒ…å«å›¾ç‰‡</h3>
                <p>è¿™ä¸ªå¡ç‰‡åŒ…å«å›¾ç‰‡ï¼Œæ‰€ä»¥ä¼šè¢« :has(img) é€‰ä¸­</p>
                <img
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect fill='%2310b981' width='200' height='120'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-size='20' font-family='Arial'%3Eå›¾ç‰‡%3C/text%3E%3C/svg%3E"
                  alt="ç¤ºä¾‹å›¾ç‰‡"
                />
              </div>

              <div class="example1-card">
                <h3>å¡ç‰‡ 2 - ä¸åŒ…å«å›¾ç‰‡</h3>
                <p>è¿™ä¸ªå¡ç‰‡æ²¡æœ‰å›¾ç‰‡ï¼Œæ‰€ä»¥ä¸ä¼šè¢« :has(img) é€‰ä¸­</p>
              </div>

              <div class="example1-card">
                <h3>å¡ç‰‡ 3 - åŒ…å«å›¾ç‰‡</h3>
                <p>è¿™ä¸ªå¡ç‰‡ä¹ŸåŒ…å«å›¾ç‰‡ï¼ŒåŒæ ·ä¼šè¢«é€‰ä¸­</p>
                <img
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect fill='%233b82f6' width='200' height='120'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-size='20' font-family='Arial'%3Eå›¾ç‰‡%3C/text%3E%3C/svg%3E"
                  alt="ç¤ºä¾‹å›¾ç‰‡"
                />
              </div>

              <div
                style="
                  margin-top: 20px;
                  padding: 15px;
                  background: var(--info-light);
                  border-radius: var(--radius-md);
                  font-size: 0.9rem;
                  color: var(--text-primary);
                "
              >
                <strong>æ•ˆæœè¯´æ˜ï¼š</strong>åŒ…å«å›¾ç‰‡çš„å¡ç‰‡ä¼šæœ‰ç»¿è‰²è¾¹æ¡†ã€æµ…ç»¿è‰²èƒŒæ™¯å’Œé˜´å½±æ•ˆæœã€‚
              </div>
            </div>
            <div class="demo-code">
              <pre><code><span class="code-comment">/* é€‰æ‹©åŒ…å« img å…ƒç´ çš„å¡ç‰‡ */</span>
.card:has(img) {
  border-color: green;
  background: lightgreen;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
}

<span class="code-comment">/* HTML ç»“æ„ */</span>
&lt;div class="card"&gt;
  &lt;h3&gt;å¡ç‰‡ 1 - åŒ…å«å›¾ç‰‡&lt;/h3&gt;
  &lt;img src="..."&gt; <span class="code-comment">&lt;!-- è§¦å‘ :has() --&gt;</span>
&lt;/div&gt;

&lt;div class="card"&gt;
  &lt;h3&gt;å¡ç‰‡ 2 - ä¸åŒ…å«å›¾ç‰‡&lt;/h3&gt;
  <span class="code-comment">&lt;!-- æ²¡æœ‰ imgï¼Œä¸ä¼šè¢«é€‰ä¸­ --&gt;</span>
&lt;/div&gt;</code></pre>
            </div>
          </div>

          <!-- ç¤ºä¾‹ 2: é€‰æ‹©åŒ…å«ç‰¹å®šçŠ¶æ€å­å…ƒç´ çš„çˆ¶å…ƒç´  -->
          <div class="demo-container">
            <div class="demo-preview-title">ç¤ºä¾‹ 2: é€‰æ‹©åŒ…å«ç‰¹å®šçŠ¶æ€å­å…ƒç´ çš„çˆ¶å…ƒç´ </div>
            <div class="demo-preview">
              <style>
                .example2-form-group {
                  background: var(--card-bg);
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-md);
                  padding: 20px;
                  margin-bottom: 15px;
                  transition: all 0.3s ease;
                }

                .example2-form-group:has(input:checked) {
                  border-color: var(--success);
                  background: var(--success-light);
                }

                .example2-form-group:has(input:focus) {
                  border-color: var(--primary);
                  box-shadow: 0 0 0 3px var(--primary-light);
                }

                .example2-form-group label {
                  display: flex;
                  align-items: center;
                  gap: 10px;
                  cursor: pointer;
                  color: var(--text-primary);
                  font-size: 1rem;
                }

                .example2-form-group input[type='checkbox'] {
                  width: 20px;
                  height: 20px;
                  cursor: pointer;
                }

                .example2-form-group input[type='text'] {
                  width: 100%;
                  padding: 10px;
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-sm);
                  font-size: 1rem;
                  background: var(--bg-primary);
                  color: var(--text-primary);
                  margin-top: 8px;
                }

                .example2-form-group input[type='text']:focus {
                  outline: none;
                  border-color: var(--primary);
                }
              </style>

              <div class="example2-form-group">
                <label>
                  <input type="checkbox" />
                  <span>é€‰é¡¹ 1 - å‹¾é€‰æˆ‘è¯•è¯•</span>
                </label>
              </div>

              <div class="example2-form-group">
                <label>
                  <input type="checkbox" />
                  <span>é€‰é¡¹ 2 - ä¹Ÿå¯ä»¥å‹¾é€‰æˆ‘</span>
                </label>
              </div>

              <div class="example2-form-group">
                <label for="example2-input">è¾“å…¥æ¡† - ç‚¹å‡»èšç„¦</label>
                <input id="example2-input" type="text" placeholder="ç‚¹å‡»è¾“å…¥æ¡†æŸ¥çœ‹æ•ˆæœ" />
              </div>

              <div
                style="
                  margin-top: 20px;
                  padding: 15px;
                  background: var(--info-light);
                  border-radius: var(--radius-md);
                  font-size: 0.9rem;
                  color: var(--text-primary);
                "
              >
                <strong>æ•ˆæœè¯´æ˜ï¼š</strong>
                <ul style="margin: 10px 0 0 0; padding-left: 20px; line-height: 1.8">
                  <li>å‹¾é€‰å¤é€‰æ¡†æ—¶ï¼Œè¡¨å•ç»„ä¼šæ˜¾ç¤ºç»¿è‰²è¾¹æ¡†å’ŒèƒŒæ™¯</li>
                  <li>è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶ï¼Œè¡¨å•ç»„ä¼šæ˜¾ç¤ºè“è‰²è¾¹æ¡†å’Œå…‰æ™•</li>
                </ul>
              </div>
            </div>
            <div class="demo-code">
              <pre><code><span class="code-comment">/* é€‰æ‹©åŒ…å«å·²å‹¾é€‰å¤é€‰æ¡†çš„è¡¨å•ç»„ */</span>
.form-group:has(input:checked) {
  border-color: green;
  background: lightgreen;
}

<span class="code-comment">/* é€‰æ‹©åŒ…å«è·å¾—ç„¦ç‚¹è¾“å…¥æ¡†çš„è¡¨å•ç»„ */</span>
.form-group:has(input:focus) {
  border-color: blue;
  box-shadow: 0 0 0 3px lightblue;
}

<span class="code-comment">/* HTML ç»“æ„ */</span>
&lt;div class="form-group"&gt;
  &lt;label&gt;
    &lt;input type="checkbox"&gt;
    &lt;span&gt;é€‰é¡¹ 1&lt;/span&gt;
  &lt;/label&gt;
&lt;/div&gt;</code></pre>
            </div>
          </div>

          <!-- ç¤ºä¾‹ 3: é€‰æ‹©åŒ…å«ç‰¹å®šç±»åå­å…ƒç´ çš„çˆ¶å…ƒç´  -->
          <div class="demo-container">
            <div class="demo-preview-title">ç¤ºä¾‹ 3: é€‰æ‹©åŒ…å«ç‰¹å®šç±»åå­å…ƒç´ çš„çˆ¶å…ƒç´ </div>
            <div class="demo-preview">
              <style>
                .example3-list {
                  background: var(--card-bg);
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-md);
                  padding: 20px;
                  margin-bottom: 15px;
                  transition: all 0.3s ease;
                }

                .example3-list:has(.error) {
                  border-color: var(--error);
                  background: var(--error-light);
                }

                .example3-list:has(.warning) {
                  border-color: var(--warning);
                  background: var(--warning-light);
                }

                .example3-list:has(.success) {
                  border-color: var(--success);
                  background: var(--success-light);
                }

                .example3-list h4 {
                  margin: 0 0 15px 0;
                  color: var(--text-primary);
                  font-size: 1rem;
                }

                .example3-list ul {
                  list-style: none;
                  padding: 0;
                  margin: 0;
                }

                .example3-list li {
                  padding: 10px;
                  margin-bottom: 8px;
                  border-radius: var(--radius-sm);
                  background: var(--bg-primary);
                  color: var(--text-primary);
                }

                .example3-list li.error {
                  background: var(--error);
                  color: white;
                }

                .example3-list li.warning {
                  background: var(--warning);
                  color: white;
                }

                .example3-list li.success {
                  background: var(--success);
                  color: white;
                }

                .example3-controls {
                  display: flex;
                  gap: 10px;
                  margin-top: 15px;
                  flex-wrap: wrap;
                }

                .example3-controls button {
                  padding: 8px 16px;
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-sm);
                  background: var(--bg-primary);
                  color: var(--text-primary);
                  cursor: pointer;
                  font-size: 0.9rem;
                  transition: all 0.2s ease;
                }

                .example3-controls button:hover {
                  background: var(--primary);
                  color: white;
                  border-color: var(--primary);
                }
              </style>

              <div id="example3-list1" class="example3-list">
                <h4>åˆ—è¡¨ 1 - åŒ…å«é”™è¯¯é¡¹</h4>
                <ul>
                  <li>æ­£å¸¸é¡¹ç›® 1</li>
                  <li class="error">âŒ é”™è¯¯é¡¹ç›®</li>
                  <li>æ­£å¸¸é¡¹ç›® 2</li>
                </ul>
              </div>

              <div id="example3-list2" class="example3-list">
                <h4>åˆ—è¡¨ 2 - åŒ…å«è­¦å‘Šé¡¹</h4>
                <ul>
                  <li>æ­£å¸¸é¡¹ç›® 1</li>
                  <li class="warning">âš ï¸ è­¦å‘Šé¡¹ç›®</li>
                  <li>æ­£å¸¸é¡¹ç›® 2</li>
                </ul>
              </div>

              <div id="example3-list3" class="example3-list">
                <h4>åˆ—è¡¨ 3 - åŒ…å«æˆåŠŸé¡¹</h4>
                <ul>
                  <li>æ­£å¸¸é¡¹ç›® 1</li>
                  <li class="success">âœ… æˆåŠŸé¡¹ç›®</li>
                  <li>æ­£å¸¸é¡¹ç›® 2</li>
                </ul>
              </div>

              <div id="example3-list4" class="example3-list">
                <h4>åˆ—è¡¨ 4 - æ— ç‰¹æ®Šé¡¹</h4>
                <ul>
                  <li>æ­£å¸¸é¡¹ç›® 1</li>
                  <li>æ­£å¸¸é¡¹ç›® 2</li>
                  <li>æ­£å¸¸é¡¹ç›® 3</li>
                </ul>
              </div>

              <div
                style="
                  margin-top: 20px;
                  padding: 15px;
                  background: var(--info-light);
                  border-radius: var(--radius-md);
                  font-size: 0.9rem;
                  color: var(--text-primary);
                "
              >
                <strong>æ•ˆæœè¯´æ˜ï¼š</strong>
                <ul style="margin: 10px 0 0 0; padding-left: 20px; line-height: 1.8">
                  <li>åŒ…å« <code>.error</code> ç±»çš„åˆ—è¡¨æ˜¾ç¤ºçº¢è‰²è¾¹æ¡†å’ŒèƒŒæ™¯</li>
                  <li>åŒ…å« <code>.warning</code> ç±»çš„åˆ—è¡¨æ˜¾ç¤ºæ©™è‰²è¾¹æ¡†å’ŒèƒŒæ™¯</li>
                  <li>åŒ…å« <code>.success</code> ç±»çš„åˆ—è¡¨æ˜¾ç¤ºç»¿è‰²è¾¹æ¡†å’ŒèƒŒæ™¯</li>
                  <li>æ²¡æœ‰ç‰¹æ®Šç±»çš„åˆ—è¡¨ä¿æŒé»˜è®¤æ ·å¼</li>
                </ul>
              </div>
            </div>
            <div class="demo-code">
              <pre><code><span class="code-comment">/* æ ¹æ®å­å…ƒç´ çš„ç±»åé€‰æ‹©çˆ¶å…ƒç´  */</span>
.list:has(.error) {
  border-color: red;
  background: #fee;
}

.list:has(.warning) {
  border-color: orange;
  background: #fef3cd;
}

.list:has(.success) {
  border-color: green;
  background: #d1f2eb;
}

<span class="code-comment">/* HTML ç»“æ„ */</span>
&lt;div class="list"&gt;
  &lt;ul&gt;
    &lt;li&gt;æ­£å¸¸é¡¹ç›®&lt;/li&gt;
    &lt;li class="error"&gt;é”™è¯¯é¡¹ç›®&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;</code></pre>
            </div>
          </div>

          <!-- è¯­æ³•æ€»ç»“ -->
          <div
            style="
              background: var(--primary-light);
              border-left: 4px solid var(--primary);
              padding: 20px;
              border-radius: var(--radius-md);
              margin-top: 30px;
            "
          >
            <strong style="color: var(--primary-dark); font-size: 1.1rem">ğŸ“ è¯­æ³•æ€»ç»“</strong>
            <div style="color: var(--text-primary); margin-top: 15px; line-height: 1.8">
              <p style="margin-bottom: 12px"><strong>åŸºç¡€è¯­æ³•ï¼š</strong></p>
              <ul style="margin: 0 0 15px 0; padding-left: 20px">
                <li><code>element:has(selector)</code> - é€‰æ‹©åŒ…å«åŒ¹é… selector çš„ element</li>
                <li><code>selector</code> å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ CSS é€‰æ‹©å™¨</li>
                <li>å¯ä»¥åŒ¹é…å­å…ƒç´ ã€åä»£å…ƒç´ çš„ä»»ä½•çŠ¶æ€</li>
              </ul>
              <p style="margin-bottom: 12px"><strong>å¸¸ç”¨æ¨¡å¼ï¼š</strong></p>
              <ul style="margin: 0; padding-left: 20px">
                <li><code>.parent:has(.child)</code> - åŒ…å«ç‰¹å®šç±»çš„å­å…ƒç´ </li>
                <li><code>.parent:has(> .child)</code> - åŒ…å«ç›´æ¥å­å…ƒç´ ï¼ˆä½¿ç”¨ > é€‰æ‹©å™¨ï¼‰</li>
                <li><code>.parent:has(input:checked)</code> - åŒ…å«ç‰¹å®šçŠ¶æ€çš„å…ƒç´ </li>
                <li><code>.parent:has(.class1, .class2)</code> - åŒ…å«å¤šä¸ªé€‰æ‹©å™¨ä¹‹ä¸€</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- åŠ¨æ€äº¤äº’ç¤ºä¾‹ -->
        <section class="demo-section">
          <h2>åŠ¨æ€äº¤äº’ç¤ºä¾‹</h2>
          <p style="color: var(--text-secondary); margin-bottom: 25px">
            <code>:has()</code> çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒèƒ½è‡ªåŠ¨å“åº” DOM
            çš„å˜åŒ–ã€‚å½“ä½ æ·»åŠ æˆ–ç§»é™¤å­å…ƒç´ æ—¶ï¼Œçˆ¶å…ƒç´ çš„æ ·å¼ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€ä»»ä½• JavaScript å¹²é¢„ã€‚
          </p>

          <div class="demo-container single-column">
            <div class="demo-preview">
              <style>
                .interactive-container {
                  background: var(--card-bg);
                  border: 3px solid var(--border-color);
                  border-radius: var(--radius-lg);
                  padding: 25px;
                  min-height: 200px;
                  transition: all 0.3s ease;
                  position: relative;
                }

                .interactive-container:has(.item) {
                  border-color: var(--primary);
                  background: var(--primary-light);
                }

                .interactive-container:has(.item:nth-child(3)) {
                  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
                }

                .interactive-container::before {
                  content: 'å®¹å™¨ä¸ºç©º';
                  position: absolute;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                  color: var(--text-secondary);
                  font-size: 1.2rem;
                  opacity: 1;
                  transition: opacity 0.3s ease;
                }

                .interactive-container:has(.item)::before {
                  opacity: 0;
                }

                .items-grid {
                  display: grid;
                  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                  gap: 15px;
                }

                .item {
                  background: var(--bg-primary);
                  border: 2px solid var(--primary);
                  border-radius: var(--radius-md);
                  padding: 15px;
                  text-align: center;
                  animation: itemAppear 0.3s ease;
                }

                @keyframes itemAppear {
                  from {
                    opacity: 0;
                    transform: scale(0.8);
                  }
                  to {
                    opacity: 1;
                    transform: scale(1);
                  }
                }

                .item-number {
                  font-size: 1.5rem;
                  font-weight: bold;
                  color: var(--primary);
                  margin-bottom: 5px;
                }

                .item-label {
                  font-size: 0.9rem;
                  color: var(--text-secondary);
                }

                .controls {
                  display: flex;
                  gap: 10px;
                  margin-bottom: 20px;
                  flex-wrap: wrap;
                }

                .controls button {
                  padding: 10px 20px;
                  border: 2px solid var(--primary);
                  border-radius: var(--radius-md);
                  background: var(--primary);
                  color: white;
                  cursor: pointer;
                  font-size: 1rem;
                  font-weight: 600;
                  transition: all 0.2s ease;
                }

                .controls button:hover {
                  background: var(--primary-dark);
                  border-color: var(--primary-dark);
                  transform: translateY(-2px);
                }

                .controls button.secondary {
                  background: var(--bg-primary);
                  color: var(--primary);
                }

                .controls button.secondary:hover {
                  background: var(--primary-light);
                }

                .status-display {
                  background: var(--gray-800);
                  color: var(--gray-200);
                  padding: 15px;
                  border-radius: var(--radius-md);
                  font-family: 'Courier New', monospace;
                  font-size: 0.9rem;
                  margin-top: 20px;
                  line-height: 1.8;
                }

                .status-display .status-line {
                  margin-bottom: 5px;
                }

                .status-display .matched {
                  color: var(--success);
                  font-weight: bold;
                }

                .status-display .not-matched {
                  color: var(--error);
                }
              </style>

              <div class="controls">
                <button onclick="addItem()">â• æ·»åŠ é¡¹ç›®</button>
                <button class="secondary" onclick="removeItem()">â– ç§»é™¤é¡¹ç›®</button>
                <button class="secondary" onclick="clearItems()">ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰</button>
              </div>

              <div id="interactiveContainer" class="interactive-container">
                <div id="itemsGrid" class="items-grid"></div>
              </div>

              <div id="statusDisplay" class="status-display">
                <div class="status-line">é€‰æ‹©å™¨åŒ¹é…çŠ¶æ€ï¼š</div>
                <div id="status1" class="status-line">:has(.item) - <span class="not-matched">æœªåŒ¹é…</span></div>
                <div id="status2" class="status-line">
                  :has(.item:nth-child(3)) - <span class="not-matched">æœªåŒ¹é…</span>
                </div>
                <div id="itemCount" class="status-line">å½“å‰é¡¹ç›®æ•°ï¼š0</div>
              </div>

              <script>
                let itemCounter = 0;

                window.addItem = function addItem() {
                  itemCounter++;
                  const grid = document.getElementById('itemsGrid');
                  const item = document.createElement('div');
                  item.className = 'item';
                  item.innerHTML = `
                    <div class="item-number">${itemCounter}</div>
                    <div class="item-label">é¡¹ç›® ${itemCounter}</div>
                  `;
                  grid.appendChild(item);
                  updateStatus();
                };

                window.removeItem = function removeItem() {
                  const grid = document.getElementById('itemsGrid');
                  const items = grid.querySelectorAll('.item');
                  if (items.length > 0) {
                    grid.removeChild(items[items.length - 1]);
                    updateStatus();
                  }
                };

                window.clearItems = function clearItems() {
                  const grid = document.getElementById('itemsGrid');
                  grid.innerHTML = '';
                  itemCounter = 0;
                  updateStatus();
                };

                function updateStatus() {
                  const container = document.getElementById('interactiveContainer');
                  const items = container.querySelectorAll('.item');
                  const count = items.length;

                  // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
                  const status1 = document.getElementById('status1');
                  const status2 = document.getElementById('status2');
                  const itemCount = document.getElementById('itemCount');

                  // :has(.item) çŠ¶æ€
                  if (count > 0) {
                    status1.innerHTML = ':has(.item) - <span class="matched">âœ“ åŒ¹é…</span>';
                  } else {
                    status1.innerHTML = ':has(.item) - <span class="not-matched">âœ— æœªåŒ¹é…</span>';
                  }

                  // :has(.item:nth-child(3)) çŠ¶æ€
                  if (count >= 3) {
                    status2.innerHTML = ':has(.item:nth-child(3)) - <span class="matched">âœ“ åŒ¹é…ï¼ˆæœ‰é˜´å½±æ•ˆæœï¼‰</span>';
                  } else {
                    status2.innerHTML = ':has(.item:nth-child(3)) - <span class="not-matched">âœ— æœªåŒ¹é…</span>';
                  }

                  itemCount.textContent = `å½“å‰é¡¹ç›®æ•°ï¼š${count}`;
                }

                // åˆå§‹åŒ–
                updateStatus();
              </script>

              <div
                style="
                  margin-top: 20px;
                  padding: 15px;
                  background: var(--info-light);
                  border-radius: var(--radius-md);
                  font-size: 0.9rem;
                  color: var(--text-primary);
                "
              >
                <strong>äº¤äº’è¯´æ˜ï¼š</strong>
                <ul style="margin: 10px 0 0 0; padding-left: 20px; line-height: 1.8">
                  <li>ç‚¹å‡»"æ·»åŠ é¡¹ç›®"æŒ‰é’®ï¼Œå®¹å™¨ä¼šè‡ªåŠ¨å˜ä¸ºç»¿è‰²è¾¹æ¡†å’Œæµ…ç»¿è‰²èƒŒæ™¯</li>
                  <li>å½“é¡¹ç›®æ•°è¾¾åˆ° 3 ä¸ªæ—¶ï¼Œå®¹å™¨ä¼šæ˜¾ç¤ºé˜´å½±æ•ˆæœ</li>
                  <li>ç§»é™¤æ‰€æœ‰é¡¹ç›®åï¼Œå®¹å™¨æ¢å¤é»˜è®¤æ ·å¼å¹¶æ˜¾ç¤º"å®¹å™¨ä¸ºç©º"</li>
                  <li>æ‰€æœ‰æ ·å¼å˜åŒ–éƒ½æ˜¯çº¯ CSS å®ç°ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ ç±»å</li>
                </ul>
              </div>
            </div>
            <div class="demo-code">
              <pre><code><span class="code-comment">/* å®¹å™¨åŒ…å«é¡¹ç›®æ—¶çš„æ ·å¼ */</span>
.container:has(.item) {
  border-color: green;
  background: lightgreen;
}

<span class="code-comment">/* å®¹å™¨åŒ…å«ç¬¬ 3 ä¸ªé¡¹ç›®æ—¶çš„æ ·å¼ */</span>
.container:has(.item:nth-child(3)) {
  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
}

<span class="code-comment">/* å®¹å™¨ä¸ºç©ºæ—¶æ˜¾ç¤ºæç¤º */</span>
.container::before {
  content: 'å®¹å™¨ä¸ºç©º';
  opacity: 1;
}

.container:has(.item)::before {
  opacity: 0;
}

<span class="code-comment">/* JavaScript åªè´Ÿè´£æ·»åŠ /ç§»é™¤å…ƒç´ 
   æ ·å¼è‡ªåŠ¨å“åº”ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œç±»å */</span>
function addItem() {
  const item = document.createElement('div');
  item.className = 'item';
  container.appendChild(item);
  <span class="code-comment">// CSS è‡ªåŠ¨æ›´æ–°æ ·å¼ï¼</span>
}</code></pre>
            </div>
          </div>

          <!-- æ›´å¤šäº¤äº’ç¤ºä¾‹ -->
          <div class="demo-container">
            <div class="demo-preview-title">å®æ—¶é€‰æ‹©å™¨æµ‹è¯•å™¨</div>
            <div class="demo-preview">
              <style>
                .selector-tester {
                  background: var(--card-bg);
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-md);
                  padding: 20px;
                }

                .test-container {
                  background: var(--bg-primary);
                  border: 3px dashed var(--border-color);
                  border-radius: var(--radius-md);
                  padding: 20px;
                  min-height: 150px;
                  margin-bottom: 20px;
                  transition: all 0.3s ease;
                }

                .test-container.highlight {
                  border-color: var(--success);
                  background: var(--success-light);
                  border-style: solid;
                }

                .test-elements {
                  display: flex;
                  gap: 10px;
                  flex-wrap: wrap;
                }

                .test-element {
                  padding: 10px 15px;
                  background: var(--gray-200);
                  border: 2px solid var(--gray-400);
                  border-radius: var(--radius-sm);
                  color: var(--text-primary);
                  font-size: 0.9rem;
                }

                .test-element.special {
                  background: var(--primary);
                  color: white;
                  border-color: var(--primary-dark);
                }

                .selector-input-group {
                  margin-bottom: 20px;
                }

                .selector-input-group label {
                  display: block;
                  margin-bottom: 8px;
                  color: var(--text-primary);
                  font-weight: 600;
                }

                .selector-input-group input {
                  width: 100%;
                  padding: 10px;
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-sm);
                  font-size: 1rem;
                  font-family: 'Courier New', monospace;
                  background: var(--bg-primary);
                  color: var(--text-primary);
                }

                .selector-input-group input:focus {
                  outline: none;
                  border-color: var(--primary);
                }

                .test-buttons {
                  display: flex;
                  gap: 10px;
                  flex-wrap: wrap;
                }

                .test-buttons button {
                  padding: 8px 16px;
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-sm);
                  background: var(--bg-primary);
                  color: var(--text-primary);
                  cursor: pointer;
                  font-size: 0.9rem;
                  transition: all 0.2s ease;
                }

                .test-buttons button:hover {
                  background: var(--primary);
                  color: white;
                  border-color: var(--primary);
                }

                .result-display {
                  background: var(--gray-800);
                  color: var(--gray-200);
                  padding: 15px;
                  border-radius: var(--radius-md);
                  font-family: 'Courier New', monospace;
                  font-size: 0.9rem;
                  margin-top: 15px;
                }
              </style>

              <div class="selector-tester">
                <div class="selector-input-group">
                  <label for="selectorInput">è¾“å…¥ :has() é€‰æ‹©å™¨ï¼ˆä¾‹å¦‚ï¼š.specialï¼‰</label>
                  <input
                    id="selectorInput"
                    type="text"
                    placeholder=".special"
                    value=".special"
                    oninput="testSelector()"
                  />
                </div>

                <div id="testContainer" class="test-container">
                  <div id="testElements" class="test-elements">
                    <div class="test-element">æ™®é€šå…ƒç´  1</div>
                    <div class="test-element">æ™®é€šå…ƒç´  2</div>
                  </div>
                </div>

                <div class="test-buttons">
                  <button onclick="addNormalElement()">æ·»åŠ æ™®é€šå…ƒç´ </button>
                  <button onclick="addSpecialElement()">æ·»åŠ ç‰¹æ®Šå…ƒç´ </button>
                  <button onclick="clearTestElements()">æ¸…ç©º</button>
                </div>

                <div id="resultDisplay" class="result-display">ç­‰å¾…æµ‹è¯•...</div>
              </div>

              <script>
                function testSelector() {
                  const input = document.getElementById('selectorInput');
                  const container = document.getElementById('testContainer');
                  const result = document.getElementById('resultDisplay');

                  const selector = input.value.trim();

                  if (!selector) {
                    container.classList.remove('highlight');
                    result.textContent = 'è¯·è¾“å…¥é€‰æ‹©å™¨';
                    return;
                  }

                  try {
                    // æµ‹è¯•é€‰æ‹©å™¨æ˜¯å¦åŒ¹é…
                    const matches = container.matches(`:has(${selector})`);

                    if (matches) {
                      container.classList.add('highlight');
                      result.innerHTML = `<span style="color: var(--success);">âœ“ åŒ¹é…æˆåŠŸï¼</span>\né€‰æ‹©å™¨: .test-container:has(${selector})\nå®¹å™¨è¢«é€‰ä¸­å¹¶é«˜äº®æ˜¾ç¤º`;
                    } else {
                      container.classList.remove('highlight');
                      result.innerHTML = `<span style="color: var(--error);">âœ— æœªåŒ¹é…</span>\né€‰æ‹©å™¨: .test-container:has(${selector})\nå®¹å™¨å†…æ²¡æœ‰åŒ¹é…çš„å…ƒç´ `;
                    }
                  } catch (e) {
                    container.classList.remove('highlight');
                    result.innerHTML = `<span style="color: var(--error);">âœ— é€‰æ‹©å™¨è¯­æ³•é”™è¯¯</span>\n${e.message}`;
                  }
                }

                window.addNormalElement = function addNormalElement() {
                  const container = document.getElementById('testElements');
                  const element = document.createElement('div');
                  element.className = 'test-element';
                  element.textContent = `æ™®é€šå…ƒç´  ${container.children.length + 1}`;
                  container.appendChild(element);
                  testSelector();
                };

                window.addSpecialElement = function addSpecialElement() {
                  const container = document.getElementById('testElements');
                  const element = document.createElement('div');
                  element.className = 'test-element special';
                  element.textContent = `ç‰¹æ®Šå…ƒç´  ${container.querySelectorAll('.special').length + 1}`;
                  container.appendChild(element);
                  testSelector();
                };

                window.clearTestElements = function clearTestElements() {
                  const container = document.getElementById('testElements');
                  container.innerHTML = '';
                  testSelector();
                };

                // åˆå§‹åŒ–
                testSelector();
              </script>

              <div
                style="
                  margin-top: 20px;
                  padding: 15px;
                  background: var(--info-light);
                  border-radius: var(--radius-md);
                  font-size: 0.9rem;
                  color: var(--text-primary);
                "
              >
                <strong>æµ‹è¯•è¯´æ˜ï¼š</strong>
                <ul style="margin: 10px 0 0 0; padding-left: 20px; line-height: 1.8">
                  <li>åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥é€‰æ‹©å™¨ï¼ˆä¸åŒ…æ‹¬ :has()ï¼‰ï¼Œä¾‹å¦‚ <code>.special</code></li>
                  <li>æ·»åŠ ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œè§‚å¯Ÿå®¹å™¨æ˜¯å¦è¢«é€‰ä¸­</li>
                  <li>å°è¯•å…¶ä»–é€‰æ‹©å™¨ï¼Œå¦‚ <code>.test-element</code>ã€<code>div</code> ç­‰</li>
                  <li>å®æ—¶æŸ¥çœ‹é€‰æ‹©å™¨åŒ¹é…ç»“æœ</li>
                </ul>
              </div>
            </div>
            <div class="demo-code">
              <pre><code><span class="code-comment">/* åŠ¨æ€æµ‹è¯• :has() é€‰æ‹©å™¨ */</span>
const matches = element.matches(':has(.special)');

if (matches) {
  <span class="code-comment">// å…ƒç´ åŒ…å« .special ç±»çš„å­å…ƒç´ </span>
  element.classList.add('highlight');
} else {
  <span class="code-comment">// å…ƒç´ ä¸åŒ…å« .special ç±»çš„å­å…ƒç´ </span>
  element.classList.remove('highlight');
}

<span class="code-comment">/* CSS ä¼šè‡ªåŠ¨å“åº” DOM å˜åŒ–
   æ— éœ€æ‰‹åŠ¨æ£€æµ‹å’Œæ›´æ–°æ ·å¼ */</span></code></pre>
            </div>
          </div>
        </section>

        <!-- æµè§ˆå™¨å…¼å®¹æ€§ -->
        <section class="compatibility-section">
          <h2>æµè§ˆå™¨å…¼å®¹æ€§</h2>
          <p style="color: var(--text-secondary); margin-bottom: 25px">
            <code>:has()</code> æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„ CSS ç‰¹æ€§ï¼Œä¸»æµæµè§ˆå™¨å·²ç»æä¾›äº†è‰¯å¥½çš„æ”¯æŒã€‚
          </p>

          <div
            style="
              background: var(--card-bg);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-lg);
              padding: 25px;
              margin-bottom: 25px;
            "
          >
            <h3 style="color: var(--text-primary); margin-bottom: 20px; font-size: 1.2rem">ä¸»æµæµè§ˆå™¨æ”¯æŒæƒ…å†µ</h3>

            <div
              style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin-bottom: 25px;
              "
            >
              <!-- Chrome -->
              <div
                style="
                  text-align: center;
                  padding: 20px;
                  background: var(--bg-primary);
                  border-radius: var(--radius-md);
                  border: 2px solid var(--success);
                "
              >
                <div style="font-size: 3rem; margin-bottom: 10px">ğŸŸ¢</div>
                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 5px; font-size: 1.1rem">
                  Chrome
                </div>
                <div style="color: var(--success-dark); font-weight: 600; font-size: 1.2rem; margin-bottom: 5px">
                  âœ“ æ”¯æŒ
                </div>
                <div style="color: var(--text-secondary); font-size: 0.9rem">ç‰ˆæœ¬ 105+</div>
                <div style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px">2022å¹´8æœˆ</div>
              </div>

              <!-- Firefox -->
              <div
                style="
                  text-align: center;
                  padding: 20px;
                  background: var(--bg-primary);
                  border-radius: var(--radius-md);
                  border: 2px solid var(--success);
                "
              >
                <div style="font-size: 3rem; margin-bottom: 10px">ğŸŸ </div>
                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 5px; font-size: 1.1rem">
                  Firefox
                </div>
                <div style="color: var(--success-dark); font-weight: 600; font-size: 1.2rem; margin-bottom: 5px">
                  âœ“ æ”¯æŒ
                </div>
                <div style="color: var(--text-secondary); font-size: 0.9rem">ç‰ˆæœ¬ 121+</div>
                <div style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px">2023å¹´12æœˆ</div>
              </div>

              <!-- Safari -->
              <div
                style="
                  text-align: center;
                  padding: 20px;
                  background: var(--bg-primary);
                  border-radius: var(--radius-md);
                  border: 2px solid var(--success);
                "
              >
                <div style="font-size: 3rem; margin-bottom: 10px">ğŸ”µ</div>
                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 5px; font-size: 1.1rem">
                  Safari
                </div>
                <div style="color: var(--success-dark); font-weight: 600; font-size: 1.2rem; margin-bottom: 5px">
                  âœ“ æ”¯æŒ
                </div>
                <div style="color: var(--text-secondary); font-size: 0.9rem">ç‰ˆæœ¬ 15.4+</div>
                <div style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px">2022å¹´3æœˆ</div>
              </div>

              <!-- Edge -->
              <div
                style="
                  text-align: center;
                  padding: 20px;
                  background: var(--bg-primary);
                  border-radius: var(--radius-md);
                  border: 2px solid var(--success);
                "
              >
                <div style="font-size: 3rem; margin-bottom: 10px">ğŸ”·</div>
                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 5px; font-size: 1.1rem">
                  Edge
                </div>
                <div style="color: var(--success-dark); font-weight: 600; font-size: 1.2rem; margin-bottom: 5px">
                  âœ“ æ”¯æŒ
                </div>
                <div style="color: var(--text-secondary); font-size: 0.9rem">ç‰ˆæœ¬ 105+</div>
                <div style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px">2022å¹´8æœˆ</div>
              </div>
            </div>

            <div
              style="
                background: var(--success-light);
                border-left: 4px solid var(--success);
                padding: 15px;
                border-radius: var(--radius-md);
              "
            >
              <strong style="color: var(--success-dark)">âœ“ æ€»ä½“æ”¯æŒæƒ…å†µè‰¯å¥½</strong>
              <p style="color: var(--text-primary); margin: 10px 0 0 0; line-height: 1.6">
                æˆªè‡³ 2024 å¹´ï¼Œæ‰€æœ‰ä¸»æµæµè§ˆå™¨çš„æœ€æ–°ç‰ˆæœ¬éƒ½å·²æ”¯æŒ <code>:has()</code> é€‰æ‹©å™¨ã€‚å…¨çƒæµè§ˆå™¨æ”¯æŒç‡è¶…è¿‡ 90%ã€‚
              </p>
            </div>
          </div>

          <!-- å…¼å®¹æ€§æ£€æµ‹ä»£ç  -->
          <div
            style="
              background: var(--card-bg);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-lg);
              padding: 25px;
              margin-bottom: 25px;
            "
          >
            <h3 style="color: var(--text-primary); margin-bottom: 20px; font-size: 1.2rem">å…¼å®¹æ€§æ£€æµ‹</h3>

            <div style="margin-bottom: 20px">
              <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1rem">
                æ–¹æ³• 1: ä½¿ç”¨ CSS @supports
              </h4>
              <pre
                style="
                  background: var(--gray-800);
                  color: var(--gray-200);
                  padding: 20px;
                  border-radius: var(--radius-md);
                  font-size: 0.9rem;
                  line-height: 1.6;
                  margin: 0;
                  overflow-x: auto;
                "
              ><code><span class="code-comment">/* æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ :has() */</span>
@supports selector(:has(*)) {
  <span class="code-comment">/* æ”¯æŒ :has() çš„æ ·å¼ */</span>
  .card:has(img) {
    border: 2px solid green;
  }
}

@supports not selector(:has(*)) {
  <span class="code-comment">/* ä¸æ”¯æŒ :has() çš„é™çº§æ ·å¼ */</span>
  .card.has-image {
    border: 2px solid green;
  }
}</code></pre>
            </div>

            <div style="margin-bottom: 20px">
              <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1rem">
                æ–¹æ³• 2: ä½¿ç”¨ JavaScript æ£€æµ‹
              </h4>
              <pre
                style="
                  background: var(--gray-800);
                  color: var(--gray-200);
                  padding: 20px;
                  border-radius: var(--radius-md);
                  font-size: 0.9rem;
                  line-height: 1.6;
                  margin: 0;
                  overflow-x: auto;
                "
              ><code><span class="code-comment">// æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ :has()</span>
function supportsHasSelector() {
  try {
    document.querySelector(':has(*)');
    return true;
  } catch (e) {
    return false;
  }
}

if (supportsHasSelector()) {
  console.log('âœ“ æµè§ˆå™¨æ”¯æŒ :has() é€‰æ‹©å™¨');
} else {
  console.log('âœ— æµè§ˆå™¨ä¸æ”¯æŒ :has() é€‰æ‹©å™¨');
  <span class="code-comment">// ä½¿ç”¨ JavaScript å®ç°é™çº§æ–¹æ¡ˆ</span>
  addFallbackLogic();
}</code></pre>
            </div>

            <div>
              <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1rem">å½“å‰æµè§ˆå™¨æ£€æµ‹ç»“æœ</h4>
              <div
                id="browserSupport"
                style="
                  padding: 20px;
                  background: var(--bg-primary);
                  border-radius: var(--radius-md);
                  border: 2px solid var(--border-color);
                "
              >
                <div style="font-size: 1.1rem; margin-bottom: 10px">
                  <strong>æ£€æµ‹ä¸­...</strong>
                </div>
              </div>
              <script>
                (function () {
                  const supportDiv = document.getElementById('browserSupport');

                  function supportsHasSelector() {
                    try {
                      document.querySelector(':has(*)');
                      return true;
                    } catch {
                      return false;
                    }
                  }

                  const isSupported = supportsHasSelector();

                  if (isSupported) {
                    supportDiv.innerHTML = `
                      <div style="font-size: 1.1rem; margin-bottom: 10px;">
                        <strong style="color: var(--success-dark);">âœ“ ä½ çš„æµè§ˆå™¨æ”¯æŒ :has() é€‰æ‹©å™¨</strong>
                      </div>
                      <div style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6;">
                        å¤ªå¥½äº†ï¼ä½ å¯ä»¥åœ¨æœ¬é¡µé¢ä½“éªŒæ‰€æœ‰äº¤äº’ç¤ºä¾‹ã€‚æ‰€æœ‰çš„æ ·å¼æ•ˆæœéƒ½æ˜¯é€šè¿‡çº¯ CSS å®ç°çš„ã€‚
                      </div>
                    `;
                    supportDiv.style.borderColor = 'var(--success)';
                    supportDiv.style.background = 'var(--success-light)';
                  } else {
                    supportDiv.innerHTML = `
                      <div style="font-size: 1.1rem; margin-bottom: 10px;">
                        <strong style="color: var(--error-dark);">âœ— ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒ :has() é€‰æ‹©å™¨</strong>
                      </div>
                      <div style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-bottom: 10px;">
                        å»ºè®®å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨ä»¥è·å¾—æœ€ä½³ä½“éªŒï¼š
                      </div>
                      <ul style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.8; margin: 0; padding-left: 20px;">
                        <li>Chrome 105+ æˆ– Edge 105+</li>
                        <li>Firefox 121+</li>
                        <li>Safari 15.4+</li>
                      </ul>
                    `;
                    supportDiv.style.borderColor = 'var(--error)';
                    supportDiv.style.background = 'var(--error-light)';
                  }
                })();
              </script>
            </div>
          </div>

          <!-- é™çº§æ–¹æ¡ˆ -->
          <div
            style="
              background: var(--card-bg);
              border: 2px solid var(--border-color);
              border-radius: var(--radius-lg);
              padding: 25px;
            "
          >
            <h3 style="color: var(--text-primary); margin-bottom: 20px; font-size: 1.2rem">é™çº§æ–¹æ¡ˆ</h3>

            <p style="color: var(--text-secondary); margin-bottom: 20px; line-height: 1.6">
              å¯¹äºä¸æ”¯æŒ <code>:has()</code> çš„æ—§ç‰ˆæµè§ˆå™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é™çº§æ–¹æ¡ˆï¼š
            </p>

            <div style="display: grid; gap: 20px">
              <!-- æ–¹æ¡ˆ 1 -->
              <div
                style="
                  background: var(--bg-primary);
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-md);
                  padding: 20px;
                "
              >
                <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1rem">
                  <span
                    style="
                      background: var(--primary);
                      color: white;
                      padding: 4px 10px;
                      border-radius: var(--radius-sm);
                      margin-right: 8px;
                      font-size: 0.85rem;
                    "
                    >æ–¹æ¡ˆ 1</span
                  >
                  ä½¿ç”¨ JavaScript æ·»åŠ ç±»å
                </h4>
                <pre
                  style="
                    background: var(--gray-800);
                    color: var(--gray-200);
                    padding: 15px;
                    border-radius: var(--radius-md);
                    font-size: 0.85rem;
                    line-height: 1.6;
                    margin: 0;
                    overflow-x: auto;
                  "
                ><code><span class="code-comment">// JavaScript é™çº§æ–¹æ¡ˆ</span>
document.querySelectorAll('.card').forEach(card => {
  if (card.querySelector('img')) {
    card.classList.add('has-image');
  }
});

<span class="code-comment">/* CSS */</span>
.card:has(img),
.card.has-image {
  border: 2px solid green;
}</code></pre>
              </div>

              <!-- æ–¹æ¡ˆ 2 -->
              <div
                style="
                  background: var(--bg-primary);
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-md);
                  padding: 20px;
                "
              >
                <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1rem">
                  <span
                    style="
                      background: var(--primary);
                      color: white;
                      padding: 4px 10px;
                      border-radius: var(--radius-sm);
                      margin-right: 8px;
                      font-size: 0.85rem;
                    "
                    >æ–¹æ¡ˆ 2</span
                  >
                  æ¸è¿›å¢å¼ºç­–ç•¥
                </h4>
                <pre
                  style="
                    background: var(--gray-800);
                    color: var(--gray-200);
                    padding: 15px;
                    border-radius: var(--radius-md);
                    font-size: 0.85rem;
                    line-height: 1.6;
                    margin: 0;
                    overflow-x: auto;
                  "
                ><code><span class="code-comment">/* åŸºç¡€æ ·å¼ï¼ˆæ‰€æœ‰æµè§ˆå™¨ï¼‰ */</span>
.card {
  border: 2px solid gray;
}

<span class="code-comment">/* å¢å¼ºæ ·å¼ï¼ˆæ”¯æŒ :has() çš„æµè§ˆå™¨ï¼‰ */</span>
@supports selector(:has(*)) {
  .card:has(img) {
    border: 2px solid green;
  }
}</code></pre>
              </div>

              <!-- æ–¹æ¡ˆ 3 -->
              <div
                style="
                  background: var(--bg-primary);
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-md);
                  padding: 20px;
                "
              >
                <h4 style="color: var(--text-primary); margin-bottom: 15px; font-size: 1rem">
                  <span
                    style="
                      background: var(--primary);
                      color: white;
                      padding: 4px 10px;
                      border-radius: var(--radius-sm);
                      margin-right: 8px;
                      font-size: 0.85rem;
                    "
                    >æ–¹æ¡ˆ 3</span
                  >
                  æ¥å—å·®å¼‚
                </h4>
                <p style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin: 0">
                  å¯¹äºéå…³é”®çš„è§†è§‰å¢å¼ºï¼Œå¯ä»¥æ¥å—æ—§ç‰ˆæµè§ˆå™¨çš„æ ·å¼å·®å¼‚ã€‚<code>:has()</code>
                  ä½œä¸ºæ¸è¿›å¢å¼ºç‰¹æ€§ï¼Œåœ¨ä¸æ”¯æŒçš„æµè§ˆå™¨ä¸­ä¼˜é›…é™çº§ï¼Œä¸å½±å“æ ¸å¿ƒåŠŸèƒ½ã€‚
                </p>
              </div>
            </div>
          </div>

          <!-- æ›´å¤šèµ„æº -->
          <div
            style="
              background: var(--info-light);
              border-left: 4px solid var(--info);
              padding: 20px;
              border-radius: var(--radius-md);
              margin-top: 25px;
            "
          >
            <strong style="color: var(--info-dark); font-size: 1.1rem">ğŸ“š æ›´å¤šèµ„æº</strong>
            <ul style="color: var(--text-primary); margin: 15px 0 0 0; padding-left: 20px; line-height: 2">
              <li>
                <a
                  href="https://caniuse.com/css-has"
                  target="_blank"
                  rel="noopener"
                  style="color: var(--primary); text-decoration: none; font-weight: 600"
                >
                  Can I Use: :has() æµè§ˆå™¨æ”¯æŒæƒ…å†µ
                </a>
              </li>
              <li>
                <a
                  href="https://developer.mozilla.org/en-US/docs/Web/CSS/:has"
                  target="_blank"
                  rel="noopener"
                  style="color: var(--primary); text-decoration: none; font-weight: 600"
                >
                  MDN Web Docs: :has() ä¼ªç±»
                </a>
              </li>
              <li>
                <a
                  href="https://webkit.org/blog/13096/css-has-pseudo-class/"
                  target="_blank"
                  rel="noopener"
                  style="color: var(--primary); text-decoration: none; font-weight: 600"
                >
                  WebKit Blog: :has() ä¼ªç±»ä»‹ç»
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </main>
  </body>
</html>
