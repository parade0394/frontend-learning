<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>结构选择器对比 - CSS 现代选择器</title>
    <link href="/src/styles/common.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script>
      (function () {
        try {
          const theme = localStorage.getItem('themeMode') || 'light';
          const color = localStorage.getItem('primaryColor') || '#10b981';
          let actualTheme = theme;
          if (theme === 'auto') {
            actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', actualTheme);
          document.documentElement.style.setProperty('--primary', color);
        } catch (e) {
          console.log(e);
        }
      })();
    </script>
    <script type="module" src="/src/theme.js"></script>
    <script src="compatibility-check.js"></script>
  </head>
  <body data-demo="nth-comparison">
    <!-- 左侧边栏导航 -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>CSS 现代选择器</h1>
        <a class="back-home" href="index.html">← 返回主页</a>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <h3>基础概念</h3>
          <a class="nav-item" href="demo1-specificity.html">选择器优先级</a>
        </div>
        <div class="nav-section">
          <h3>逻辑选择器</h3>
          <a class="nav-item" href="demo2-is.html">:is() 伪类</a>
          <a class="nav-item" href="demo3-where.html">:where() 伪类</a>
          <a class="nav-item" href="demo4-not.html">:not() 伪类</a>
        </div>
        <div class="nav-section">
          <h3>父子关系选择器</h3>
          <a class="nav-item" href="demo5-has-basics.html">:has() 基础</a>
          <a class="nav-item" href="demo6-has-practical.html">:has() 实战</a>
        </div>
        <div class="nav-section">
          <h3>状态选择器</h3>
          <a class="nav-item" href="demo7-focus-within.html">:focus-within</a>
          <a class="nav-item" href="demo8-focus-visible.html">:focus-visible</a>
        </div>
        <div class="nav-section">
          <h3>结构选择器进阶</h3>
          <a class="nav-item" href="demo9-nth-child.html">:nth-child() 高级</a>
          <a class="nav-item active" href="demo10-nth-comparison.html">结构选择器对比</a>
        </div>
        <div class="nav-section">
          <h3>综合实战</h3>
          <a class="nav-item" href="demo11-combinations.html">选择器组合实战</a>
        </div>
      </nav>
    </aside>

    <!-- 右侧主内容区 -->
    <main class="main-content">
      <div class="demo-page">
        <h1>结构选择器对比</h1>
        <p class="subtitle">:nth-child() vs :nth-of-type() 的区别</p>

        <!-- 概念介绍 -->
        <section class="concept-section">
          <h2>:nth-child() 和 :nth-of-type() 的区别</h2>
          <p>
            虽然 <code>:nth-child()</code> 和 <code>:nth-of-type()</code> 看起来很相似，
            但它们的<strong>选择逻辑完全不同</strong>。理解这两者的区别对于编写精确的 CSS 选择器至关重要。
          </p>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0">
            <div
              style="
                background: var(--primary-light);
                border-left: 4px solid var(--primary);
                padding: 20px;
                border-radius: var(--radius-md);
              "
            >
              <h3 style="margin-top: 0; color: var(--primary)">:nth-child()</h3>
              <p style="line-height: 1.6">
                <strong>计数所有兄弟元素</strong><br />
                选择父元素的第 n 个子元素，<strong>不管元素类型</strong>。 然后检查该元素是否匹配选择器。
              </p>
              <pre
                style="
                  margin-top: 15px;
                  background: var(--bg-primary);
                  padding: 12px;
                  border-radius: 4px;
                  font-size: 0.9em;
                "
              ><code><span class="code-comment">/* 选择第 2 个子元素，
   且该元素是 p 标签 */</span>
p:nth-child(2) { }</code></pre>
              <p style="margin-top: 10px; font-size: 0.9em; color: var(--text-secondary)">
                ✅ 适用于：混合元素列表、需要考虑所有兄弟元素的场景
              </p>
            </div>

            <div
              style="
                background: var(--info-light);
                border-left: 4px solid var(--info);
                padding: 20px;
                border-radius: var(--radius-md);
              "
            >
              <h3 style="margin-top: 0; color: var(--info)">:nth-of-type()</h3>
              <p style="line-height: 1.6">
                <strong>只计数相同类型的元素</strong><br />
                选择父元素中第 n 个<strong>特定类型</strong>的子元素。 只在相同标签名的元素中计数。
              </p>
              <pre
                style="
                  margin-top: 15px;
                  background: var(--bg-primary);
                  padding: 12px;
                  border-radius: 4px;
                  font-size: 0.9em;
                "
              ><code><span class="code-comment">/* 选择第 2 个 p 标签
   （忽略其他类型元素）*/</span>
p:nth-of-type(2) { }</code></pre>
              <p style="margin-top: 10px; font-size: 0.9em; color: var(--text-secondary)">
                ✅ 适用于：纯净的同类型元素列表、只关心特定类型元素的场景
              </p>
            </div>
          </div>

          <div
            style="
              background: var(--warning-light);
              border-left: 4px solid var(--warning);
              padding: 15px;
              border-radius: var(--radius-md);
              margin-top: 20px;
            "
          >
            <strong style="color: var(--warning-dark)">🎯 关键区别</strong>
            <ul style="margin-top: 10px; line-height: 1.8">
              <li><code>:nth-child()</code> 先数位置，再检查类型</li>
              <li><code>:nth-of-type()</code> 只数相同类型，忽略其他元素</li>
              <li>在混合元素场景中，两者的结果可能完全不同</li>
            </ul>
          </div>
        </section>

        <!-- 使用场景建议 -->
        <section class="syntax-section">
          <h2>使用场景建议</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">根据你的 HTML 结构和需求，选择合适的选择器：</p>

          <div style="display: grid; gap: 20px">
            <div
              style="
                background: var(--bg-secondary);
                padding: 20px;
                border-radius: var(--radius-md);
                border: 1px solid var(--border-color);
              "
            >
              <h3 style="margin-top: 0; color: var(--success)">✅ 使用 :nth-child() 的场景</h3>
              <ul style="line-height: 1.8">
                <li><strong>混合元素列表</strong> - 当父元素包含不同类型的子元素时</li>
                <li><strong>需要考虑所有兄弟元素</strong> - 例如：为每隔一个元素添加背景色（不管类型）</li>
                <li><strong>布局相关样式</strong> - 例如：为第一个和最后一个元素添加特殊边距</li>
                <li><strong>与其他选择器组合</strong> - 例如：<code>div:nth-child(odd)</code> 选择奇数位的 div</li>
              </ul>
              <pre
                style="margin-top: 15px; background: var(--bg-primary); padding: 12px; border-radius: 4px"
              ><code><span class="code-comment">/* 示例：为奇数位的所有元素添加背景 */</span>
.container > *:nth-child(odd) {
  background: #f5f5f5;
}</code></pre>
            </div>

            <div
              style="
                background: var(--bg-secondary);
                padding: 20px;
                border-radius: var(--radius-md);
                border: 1px solid var(--border-color);
              "
            >
              <h3 style="margin-top: 0; color: var(--info)">✅ 使用 :nth-of-type() 的场景</h3>
              <ul style="line-height: 1.8">
                <li><strong>纯净的同类型列表</strong> - 当父元素只包含一种类型的子元素时</li>
                <li><strong>只关心特定类型</strong> - 例如：为第二个段落添加样式（忽略标题、图片等）</li>
                <li><strong>语义化内容样式</strong> - 例如：文章中的第一个段落使用特殊样式</li>
                <li><strong>简化选择器</strong> - 当不需要考虑其他类型元素时，代码更简洁</li>
              </ul>
              <pre
                style="margin-top: 15px; background: var(--bg-primary); padding: 12px; border-radius: 4px"
              ><code><span class="code-comment">/* 示例：为文章中的第一个段落添加首字母大写 */</span>
article p:nth-of-type(1)::first-letter {
  font-size: 2em;
  font-weight: bold;
}</code></pre>
            </div>

            <div
              style="
                background: var(--error-light);
                border-left: 4px solid var(--error);
                padding: 15px;
                border-radius: var(--radius-md);
              "
            >
              <strong style="color: var(--error-dark)">❌ 常见错误</strong>
              <ul style="margin-top: 10px; line-height: 1.8">
                <li>在混合元素中使用 <code>:nth-of-type()</code> 期望它考虑所有元素</li>
                <li>在纯净列表中使用 <code>:nth-child()</code> 导致选择器过于复杂</li>
                <li>误以为 <code>:nth-of-type()</code> 可以选择特定类名的元素（它只能选择标签类型）</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- 并排对比示例 -->
        <section class="demo-section">
          <h2>并排对比示例</h2>
          <p style="color: var(--text-secondary); margin-bottom: 30px">
            通过相同的 HTML 结构，应用不同的选择器，直观地看到两者的区别。
          </p>

          <!-- 示例 1: 简单列表 -->
          <div class="demo-container" style="margin-bottom: 40px">
            <h3>示例 1: 简单段落列表</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px">
              在这个例子中，所有子元素都是 <code>&lt;p&gt;</code> 标签，两种选择器的结果相同。
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px">
              <!-- nth-child 示例 -->
              <div>
                <h4 style="color: var(--primary); margin-bottom: 15px">使用 :nth-child(2)</h4>
                <div id="demo1-child" class="comparison-demo">
                  <p>第 1 个段落</p>
                  <p>第 2 个段落</p>
                  <p>第 3 个段落</p>
                  <p>第 4 个段落</p>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 选择第 2 个子元素 */</span>
p:nth-child(2) {
  background: var(--primary-light);
  border-left: 4px solid var(--primary);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">✅ 选中：第 2 个段落</p>
              </div>

              <!-- nth-of-type 示例 -->
              <div>
                <h4 style="color: var(--info); margin-bottom: 15px">使用 :nth-of-type(2)</h4>
                <div id="demo1-type" class="comparison-demo">
                  <p>第 1 个段落</p>
                  <p>第 2 个段落</p>
                  <p>第 3 个段落</p>
                  <p>第 4 个段落</p>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 选择第 2 个 p 元素 */</span>
p:nth-of-type(2) {
  background: var(--info-light);
  border-left: 4px solid var(--info);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">✅ 选中：第 2 个段落</p>
              </div>
            </div>

            <div
              style="background: var(--info-light); padding: 15px; border-radius: var(--radius-md); margin-top: 20px"
            >
              <strong style="color: var(--info-dark)">💡 结论</strong>
              <p style="margin-top: 8px; line-height: 1.6">
                当所有子元素都是相同类型时，<code>:nth-child()</code> 和 <code>:nth-of-type()</code> 的结果相同。
              </p>
            </div>
          </div>

          <!-- 示例 2: 混合元素 -->
          <div class="demo-container" style="margin-bottom: 40px">
            <h3>示例 2: 混合元素列表（关键区别）</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px">
              当父元素包含不同类型的子元素时，两种选择器的行为完全不同。
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px">
              <!-- nth-child 示例 -->
              <div>
                <h4 style="color: var(--primary); margin-bottom: 15px">使用 :nth-child(2)</h4>
                <div id="demo2-child" class="comparison-demo">
                  <h3>标题</h3>
                  <p>第 1 个段落</p>
                  <p>第 2 个段落</p>
                  <p>第 3 个段落</p>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 选择第 2 个子元素，
   且该元素是 p 标签 */</span>
p:nth-child(2) {
  background: var(--primary-light);
  border-left: 4px solid var(--primary);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">
                  ✅ 选中：第 1 个段落（它是第 2 个子元素）
                </p>
              </div>

              <!-- nth-of-type 示例 -->
              <div>
                <h4 style="color: var(--info); margin-bottom: 15px">使用 :nth-of-type(2)</h4>
                <div id="demo2-type" class="comparison-demo">
                  <h3>标题</h3>
                  <p>第 1 个段落</p>
                  <p>第 2 个段落</p>
                  <p>第 3 个段落</p>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 选择第 2 个 p 元素
   （忽略 h3） */</span>
p:nth-of-type(2) {
  background: var(--info-light);
  border-left: 4px solid var(--info);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">
                  ✅ 选中：第 2 个段落（它是第 2 个 p 元素）
                </p>
              </div>
            </div>

            <div
              style="
                background: var(--warning-light);
                border-left: 4px solid var(--warning);
                padding: 15px;
                border-radius: var(--radius-md);
                margin-top: 20px;
              "
            >
              <strong style="color: var(--warning-dark)">⚠️ 关键区别</strong>
              <p style="margin-top: 8px; line-height: 1.6">
                <code>:nth-child(2)</code> 选择第 2 个子元素（第 1 个段落）， 而 <code>:nth-of-type(2)</code> 选择第 2
                个 p 元素（第 2 个段落）。 这是因为 <code>:nth-of-type()</code> 忽略了 <code>&lt;h3&gt;</code> 标签。
              </p>
            </div>
          </div>

          <!-- 示例 3: 复杂混合 -->
          <div class="demo-container">
            <h3>示例 3: 复杂混合场景</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px">在更复杂的场景中，理解两者的区别更加重要。</p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px">
              <!-- nth-child 示例 -->
              <div>
                <h4 style="color: var(--primary); margin-bottom: 15px">使用 :nth-child(odd)</h4>
                <div id="demo3-child" class="comparison-demo">
                  <h3>标题 1</h3>
                  <p>段落 1</p>
                  <h3>标题 2</h3>
                  <p>段落 2</p>
                  <h3>标题 3</h3>
                  <p>段落 3</p>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 选择奇数位的 p 元素 */</span>
p:nth-child(odd) {
  background: var(--primary-light);
  border-left: 4px solid var(--primary);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">
                  ✅ 选中：段落 2（第 4 个子元素）、段落 3（第 6 个子元素）
                </p>
              </div>

              <!-- nth-of-type 示例 -->
              <div>
                <h4 style="color: var(--info); margin-bottom: 15px">使用 :nth-of-type(odd)</h4>
                <div id="demo3-type" class="comparison-demo">
                  <h3>标题 1</h3>
                  <p>段落 1</p>
                  <h3>标题 2</h3>
                  <p>段落 2</p>
                  <h3>标题 3</h3>
                  <p>段落 3</p>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 选择奇数位的 p 元素
   （只在 p 中计数） */</span>
p:nth-of-type(odd) {
  background: var(--info-light);
  border-left: 4px solid var(--info);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">
                  ✅ 选中：段落 1（第 1 个 p）、段落 3（第 3 个 p）
                </p>
              </div>
            </div>

            <div
              style="
                background: var(--error-light);
                border-left: 4px solid var(--error);
                padding: 15px;
                border-radius: var(--radius-md);
                margin-top: 20px;
              "
            >
              <strong style="color: var(--error-dark)">🎯 深入理解</strong>
              <p style="margin-top: 8px; line-height: 1.6">
                <code>:nth-child(odd)</code> 在所有子元素中计数，选择位置为奇数的 p 元素。<br />
                <code>:nth-of-type(odd)</code> 只在 p 元素中计数，选择第 1、3、5... 个 p 元素。<br />
                结果完全不同！
              </p>
            </div>
          </div>
        </section>

        <!-- 混合元素场景深度解析 -->
        <section class="demo-section">
          <h2>混合元素场景深度解析</h2>
          <p style="color: var(--text-secondary); margin-bottom: 30px">
            在实际项目中，我们经常遇到包含不同类型元素的容器。理解两种选择器在这些场景中的行为至关重要。
          </p>

          <!-- 实战场景 1: 文章内容 -->
          <div class="demo-container" style="margin-bottom: 40px">
            <h3>实战场景 1: 文章内容样式</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px">
              一篇文章通常包含标题、段落、图片、引用等多种元素。
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px">
              <!-- 使用 nth-child -->
              <div>
                <h4 style="color: var(--primary); margin-bottom: 15px">错误示例：使用 :nth-child()</h4>
                <div id="article-child" class="article-demo">
                  <h2>文章标题</h2>
                  <p>这是第一段内容，通常是引言。</p>
                  <img
                    src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='60'%3E%3Crect fill='%23ddd' width='100' height='60'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%23999'%3E图片%3C/text%3E%3C/svg%3E"
                    alt="示例图片"
                    style="width: 100%; border-radius: 4px"
                  />
                  <p>这是第二段内容。</p>
                  <p>这是第三段内容。</p>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 想选择第二段，但实际选中了图片后的段落 */</span>
article p:nth-child(2) {
  font-size: 1.1em;
  color: var(--primary);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--error)">
                  ❌ 问题：选中了第 4 个子元素（第二段），而不是第 2 个段落
                </p>
              </div>

              <!-- 使用 nth-of-type -->
              <div>
                <h4 style="color: var(--success); margin-bottom: 15px">正确示例：使用 :nth-of-type()</h4>
                <div id="article-type" class="article-demo">
                  <h2>文章标题</h2>
                  <p>这是第一段内容，通常是引言。</p>
                  <img
                    src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='60'%3E%3Crect fill='%23ddd' width='100' height='60'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%23999'%3E图片%3C/text%3E%3C/svg%3E"
                    alt="示例图片"
                    style="width: 100%; border-radius: 4px"
                  />
                  <p>这是第二段内容。</p>
                  <p>这是第三段内容。</p>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 正确选择第二个段落 */</span>
article p:nth-of-type(2) {
  font-size: 1.1em;
  color: var(--success);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">
                  ✅ 正确：选中第 2 个 p 元素，忽略标题和图片
                </p>
              </div>
            </div>
          </div>

          <!-- 实战场景 2: 列表项样式 -->
          <div class="demo-container" style="margin-bottom: 40px">
            <h3>实战场景 2: 带图标的列表</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px">列表项中可能包含图标、徽章等额外元素。</p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px">
              <!-- 使用 nth-child -->
              <div>
                <h4 style="color: var(--primary); margin-bottom: 15px">使用 :nth-child(even)</h4>
                <ul id="list-child" class="list-demo" style="list-style: none; padding: 0">
                  <li style="padding: 10px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 4px">
                    <span style="color: var(--primary); margin-right: 8px">🏠</span>
                    <span>首页</span>
                  </li>
                  <li style="padding: 10px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 4px">
                    <span style="color: var(--primary); margin-right: 8px">📝</span>
                    <span>文章</span>
                  </li>
                  <li style="padding: 10px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 4px">
                    <span style="color: var(--primary); margin-right: 8px">👤</span>
                    <span>关于</span>
                  </li>
                  <li style="padding: 10px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 4px">
                    <span style="color: var(--primary); margin-right: 8px">📧</span>
                    <span>联系</span>
                  </li>
                </ul>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 为偶数位的 li 添加背景 */</span>
li:nth-child(even) {
  background: var(--primary-light);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">
                  ✅ 选中：第 2、4 个 li（所有 li 都是相同类型）
                </p>
              </div>

              <!-- 混合内容的列表 -->
              <div>
                <h4 style="color: var(--warning); margin-bottom: 15px">混合内容时的陷阱</h4>
                <div id="list-mixed" class="list-demo" style="padding: 0">
                  <div
                    style="
                      padding: 10px;
                      margin-bottom: 8px;
                      background: var(--warning-light);
                      border-radius: 4px;
                      font-weight: bold;
                    "
                  >
                    导航菜单
                  </div>
                  <div style="padding: 10px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 4px">
                    <span style="color: var(--primary); margin-right: 8px">🏠</span>
                    <span>首页</span>
                  </div>
                  <div style="padding: 10px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 4px">
                    <span style="color: var(--primary); margin-right: 8px">📝</span>
                    <span>文章</span>
                  </div>
                  <div style="padding: 10px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 4px">
                    <span style="color: var(--primary); margin-right: 8px">👤</span>
                    <span>关于</span>
                  </div>
                </div>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 如果第一个是标题 div，
   :nth-child(even) 会选错 */</span>
.menu-item:nth-child(even) {
  background: var(--primary-light);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--warning)">
                  ⚠️ 注意：如果添加了标题元素，偶数位会变化
                </p>
              </div>
            </div>
          </div>

          <!-- 实战场景 3: 表格行 -->
          <div class="demo-container">
            <h3>实战场景 3: 表格斑马纹</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px">
              表格的斑马纹效果是 :nth-child() 的经典应用场景。
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px">
              <!-- 纯净表格 -->
              <div>
                <h4 style="color: var(--success); margin-bottom: 15px">纯净表格（推荐）</h4>
                <table style="width: 100%; border-collapse: collapse">
                  <thead>
                    <tr style="background: var(--bg-secondary); font-weight: bold">
                      <th style="padding: 10px; text-align: left; border-bottom: 2px solid var(--border-color)">
                        姓名
                      </th>
                      <th style="padding: 10px; text-align: left; border-bottom: 2px solid var(--border-color)">
                        年龄
                      </th>
                    </tr>
                  </thead>
                  <tbody id="table-clean">
                    <tr>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">张三</td>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">25</td>
                    </tr>
                    <tr>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">李四</td>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">30</td>
                    </tr>
                    <tr>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">王五</td>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">28</td>
                    </tr>
                    <tr>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">赵六</td>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">35</td>
                    </tr>
                  </tbody>
                </table>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 标准斑马纹 */</span>
tbody tr:nth-child(even) {
  background: var(--bg-secondary);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--success)">✅ 完美：偶数行有背景色</p>
              </div>

              <!-- 带分隔符的表格 -->
              <div>
                <h4 style="color: var(--info); margin-bottom: 15px">带分组的表格</h4>
                <table style="width: 100%; border-collapse: collapse">
                  <thead>
                    <tr style="background: var(--bg-secondary); font-weight: bold">
                      <th style="padding: 10px; text-align: left; border-bottom: 2px solid var(--border-color)">
                        姓名
                      </th>
                      <th style="padding: 10px; text-align: left; border-bottom: 2px solid var(--border-color)">
                        年龄
                      </th>
                    </tr>
                  </thead>
                  <tbody id="table-grouped">
                    <tr style="background: var(--info-light); font-weight: bold">
                      <td colspan="2" style="padding: 8px">A 组</td>
                    </tr>
                    <tr>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">张三</td>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">25</td>
                    </tr>
                    <tr>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">李四</td>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">30</td>
                    </tr>
                    <tr style="background: var(--info-light); font-weight: bold">
                      <td colspan="2" style="padding: 8px">B 组</td>
                    </tr>
                    <tr>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">王五</td>
                      <td style="padding: 10px; border-bottom: 1px solid var(--border-color)">28</td>
                    </tr>
                  </tbody>
                </table>
                <pre
                  style="
                    margin-top: 15px;
                    background: var(--bg-secondary);
                    padding: 12px;
                    border-radius: 4px;
                    font-size: 0.85em;
                  "
                ><code><span class="code-comment">/* 分组标题会打乱斑马纹 */</span>
tbody tr:nth-child(even) {
  background: var(--bg-secondary);
}

<span class="code-comment">/* 需要排除分组行 */</span>
tbody tr:nth-child(even):not(.group-header) {
  background: var(--bg-secondary);
}</code></pre>
                <p style="margin-top: 10px; font-size: 0.9em; color: var(--warning)">
                  ⚠️ 注意：分组标题会影响 :nth-child() 的计数
                </p>
              </div>
            </div>
          </div>

          <!-- 总结 -->
          <div
            style="
              background: var(--success-light);
              border-left: 4px solid var(--success);
              padding: 20px;
              border-radius: var(--radius-md);
              margin-top: 30px;
            "
          >
            <h3 style="margin-top: 0; color: var(--success-dark)">📚 选择器选择指南</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px">
              <div>
                <strong style="color: var(--primary)">使用 :nth-child() 当：</strong>
                <ul style="margin-top: 10px; line-height: 1.8">
                  <li>所有子元素都是相同类型</li>
                  <li>需要考虑所有兄弟元素的位置</li>
                  <li>实现斑马纹等布局效果</li>
                  <li>与类选择器组合使用</li>
                </ul>
              </div>
              <div>
                <strong style="color: var(--info)">使用 :nth-of-type() 当：</strong>
                <ul style="margin-top: 10px; line-height: 1.8">
                  <li>父元素包含混合类型的子元素</li>
                  <li>只关心特定类型元素的顺序</li>
                  <li>处理语义化内容（文章段落等）</li>
                  <li>需要忽略其他类型元素</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- 浏览器兼容性 -->
        <section class="compatibility-section">
          <h2>浏览器兼容性</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">这两个选择器都有非常好的浏览器支持。</p>

          <div
            style="
              background: var(--bg-secondary);
              padding: 20px;
              border-radius: var(--radius-md);
              border: 1px solid var(--border-color);
            "
          >
            <table style="width: 100%; border-collapse: collapse">
              <thead>
                <tr style="border-bottom: 2px solid var(--border-color)">
                  <th style="padding: 12px; text-align: left">选择器</th>
                  <th style="padding: 12px; text-align: center">Chrome</th>
                  <th style="padding: 12px; text-align: center">Firefox</th>
                  <th style="padding: 12px; text-align: center">Safari</th>
                  <th style="padding: 12px; text-align: center">Edge</th>
                </tr>
              </thead>
              <tbody>
                <tr style="border-bottom: 1px solid var(--border-color)">
                  <td style="padding: 12px"><code>:nth-child()</code></td>
                  <td style="padding: 12px; text-align: center">✅ 1+</td>
                  <td style="padding: 12px; text-align: center">✅ 3.5+</td>
                  <td style="padding: 12px; text-align: center">✅ 3.1+</td>
                  <td style="padding: 12px; text-align: center">✅ 12+</td>
                </tr>
                <tr>
                  <td style="padding: 12px"><code>:nth-of-type()</code></td>
                  <td style="padding: 12px; text-align: center">✅ 1+</td>
                  <td style="padding: 12px; text-align: center">✅ 3.5+</td>
                  <td style="padding: 12px; text-align: center">✅ 3.1+</td>
                  <td style="padding: 12px; text-align: center">✅ 12+</td>
                </tr>
              </tbody>
            </table>

            <p style="margin-top: 20px; color: var(--success); font-weight: 500">
              ✅ 这两个选择器都是 CSS3 的一部分，所有现代浏览器都完全支持。
            </p>

            <p style="margin-top: 10px; color: var(--text-secondary)">
              了解更多：
              <a href="https://caniuse.com/css-sel3" target="_blank" rel="noopener" style="color: var(--primary)">
                Can I Use - CSS3 Selectors
              </a>
            </p>
          </div>
        </section>
      </div>
    </main>

    <style>
      /* 演示容器样式 */
      .comparison-demo {
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        padding: 15px;
        min-height: 200px;
      }

      .comparison-demo > * {
        padding: 12px;
        margin-bottom: 8px;
        border-radius: 4px;
        background: var(--bg-secondary);
        border-left: 3px solid transparent;
        transition: all 0.3s ease;
      }

      .comparison-demo h3 {
        margin: 0;
        font-size: 1.1em;
      }

      .comparison-demo p {
        margin: 0;
        line-height: 1.6;
      }

      /* 示例 1: 简单列表 */
      #demo1-child p:nth-child(2) {
        background: var(--primary-light);
        border-left-color: var(--primary);
        font-weight: 500;
      }

      #demo1-type p:nth-of-type(2) {
        background: var(--info-light);
        border-left-color: var(--info);
        font-weight: 500;
      }

      /* 示例 2: 混合元素 */
      #demo2-child p:nth-child(2) {
        background: var(--primary-light);
        border-left-color: var(--primary);
        font-weight: 500;
      }

      #demo2-type p:nth-of-type(2) {
        background: var(--info-light);
        border-left-color: var(--info);
        font-weight: 500;
      }

      /* 示例 3: 复杂混合 */
      #demo3-child p:nth-child(odd) {
        background: var(--primary-light);
        border-left-color: var(--primary);
        font-weight: 500;
      }

      #demo3-type p:nth-of-type(odd) {
        background: var(--info-light);
        border-left-color: var(--info);
        font-weight: 500;
      }

      /* 文章演示样式 */
      .article-demo {
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        padding: 20px;
      }

      .article-demo h2 {
        margin: 0 0 15px 0;
        font-size: 1.3em;
        color: var(--text-primary);
      }

      .article-demo p {
        margin: 0 0 12px 0;
        line-height: 1.6;
        padding: 10px;
        border-radius: 4px;
        background: var(--bg-secondary);
      }

      .article-demo img {
        margin: 12px 0;
        display: block;
      }

      #article-child p:nth-child(2) {
        background: var(--primary-light);
        border-left: 4px solid var(--primary);
        font-weight: 500;
      }

      #article-type p:nth-of-type(2) {
        background: var(--success-light);
        border-left: 4px solid var(--success);
        font-weight: 500;
      }

      /* 列表演示样式 */
      #list-child li:nth-child(even) {
        background: var(--primary-light) !important;
        border-left: 4px solid var(--primary);
      }

      #list-mixed > div:nth-child(even) {
        background: var(--warning-light) !important;
        border-left: 4px solid var(--warning);
      }

      /* 表格演示样式 */
      #table-clean tr:nth-child(even) {
        background: var(--bg-secondary);
      }

      #table-grouped tr:nth-child(even):not(:first-child):not(:nth-child(4)) {
        background: var(--bg-secondary);
      }

      /* 响应式调整 */
      @media (max-width: 768px) {
        .demo-container > div[style*='grid-template-columns'] {
          grid-template-columns: 1fr !important;
        }
      }
    </style>
  </body>
</html>
