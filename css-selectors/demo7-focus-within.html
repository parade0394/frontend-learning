<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>:focus-within - CSS ç°ä»£é€‰æ‹©å™¨</title>
    <link href="/src/styles/common.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script>
      (function () {
        try {
          const theme = localStorage.getItem('themeMode') || 'light';
          const color = localStorage.getItem('primaryColor') || '#10b981';
          let actualTheme = theme;
          if (theme === 'auto') {
            actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', actualTheme);
          document.documentElement.style.setProperty('--primary', color);
        } catch (e) {
          console.log(e);
        }
      })();
    </script>
    <script type="module" src="/src/theme.js"></script>
    <script src="compatibility-check.js"></script>
  </head>
  <body data-demo="focus-within">
    <!-- å·¦ä¾§è¾¹æ å¯¼èˆª -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>CSS ç°ä»£é€‰æ‹©å™¨</h1>
        <a class="back-home" href="index.html">â† è¿”å›ä¸»é¡µ</a>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <h3>åŸºç¡€æ¦‚å¿µ</h3>
          <a class="nav-item" href="demo1-specificity.html">é€‰æ‹©å™¨ä¼˜å…ˆçº§</a>
        </div>
        <div class="nav-section">
          <h3>é€»è¾‘é€‰æ‹©å™¨</h3>
          <a class="nav-item" href="demo2-is.html">:is() ä¼ªç±»</a>
          <a class="nav-item" href="demo3-where.html">:where() ä¼ªç±»</a>
          <a class="nav-item" href="demo4-not.html">:not() ä¼ªç±»</a>
        </div>
        <div class="nav-section">
          <h3>çˆ¶å­å…³ç³»é€‰æ‹©å™¨</h3>
          <a class="nav-item" href="demo5-has-basics.html">:has() åŸºç¡€</a>
          <a class="nav-item" href="demo6-has-practical.html">:has() å®æˆ˜</a>
        </div>
        <div class="nav-section">
          <h3>çŠ¶æ€é€‰æ‹©å™¨</h3>
          <a class="nav-item active" href="demo7-focus-within.html">:focus-within</a>
          <a class="nav-item" href="demo8-focus-visible.html">:focus-visible</a>
        </div>
        <div class="nav-section">
          <h3>ç»“æ„é€‰æ‹©å™¨è¿›é˜¶</h3>
          <a class="nav-item" href="demo9-nth-child.html">:nth-child() é«˜çº§</a>
          <a class="nav-item" href="demo10-nth-comparison.html">ç»“æ„é€‰æ‹©å™¨å¯¹æ¯”</a>
        </div>
        <div class="nav-section">
          <h3>ç»¼åˆå®æˆ˜</h3>
          <a class="nav-item" href="demo11-combinations.html">é€‰æ‹©å™¨ç»„åˆå®æˆ˜</a>
        </div>
      </nav>
    </aside>

    <!-- å³ä¾§ä¸»å†…å®¹åŒº -->
    <main class="main-content">
      <div class="demo-page">
        <h1>:focus-within</h1>
        <p class="subtitle">æ£€æµ‹å†…éƒ¨å…ƒç´ çš„ç„¦ç‚¹çŠ¶æ€</p>

        <!-- æ¦‚å¿µä»‹ç» -->
        <section class="concept-section">
          <h2>ä»€ä¹ˆæ˜¯ :focus-within?</h2>
          <p>
            <code>:focus-within</code> ä¼ªç±»ç”¨äºé€‰æ‹©<strong>è‡ªèº«æˆ–å…¶åä»£å…ƒç´ è·å¾—ç„¦ç‚¹</strong>çš„å…ƒç´ ã€‚
            è¿™æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„é€‰æ‹©å™¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨å†…éƒ¨å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶ï¼Œæ”¹å˜çˆ¶å®¹å™¨çš„æ ·å¼ã€‚
          </p>
          <p>
            ä¸ä¼ ç»Ÿçš„ <code>:focus</code> åªèƒ½é€‰æ‹©è·å¾—ç„¦ç‚¹çš„å…ƒç´ æœ¬èº«ä¸åŒï¼Œ
            <code>:focus-within</code> å¯ä»¥å‘ä¸Šä¼ æ’­ï¼Œè®©çˆ¶å…ƒç´ ä¹Ÿèƒ½å“åº”å†…éƒ¨å…ƒç´ çš„ç„¦ç‚¹çŠ¶æ€ã€‚
            è¿™åœ¨è¡¨å•è®¾è®¡ã€æœç´¢æ¡†ã€å¯¹è¯æ¡†ç­‰åœºæ™¯ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚
          </p>
          <div class="info-box">
            <strong>ğŸ’¡ æ ¸å¿ƒç‰¹æ€§ï¼š</strong>
            <ul>
              <li>å½“å…ƒç´ è‡ªèº«æˆ–ä»»ä½•åä»£å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶åŒ¹é…</li>
              <li>ç„¦ç‚¹çŠ¶æ€å‘ä¸Šä¼ æ’­åˆ°æ‰€æœ‰ç¥–å…ˆå…ƒç´ </li>
              <li>æ”¯æŒåµŒå¥—å…ƒç´ çš„ç„¦ç‚¹æ£€æµ‹</li>
              <li>æ— éœ€ JavaScript å³å¯å®ç°çˆ¶å®¹å™¨å“åº”</li>
            </ul>
          </div>
        </section>

        <!-- è¯­æ³•è¯´æ˜ -->
        <section class="syntax-section">
          <h2>è¯­æ³•</h2>
          <pre><code>/* åŸºç¡€è¯­æ³• */
element:focus-within {
  /* å½“ element æˆ–å…¶åä»£è·å¾—ç„¦ç‚¹æ—¶çš„æ ·å¼ */
}

/* å®é™…åº”ç”¨ç¤ºä¾‹ */
form:focus-within {
  border-color: blue;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
}

/* åµŒå¥—ä½¿ç”¨ */
.container:focus-within .label {
  color: var(--primary);
  font-weight: 600;
}</code></pre>
          <div class="info-box warning">
            <strong>âš ï¸ ä¸ :has(:focus) çš„å¯¹æ¯”ï¼š</strong>
            <ul>
              <li><code>:focus-within</code> - ä¸“é—¨ç”¨äºç„¦ç‚¹æ£€æµ‹ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæµè§ˆå™¨æ”¯æŒæ›´æ—©</li>
              <li><code>:has(:focus)</code> - æ›´é€šç”¨çš„çˆ¶é€‰æ‹©å™¨ï¼Œä½†æ€§èƒ½ç¨å·®ï¼Œæµè§ˆå™¨æ”¯æŒè¾ƒæ™š</li>
              <li>å¯¹äºç„¦ç‚¹æ£€æµ‹åœºæ™¯ï¼Œæ¨èä½¿ç”¨ <code>:focus-within</code></li>
            </ul>
          </div>
        </section>

        <!-- ç¤ºä¾‹ 1: è¡¨å•å®¹å™¨ç„¦ç‚¹ -->
        <section class="demo-section">
          <h2>ç¤ºä¾‹ 1: è¡¨å•å®¹å™¨ç„¦ç‚¹æ•ˆæœ</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            å½“è¡¨å•å†…çš„ä»»ä½•è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶ï¼Œæ•´ä¸ªè¡¨å•å®¹å™¨ä¼šæ”¹å˜æ ·å¼ï¼Œæä¾›æ¸…æ™°çš„è§†è§‰åé¦ˆã€‚
          </p>

          <div class="demo-container single-column">
            <div class="demo-preview">
              <div class="demo-preview-title">æ•ˆæœé¢„è§ˆ - ç‚¹å‡»æˆ– Tab åˆ°è¾“å…¥æ¡†</div>
              <style>
                .form-container-demo {
                  max-width: 500px;
                  margin: 0 auto;
                }

                .focus-form {
                  background: var(--bg-primary);
                  border: 3px solid var(--border-color);
                  border-radius: 12px;
                  padding: 30px;
                  transition: all 0.3s ease;
                }

                /* è¡¨å•å†…æœ‰å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶çš„æ ·å¼ */
                .focus-form:focus-within {
                  border-color: var(--primary);
                  background: var(--primary-light);
                  box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
                }

                .focus-form h3 {
                  margin-top: 0;
                  color: var(--text-primary);
                  transition: color 0.3s ease;
                }

                /* æ ‡é¢˜ä¹Ÿä¼šå“åº”ç„¦ç‚¹çŠ¶æ€ */
                .focus-form:focus-within h3 {
                  color: var(--primary);
                }

                .form-group {
                  margin-bottom: 20px;
                }

                .form-group label {
                  display: block;
                  margin-bottom: 8px;
                  color: var(--text-secondary);
                  font-weight: 500;
                  transition: all 0.3s ease;
                }

                .form-group input,
                .form-group textarea {
                  width: 100%;
                  padding: 12px;
                  border: 2px solid var(--border-color);
                  border-radius: 8px;
                  font-size: 1rem;
                  background: var(--bg-primary);
                  color: var(--text-primary);
                  transition: all 0.3s ease;
                }

                .form-group input:focus,
                .form-group textarea:focus {
                  outline: none;
                  border-color: var(--primary);
                }

                /* å½“å‰è·å¾—ç„¦ç‚¹çš„è¾“å…¥æ¡†çš„æ ‡ç­¾é«˜äº® */
                .form-group:focus-within label {
                  color: var(--primary);
                  font-weight: 600;
                  transform: translateX(4px);
                }

                .focus-indicator {
                  margin-top: 20px;
                  padding: 12px;
                  background: var(--bg-secondary);
                  border-radius: 8px;
                  text-align: center;
                  font-weight: 600;
                  color: var(--text-secondary);
                  transition: all 0.3s ease;
                }

                .focus-form:focus-within .focus-indicator {
                  background: var(--primary);
                  color: white;
                }
              </style>

              <div class="form-container-demo">
                <form class="focus-form">
                  <h3>ç”¨æˆ·æ³¨å†Œ</h3>
                  <div class="form-group">
                    <label for="username">ç”¨æˆ·å</label>
                    <input id="username" type="text" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" />
                  </div>
                  <div class="form-group">
                    <label for="email">é‚®ç®±</label>
                    <input id="email" type="email" placeholder="è¯·è¾“å…¥é‚®ç®±" />
                  </div>
                  <div class="form-group">
                    <label for="bio">ä¸ªäººç®€ä»‹</label>
                    <textarea id="bio" placeholder="ä»‹ç»ä¸€ä¸‹è‡ªå·±..." rows="3"></textarea>
                  </div>
                  <div class="focus-indicator">è¡¨å•æœªæ¿€æ´»</div>
                </form>
              </div>
            </div>

            <div class="demo-code">
              <pre><code>/* è¡¨å•å®¹å™¨ç„¦ç‚¹æ ·å¼ */
.focus-form:focus-within {
  border-color: var(--primary);
  background: var(--primary-light);
  box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
}

/* æ ‡é¢˜å“åº”ç„¦ç‚¹çŠ¶æ€ */
.focus-form:focus-within h3 {
  color: var(--primary);
}

/* å½“å‰è·å¾—ç„¦ç‚¹çš„è¾“å…¥æ¡†çš„æ ‡ç­¾é«˜äº® */
.form-group:focus-within label {
  color: var(--primary);
  font-weight: 600;
  transform: translateX(4px);
}

/* ç„¦ç‚¹æŒ‡ç¤ºå™¨ */
.focus-form:focus-within .focus-indicator {
  background: var(--primary);
  color: white;
}</code></pre>
            </div>
          </div>
        </section>

        <!-- ç¤ºä¾‹ 2: åµŒå¥—å…ƒç´ ç„¦ç‚¹ä¼ æ’­ -->
        <section class="demo-section">
          <h2>ç¤ºä¾‹ 2: åµŒå¥—å…ƒç´ çš„ç„¦ç‚¹ä¼ æ’­</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            <code>:focus-within</code> ä¼šå‘ä¸Šä¼ æ’­åˆ°æ‰€æœ‰ç¥–å…ˆå…ƒç´ ï¼Œè¿™ä½¿å¾—å¤šå±‚åµŒå¥—çš„å¸ƒå±€ä¹Ÿèƒ½å“åº”å†…éƒ¨å…ƒç´ çš„ç„¦ç‚¹çŠ¶æ€ã€‚
          </p>

          <div class="demo-container single-column">
            <div class="demo-preview">
              <div class="demo-preview-title">æ•ˆæœé¢„è§ˆ - è§‚å¯Ÿå¤šå±‚å®¹å™¨çš„å“åº”</div>
              <style>
                .nested-demo {
                  max-width: 600px;
                  margin: 0 auto;
                }

                .outer-container {
                  background: var(--bg-secondary);
                  border: 3px solid var(--border-color);
                  border-radius: 12px;
                  padding: 20px;
                  transition: all 0.3s ease;
                }

                .outer-container:focus-within {
                  border-color: #f59e0b;
                  background: rgba(245, 158, 11, 0.05);
                }

                .middle-container {
                  background: var(--bg-primary);
                  border: 3px solid var(--border-color);
                  border-radius: 8px;
                  padding: 20px;
                  margin-top: 15px;
                  transition: all 0.3s ease;
                }

                .middle-container:focus-within {
                  border-color: #8b5cf6;
                  background: rgba(139, 92, 246, 0.05);
                }

                .inner-container {
                  background: var(--bg-secondary);
                  border: 3px solid var(--border-color);
                  border-radius: 8px;
                  padding: 15px;
                  margin-top: 15px;
                  transition: all 0.3s ease;
                }

                .inner-container:focus-within {
                  border-color: var(--primary);
                  background: var(--primary-light);
                }

                .container-label {
                  font-weight: 600;
                  margin-bottom: 10px;
                  color: var(--text-secondary);
                  transition: color 0.3s ease;
                }

                .outer-container:focus-within > .container-label {
                  color: #f59e0b;
                }

                .middle-container:focus-within > .container-label {
                  color: #8b5cf6;
                }

                .inner-container:focus-within > .container-label {
                  color: var(--primary);
                }

                .nested-input {
                  width: 100%;
                  padding: 10px;
                  border: 2px solid var(--border-color);
                  border-radius: 6px;
                  font-size: 1rem;
                  background: var(--bg-primary);
                  color: var(--text-primary);
                }

                .nested-input:focus {
                  outline: none;
                  border-color: var(--primary);
                }
              </style>

              <div class="nested-demo">
                <div class="outer-container">
                  <div class="container-label">ğŸŸ¡ å¤–å±‚å®¹å™¨ (Outer)</div>
                  <p style="margin: 10px 0; color: var(--text-secondary); font-size: 0.9rem">
                    å½“å†…éƒ¨ä»»ä½•è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶ï¼Œæˆ‘ä¼šå˜æˆæ©™è‰²è¾¹æ¡†
                  </p>

                  <div class="middle-container">
                    <div class="container-label">ğŸŸ£ ä¸­å±‚å®¹å™¨ (Middle)</div>
                    <p style="margin: 10px 0; color: var(--text-secondary); font-size: 0.9rem">
                      å½“å†…éƒ¨è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶ï¼Œæˆ‘ä¼šå˜æˆç´«è‰²è¾¹æ¡†
                    </p>

                    <div class="inner-container">
                      <div class="container-label">ğŸŸ¢ å†…å±‚å®¹å™¨ (Inner)</div>
                      <input class="nested-input" type="text" placeholder="ç‚¹å‡»è¿™é‡Œï¼Œè§‚å¯Ÿä¸‰å±‚å®¹å™¨çš„å˜åŒ–" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="demo-code">
              <pre><code>/* å¤–å±‚å®¹å™¨ */
.outer-container:focus-within {
  border-color: #f59e0b;
  background: rgba(245, 158, 11, 0.05);
}

.outer-container:focus-within > .container-label {
  color: #f59e0b;
}

/* ä¸­å±‚å®¹å™¨ */
.middle-container:focus-within {
  border-color: #8b5cf6;
  background: rgba(139, 92, 246, 0.05);
}

.middle-container:focus-within > .container-label {
  color: #8b5cf6;
}

/* å†…å±‚å®¹å™¨ */
.inner-container:focus-within {
  border-color: var(--primary);
  background: var(--primary-light);
}

.inner-container:focus-within > .container-label {
  color: var(--primary);
}</code></pre>
            </div>
          </div>
        </section>

        <!-- å®é™…åº”ç”¨åœºæ™¯ -->
        <section class="demo-section">
          <h2>å®é™…åº”ç”¨åœºæ™¯</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            ä»¥ä¸‹æ˜¯ä¸‰ä¸ªå¸¸è§çš„å®é™…åº”ç”¨åœºæ™¯ï¼Œå±•ç¤º <code>:focus-within</code> å¦‚ä½•æå‡ç”¨æˆ·ä½“éªŒã€‚
          </p>

          <!-- åœºæ™¯ 1: æœç´¢æ¡† -->
          <div class="demo-container single-column" style="margin-bottom: 40px">
            <h3 style="margin-top: 0">åœºæ™¯ 1: æœç´¢æ¡†å®¹å™¨ç„¦ç‚¹æ•ˆæœ</h3>
            <div class="demo-preview">
              <style>
                .search-container {
                  max-width: 500px;
                  margin: 0 auto;
                  background: var(--bg-primary);
                  border: 3px solid var(--border-color);
                  border-radius: 50px;
                  padding: 8px 20px;
                  display: flex;
                  align-items: center;
                  gap: 12px;
                  transition: all 0.3s ease;
                }

                .search-container:focus-within {
                  border-color: var(--primary);
                  box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
                  background: var(--primary-light);
                }

                .search-icon {
                  font-size: 1.3rem;
                  color: var(--text-secondary);
                  transition: color 0.3s ease;
                }

                .search-container:focus-within .search-icon {
                  color: var(--primary);
                }

                .search-input {
                  flex: 1;
                  border: none;
                  outline: none;
                  font-size: 1rem;
                  background: transparent;
                  color: var(--text-primary);
                }

                .search-input::placeholder {
                  color: var(--text-secondary);
                }

                .search-btn {
                  padding: 8px 20px;
                  background: var(--bg-secondary);
                  border: none;
                  border-radius: 20px;
                  color: var(--text-secondary);
                  font-weight: 600;
                  cursor: pointer;
                  transition: all 0.3s ease;
                  opacity: 0;
                  transform: scale(0.8);
                }

                .search-container:focus-within .search-btn {
                  opacity: 1;
                  transform: scale(1);
                  background: var(--primary);
                  color: white;
                }
              </style>

              <div class="search-container">
                <span class="search-icon">ğŸ”</span>
                <input class="search-input" type="text" placeholder="æœç´¢..." />
                <button class="search-btn">æœç´¢</button>
              </div>
            </div>

            <div class="demo-code">
              <pre><code>/* æœç´¢æ¡†å®¹å™¨è·å¾—ç„¦ç‚¹æ—¶çš„æ ·å¼ */
.search-container:focus-within {
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
  background: var(--primary-light);
}

/* å›¾æ ‡é¢œè‰²å˜åŒ– */
.search-container:focus-within .search-icon {
  color: var(--primary);
}

/* æœç´¢æŒ‰é’®æ˜¾ç¤ºåŠ¨ç”» */
.search-container:focus-within .search-btn {
  opacity: 1;
  transform: scale(1);
  background: var(--primary);
  color: white;
}</code></pre>
            </div>
          </div>

          <!-- åœºæ™¯ 2: ç™»å½•è¡¨å• -->
          <div class="demo-container single-column" style="margin-bottom: 40px">
            <h3 style="margin-top: 0">åœºæ™¯ 2: ç™»å½•è¡¨å•ç„¦ç‚¹é«˜äº®</h3>
            <div class="demo-preview">
              <style>
                .login-card {
                  max-width: 400px;
                  margin: 0 auto;
                  background: var(--bg-primary);
                  border: 3px solid var(--border-color);
                  border-radius: 16px;
                  padding: 40px;
                  transition: all 0.3s ease;
                  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                }

                .login-card:focus-within {
                  border-color: var(--primary);
                  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.15);
                  transform: translateY(-2px);
                }

                .login-card h3 {
                  margin-top: 0;
                  text-align: center;
                  color: var(--text-primary);
                  transition: color 0.3s ease;
                }

                .login-card:focus-within h3 {
                  color: var(--primary);
                }

                .login-field {
                  margin-bottom: 20px;
                }

                .login-field label {
                  display: block;
                  margin-bottom: 8px;
                  color: var(--text-secondary);
                  font-weight: 500;
                  transition: all 0.3s ease;
                }

                .login-field:focus-within label {
                  color: var(--primary);
                  transform: translateX(4px);
                }

                .login-field input {
                  width: 100%;
                  padding: 12px;
                  border: 2px solid var(--border-color);
                  border-radius: 8px;
                  font-size: 1rem;
                  background: var(--bg-secondary);
                  color: var(--text-primary);
                  transition: all 0.3s ease;
                }

                .login-field input:focus {
                  outline: none;
                  border-color: var(--primary);
                  background: var(--bg-primary);
                }

                .login-submit {
                  width: 100%;
                  padding: 12px;
                  background: var(--bg-secondary);
                  border: 2px solid var(--border-color);
                  border-radius: 8px;
                  color: var(--text-secondary);
                  font-size: 1rem;
                  font-weight: 600;
                  cursor: pointer;
                  transition: all 0.3s ease;
                }

                .login-card:focus-within .login-submit {
                  background: var(--primary);
                  border-color: var(--primary);
                  color: white;
                }
              </style>

              <form class="login-card">
                <h3>ğŸ” ç”¨æˆ·ç™»å½•</h3>
                <div class="login-field">
                  <label for="login-email">é‚®ç®±åœ°å€</label>
                  <input id="login-email" type="email" placeholder="your@email.com" />
                </div>
                <div class="login-field">
                  <label for="login-password">å¯†ç </label>
                  <input id="login-password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
                </div>
                <button class="login-submit" type="submit">ç™»å½•</button>
              </form>
            </div>

            <div class="demo-code">
              <pre><code>/* ç™»å½•å¡ç‰‡è·å¾—ç„¦ç‚¹æ—¶æå‡ */
.login-card:focus-within {
  border-color: var(--primary);
  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.15);
  transform: translateY(-2px);
}

/* æ ‡é¢˜é¢œè‰²å˜åŒ– */
.login-card:focus-within h3 {
  color: var(--primary);
}

/* å½“å‰å­—æ®µæ ‡ç­¾é«˜äº® */
.login-field:focus-within label {
  color: var(--primary);
  transform: translateX(4px);
}

/* æäº¤æŒ‰é’®æ¿€æ´» */
.login-card:focus-within .login-submit {
  background: var(--primary);
  color: white;
}</code></pre>
            </div>
          </div>

          <!-- åœºæ™¯ 3: è¯„è®ºæ¡† -->
          <div class="demo-container single-column">
            <h3 style="margin-top: 0">åœºæ™¯ 3: è¯„è®ºæ¡†ç„¦ç‚¹çŠ¶æ€</h3>
            <div class="demo-preview">
              <style>
                .comment-box {
                  max-width: 600px;
                  margin: 0 auto;
                  background: var(--bg-primary);
                  border: 3px solid var(--border-color);
                  border-radius: 12px;
                  padding: 20px;
                  transition: all 0.3s ease;
                }

                .comment-box:focus-within {
                  border-color: var(--primary);
                  background: var(--primary-light);
                }

                .comment-header {
                  display: flex;
                  align-items: center;
                  gap: 12px;
                  margin-bottom: 15px;
                }

                .comment-avatar {
                  width: 40px;
                  height: 40px;
                  background: var(--bg-secondary);
                  border-radius: 50%;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  font-size: 1.5rem;
                  transition: all 0.3s ease;
                }

                .comment-box:focus-within .comment-avatar {
                  background: var(--primary);
                  transform: scale(1.1);
                }

                .comment-user {
                  font-weight: 600;
                  color: var(--text-primary);
                }

                .comment-textarea {
                  width: 100%;
                  min-height: 100px;
                  padding: 12px;
                  border: 2px solid var(--border-color);
                  border-radius: 8px;
                  font-size: 1rem;
                  font-family: inherit;
                  background: var(--bg-primary);
                  color: var(--text-primary);
                  resize: vertical;
                  transition: all 0.3s ease;
                }

                .comment-textarea:focus {
                  outline: none;
                  border-color: var(--primary);
                }

                .comment-actions {
                  margin-top: 15px;
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  opacity: 0.5;
                  transition: all 0.3s ease;
                }

                .comment-box:focus-within .comment-actions {
                  opacity: 1;
                }

                .comment-tools {
                  display: flex;
                  gap: 10px;
                }

                .comment-tool {
                  padding: 6px 12px;
                  background: var(--bg-secondary);
                  border: none;
                  border-radius: 6px;
                  color: var(--text-secondary);
                  cursor: pointer;
                  transition: all 0.3s ease;
                  transform: translateY(10px);
                  opacity: 0;
                }

                .comment-box:focus-within .comment-tool {
                  transform: translateY(0);
                  opacity: 1;
                }

                .comment-tool:nth-child(1) {
                  transition-delay: 0.05s;
                }
                .comment-tool:nth-child(2) {
                  transition-delay: 0.1s;
                }
                .comment-tool:nth-child(3) {
                  transition-delay: 0.15s;
                }

                .comment-submit {
                  padding: 8px 24px;
                  background: var(--bg-secondary);
                  border: 2px solid var(--border-color);
                  border-radius: 6px;
                  color: var(--text-secondary);
                  font-weight: 600;
                  cursor: pointer;
                  transition: all 0.3s ease;
                }

                .comment-box:focus-within .comment-submit {
                  background: var(--primary);
                  border-color: var(--primary);
                  color: white;
                }
              </style>

              <div class="comment-box">
                <div class="comment-header">
                  <div class="comment-avatar">ğŸ‘¤</div>
                  <span class="comment-user">å½“å‰ç”¨æˆ·</span>
                </div>
                <textarea class="comment-textarea" placeholder="å†™ä¸‹ä½ çš„è¯„è®º..."></textarea>
                <div class="comment-actions">
                  <div class="comment-tools">
                    <button class="comment-tool">ğŸ“·</button>
                    <button class="comment-tool">ğŸ˜Š</button>
                    <button class="comment-tool">ğŸ”—</button>
                  </div>
                  <button class="comment-submit">å‘è¡¨è¯„è®º</button>
                </div>
              </div>
            </div>

            <div class="demo-code">
              <pre><code>/* è¯„è®ºæ¡†è·å¾—ç„¦ç‚¹æ—¶çš„æ ·å¼ */
.comment-box:focus-within {
  border-color: var(--primary);
  background: var(--primary-light);
}

/* å¤´åƒåŠ¨ç”» */
.comment-box:focus-within .comment-avatar {
  background: var(--primary);
  transform: scale(1.1);
}

/* æ“ä½œæŒ‰é’®æ˜¾ç¤º */
.comment-box:focus-within .comment-actions {
  opacity: 1;
}

/* å·¥å…·æŒ‰é’®æ¸å…¥åŠ¨ç”» */
.comment-box:focus-within .comment-tool {
  transform: translateY(0);
  opacity: 1;
}

/* æäº¤æŒ‰é’®æ¿€æ´» */
.comment-box:focus-within .comment-submit {
  background: var(--primary);
  color: white;
}</code></pre>
            </div>
          </div>
        </section>

        <!-- æµè§ˆå™¨å…¼å®¹æ€§ -->
        <section class="compatibility-section">
          <h2>æµè§ˆå™¨å…¼å®¹æ€§</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px">
            <code>:focus-within</code> åœ¨ç°ä»£æµè§ˆå™¨ä¸­æœ‰è‰¯å¥½çš„æ”¯æŒï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥æ”¾å¿ƒä½¿ç”¨çš„ç‰¹æ€§ã€‚
          </p>

          <div class="compatibility-table">
            <table>
              <thead>
                <tr>
                  <th>æµè§ˆå™¨</th>
                  <th>ç‰ˆæœ¬æ”¯æŒ</th>
                  <th>å‘å¸ƒæ—¶é—´</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <span class="browser-icon">ğŸŒ</span>
                    Chrome / Edge
                  </td>
                  <td><span class="support-badge yes">âœ“ 60+</span></td>
                  <td>2017å¹´7æœˆ</td>
                </tr>
                <tr>
                  <td>
                    <span class="browser-icon">ğŸ¦Š</span>
                    Firefox
                  </td>
                  <td><span class="support-badge yes">âœ“ 52+</span></td>
                  <td>2017å¹´3æœˆ</td>
                </tr>
                <tr>
                  <td>
                    <span class="browser-icon">ğŸ§­</span>
                    Safari
                  </td>
                  <td><span class="support-badge yes">âœ“ 10.1+</span></td>
                  <td>2017å¹´3æœˆ</td>
                </tr>
                <tr>
                  <td>
                    <span class="browser-icon">ğŸ“±</span>
                    iOS Safari
                  </td>
                  <td><span class="support-badge yes">âœ“ 10.3+</span></td>
                  <td>2017å¹´3æœˆ</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-box">
            <strong>ğŸ’¡ ä½¿ç”¨å»ºè®®ï¼š</strong>
            <ul>
              <li>
                <strong>ä¼˜å…ˆä½¿ç”¨</strong> - ç›¸æ¯” <code>:has(:focus)</code>ï¼Œ<code>:focus-within</code>
                æ€§èƒ½æ›´å¥½ä¸”æ”¯æŒæ›´æ—©
              </li>
              <li><strong>æ¸è¿›å¢å¼º</strong> - å³ä½¿ä¸æ”¯æŒï¼Œä¹Ÿä¸ä¼šå½±å“åŸºæœ¬åŠŸèƒ½ï¼Œåªæ˜¯ç¼ºå°‘è§†è§‰å¢å¼º</li>
              <li><strong>æ— éšœç¢å‹å¥½</strong> - é…åˆé”®ç›˜å¯¼èˆªä½¿ç”¨ï¼Œæå‡å¯è®¿é—®æ€§</li>
              <li><strong>é¿å…è¿‡åº¦ä½¿ç”¨</strong> - ä¸è¦åœ¨æ¯ä¸ªå…ƒç´ ä¸Šéƒ½ä½¿ç”¨ï¼Œä¿æŒæ€§èƒ½</li>
            </ul>
          </div>

          <div class="info-box warning">
            <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong>
            <ul>
              <li>IE æµè§ˆå™¨ä¸æ”¯æŒ <code>:focus-within</code></li>
              <li>å¦‚éœ€æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨ï¼Œå¯ä»¥ä½¿ç”¨ JavaScript polyfill</li>
              <li>é¿å…åœ¨ <code>:focus-within</code> ä¸­ä½¿ç”¨å¤æ‚çš„åŠ¨ç”»ï¼Œå¯èƒ½å½±å“æ€§èƒ½</li>
            </ul>
          </div>

          <p style="margin-top: 20px">
            <a
              href="https://caniuse.com/css-focus-within"
              target="_blank"
              rel="noopener"
              style="color: var(--primary); text-decoration: none; font-weight: 600"
            >
              â†’ æŸ¥çœ‹å®Œæ•´çš„æµè§ˆå™¨å…¼å®¹æ€§æ•°æ® (Can I Use)
            </a>
          </p>
        </section>

        <!-- æ€»ç»“ -->
        <section class="concept-section" style="margin-top: 40px">
          <h2>æ€»ç»“</h2>
          <p>
            <code>:focus-within</code> æ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”å®ç”¨çš„ä¼ªç±»é€‰æ‹©å™¨ï¼Œå®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸ä½¿ç”¨ JavaScript çš„æƒ…å†µä¸‹ï¼Œ
            æ ¹æ®å†…éƒ¨å…ƒç´ çš„ç„¦ç‚¹çŠ¶æ€æ¥æ”¹å˜çˆ¶å®¹å™¨çš„æ ·å¼ã€‚
          </p>
          <div class="info-box">
            <strong>ğŸ¯ æ ¸å¿ƒè¦ç‚¹ï¼š</strong>
            <ul>
              <li>å½“å…ƒç´ è‡ªèº«æˆ–åä»£å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶åŒ¹é…</li>
              <li>ç„¦ç‚¹çŠ¶æ€å‘ä¸Šä¼ æ’­åˆ°æ‰€æœ‰ç¥–å…ˆå…ƒç´ </li>
              <li>éå¸¸é€‚åˆè¡¨å•ã€æœç´¢æ¡†ã€å¯¹è¯æ¡†ç­‰äº¤äº’åœºæ™¯</li>
              <li>ç›¸æ¯” <code>:has(:focus)</code> æ€§èƒ½æ›´å¥½ï¼Œæµè§ˆå™¨æ”¯æŒæ›´æ—©</li>
              <li>é…åˆè¿‡æ¸¡åŠ¨ç”»å¯ä»¥åˆ›é€ æµç•…çš„ç”¨æˆ·ä½“éªŒ</li>
            </ul>
          </div>
          <p>
            åœ¨ä¸‹ä¸€ä¸ªæ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹  <code>:focus-visible</code>ï¼Œ
            å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åŒºåˆ†é¼ æ ‡ç‚¹å‡»å’Œé”®ç›˜å¯¼èˆªçš„ç„¦ç‚¹çŠ¶æ€ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚
          </p>
        </section>
      </div>
    </main>
  </body>
</html>
