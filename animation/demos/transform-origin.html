<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>transform-origin - CSS 动画教程</title>
    <link rel="stylesheet" href="../styles.css" />
    <script src="../../shared/theme-sync.js"></script>
    <style>
      .origin-demo {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
        margin: 30px 0;
      }

      .origin-item {
        text-align: center;
      }

      .origin-container {
        width: 200px;
        height: 200px;
        background: #f3f4f6;
        border: 2px dashed #d1d5db;
        border-radius: 8px;
        position: relative;
        margin: 0 auto 15px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .origin-box {
        width: 80px;
        height: 80px;
        background: #10b981;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        border-radius: 8px;
        transition: transform 0.6s ease;
        cursor: pointer;
      }

      .origin-box:hover {
        transform: rotate(90deg);
      }

      /* 原点标记 */
      .origin-dot {
        position: absolute;
        width: 8px;
        height: 8px;
        background: #dc2626;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
      }

      .origin-dot::after {
        content: '';
        position: absolute;
        width: 16px;
        height: 16px;
        border: 2px solid #dc2626;
        border-radius: 50%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      /* 时钟指针演示 */
      .clock-demo {
        width: 200px;
        height: 200px;
        border: 4px solid #10b981;
        border-radius: 50%;
        position: relative;
        margin: 0 auto;
      }

      .clock-center {
        position: absolute;
        width: 12px;
        height: 12px;
        background: #dc2626;
        border-radius: 50%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
      }

      .clock-hand {
        position: absolute;
        width: 4px;
        height: 80px;
        background: #10b981;
        top: 50%;
        left: 50%;
        transform-origin: center top;
        animation: rotate-hand 4s linear infinite;
      }

      @keyframes rotate-hand {
        from {
          transform: translate(-50%, 0) rotate(0deg);
        }
        to {
          transform: translate(-50%, 0) rotate(360deg);
        }
      }
    </style>
      <script src="../../shared/utils.js"></script>
  </head>
  <body>
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>CSS 动画教程</h1>
        <a href="../index.html" class="back-home">← 返回首页</a>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <h3>Transform 变换</h3>
          <a href="translate.html" class="nav-item">translate() 平移</a>
          <a href="rotate.html" class="nav-item">rotate() 旋转</a>
          <a href="scale.html" class="nav-item">scale() 缩放</a>
          <a href="transform-origin.html" class="nav-item active">transform-origin 原点</a>
        </div>
      </nav>
    </aside>

    <main class="main-content">
      <div class="demo-page">
        <h1>transform-origin - 变换原点</h1>
        <p class="subtitle">控制所有变换的中心点</p>

        <section class="section">
          <h2>什么是 transform-origin？</h2>
          <p>transform-origin 定义了变换的原点（中心点）。所有的 transform 变换（旋转、缩放、倾斜）都围绕这个点进行。</p>

          <ul>
            <li><strong>默认值：</strong>center center（元素的中心点，即 50% 50%）</li>
            <li><strong>影响范围：</strong>影响 rotate、scale、skew 等所有变换</li>
            <li><strong>不影响：</strong>translate 平移不受原点影响</li>
          </ul>
        </section>

        <section class="section">
          <h2>语法说明</h2>
          <pre class="code-block"><code><span class="keyword">.element</span> {
  <span class="property">transform-origin</span>: <span class="value">x y z</span>;
}</code></pre>

          <ul>
            <li><span class="highlight">x</span> - 水平位置（left, center, right, 百分比, 像素）</li>
            <li><span class="highlight">y</span> - 垂直位置（top, center, bottom, 百分比, 像素）</li>
            <li><span class="highlight">z</span> - Z 轴位置（可选，用于 3D 变换）</li>
          </ul>

          <pre class="code-block"><code><span class="comment">/* 关键字 */</span>
<span class="property">transform-origin</span>: <span class="value">center</span>;          <span class="comment">/* 中心（默认） */</span>
<span class="property">transform-origin</span>: <span class="value">top left</span>;       <span class="comment">/* 左上角 */</span>
<span class="property">transform-origin</span>: <span class="value">bottom right</span>;   <span class="comment">/* 右下角 */</span>

<span class="comment">/* 百分比 */</span>
<span class="property">transform-origin</span>: <span class="value">50% 50%</span>;        <span class="comment">/* 中心 */</span>
<span class="property">transform-origin</span>: <span class="value">0% 0%</span>;          <span class="comment">/* 左上角 */</span>
<span class="property">transform-origin</span>: <span class="value">100% 100%</span>;      <span class="comment">/* 右下角 */</span>

<span class="comment">/* 像素值 */</span>
<span class="property">transform-origin</span>: <span class="value">50px 50px</span>;      <span class="comment">/* 距离左上角 50px */</span></code></pre>
        </section>

        <section class="section">
          <h2>旋转原点演示</h2>
          <p>悬停查看不同原点的旋转效果（红点表示旋转中心）</p>

          <div class="origin-demo">
            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 0; left: 0"></div>
                <div class="origin-box" style="transform-origin: top left">左上</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">top left</p>
            </div>

            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 0; left: 50%"></div>
                <div class="origin-box" style="transform-origin: top center">上中</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">top center</p>
            </div>

            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 0; left: 100%"></div>
                <div class="origin-box" style="transform-origin: top right">右上</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">top right</p>
            </div>

            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 50%; left: 0"></div>
                <div class="origin-box" style="transform-origin: center left">左中</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">center left</p>
            </div>

            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 50%; left: 50%"></div>
                <div class="origin-box" style="transform-origin: center">中心</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">center（默认）</p>
            </div>

            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 50%; left: 100%"></div>
                <div class="origin-box" style="transform-origin: center right">右中</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">center right</p>
            </div>

            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 100%; left: 0"></div>
                <div class="origin-box" style="transform-origin: bottom left">左下</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">bottom left</p>
            </div>

            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 100%; left: 50%"></div>
                <div class="origin-box" style="transform-origin: bottom center">下中</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">bottom center</p>
            </div>

            <div class="origin-item">
              <div class="origin-container">
                <div class="origin-dot" style="top: 100%; left: 100%"></div>
                <div class="origin-box" style="transform-origin: bottom right">右下</div>
              </div>
              <p style="color: #6b7280; font-size: 0.9rem">bottom right</p>
            </div>
          </div>
        </section>

        <section class="section">
          <h2>示例 1：时钟指针</h2>
          <p>指针从顶部旋转，模拟时钟效果</p>

          <div class="clock-demo">
            <div class="clock-center"></div>
            <div class="clock-hand"></div>
          </div>

          <pre class="code-block" style="margin-top: 20px"><code><span class="keyword">.clock-hand</span> {
  <span class="property">transform-origin</span>: <span class="value">center top</span>; <span class="comment">/* 指针从顶部旋转 */</span>
  <span class="property">animation</span>: <span class="value">rotate 4s linear infinite</span>;
}

<span class="keyword">@keyframes</span> <span class="value">rotate</span> {
  <span class="keyword">from</span> {
    <span class="property">transform</span>: <span class="value">rotate(0deg)</span>;
  }
  <span class="keyword">to</span> {
    <span class="property">transform</span>: <span class="value">rotate(360deg)</span>;
  }
}</code></pre>
        </section>

        <section class="section">
          <h2>示例 2：缩放原点</h2>
          <p>不同原点的缩放效果</p>

          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 20px 0">
            <div>
              <p style="text-align: center; margin-bottom: 10px">
                <strong>左上角缩放</strong>
              </p>
              <div class="origin-container">
                <div class="origin-dot" style="top: 0; left: 0"></div>
                <div
                  class="origin-box"
                  style="transform-origin: top left"
                  onmouseenter="this.style.transform='scale(1.5)'"
                  onmouseleave="this.style.transform='scale(1)'"
                >
                  悬停
                </div>
              </div>
            </div>
            <div>
              <p style="text-align: center; margin-bottom: 10px">
                <strong>中心缩放</strong>
              </p>
              <div class="origin-container">
                <div class="origin-dot" style="top: 50%; left: 50%"></div>
                <div
                  class="origin-box"
                  style="transform-origin: center"
                  onmouseenter="this.style.transform='scale(1.5)'"
                  onmouseleave="this.style.transform='scale(1)'"
                >
                  悬停
                </div>
              </div>
            </div>
            <div>
              <p style="text-align: center; margin-bottom: 10px">
                <strong>右下角缩放</strong>
              </p>
              <div class="origin-container">
                <div class="origin-dot" style="top: 100%; left: 100%"></div>
                <div
                  class="origin-box"
                  style="transform-origin: bottom right"
                  onmouseenter="this.style.transform='scale(1.5)'"
                  onmouseleave="this.style.transform='scale(1)'"
                >
                  悬停
                </div>
              </div>
            </div>
          </div>

          <pre class="code-block"><code><span class="keyword">.box:hover</span> {
  <span class="property">transform</span>: <span class="value">scale(1.5)</span>;
}

<span class="comment">/* 从左上角放大 */</span>
<span class="keyword">.box-1</span> { <span class="property">transform-origin</span>: <span class="value">top left</span>; }

<span class="comment">/* 从中心放大（默认） */</span>
<span class="keyword">.box-2</span> { <span class="property">transform-origin</span>: <span class="value">center</span>; }

<span class="comment">/* 从右下角放大 */</span>
<span class="keyword">.box-3</span> { <span class="property">transform-origin</span>: <span class="value">bottom right</span>; }</code></pre>
        </section>

        <section class="section">
          <h2>常见应用场景</h2>

          <ul>
            <li>🕐 <strong>时钟指针：</strong>从底部或顶部旋转</li>
            <li>📱 <strong>下拉菜单：</strong>从顶部展开（scale 或 rotate）</li>
            <li>🎯 <strong>工具提示：</strong>从箭头位置展开</li>
            <li>🎪 <strong>翻转卡片：</strong>从边缘翻转</li>
            <li>🎨 <strong>图片缩放：</strong>从特定角落放大</li>
            <li>🎮 <strong>游戏元素：</strong>围绕特定点旋转</li>
          </ul>
        </section>

        <section class="section">
          <h2>重要注意事项</h2>

          <div class="info-box">
            <p><strong>translate 不受影响：</strong>transform-origin 只影响 rotate、scale、skew，不影响 translate 平移</p>
          </div>

          <ul style="margin-top: 20px">
            <li><strong>百分比参考：</strong>百分比是相对于元素自身的尺寸，0% 0% 是左上角，100% 100% 是右下角</li>
            <li><strong>3D 变换：</strong>可以设置第三个值控制 Z 轴原点，如 transform-origin: 50% 50% 100px</li>
            <li><strong>组合变换：</strong>多个变换共享同一个原点</li>
            <li><strong>动画中使用：</strong>原点在动画过程中保持不变</li>
          </ul>
        </section>

        <section class="section">
          <h2>等价写法对照表</h2>

          <pre class="code-block"><code><span class="comment">/* 关键字 vs 百分比 vs 像素（假设元素 100x100px） */</span>
<span class="property">transform-origin</span>: <span class="value">top left</span>      = <span class="value">0% 0%</span>       = <span class="value">0px 0px</span>
<span class="property">transform-origin</span>: <span class="value">top center</span>    = <span class="value">50% 0%</span>      = <span class="value">50px 0px</span>
<span class="property">transform-origin</span>: <span class="value">top right</span>     = <span class="value">100% 0%</span>     = <span class="value">100px 0px</span>
<span class="property">transform-origin</span>: <span class="value">center left</span>   = <span class="value">0% 50%</span>      = <span class="value">0px 50px</span>
<span class="property">transform-origin</span>: <span class="value">center</span>        = <span class="value">50% 50%</span>     = <span class="value">50px 50px</span>
<span class="property">transform-origin</span>: <span class="value">center right</span>  = <span class="value">100% 50%</span>    = <span class="value">100px 50px</span>
<span class="property">transform-origin</span>: <span class="value">bottom left</span>   = <span class="value">0% 100%</span>     = <span class="value">0px 100px</span>
<span class="property">transform-origin</span>: <span class="value">bottom center</span> = <span class="value">50% 100%</span>    = <span class="value">50px 100px</span>
<span class="property">transform-origin</span>: <span class="value">bottom right</span>  = <span class="value">100% 100%</span>   = <span class="value">100px 100px</span></code></pre>
        </section>
      </div>
    </main>
  </body>
</html>
