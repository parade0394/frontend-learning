<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rotate3d() - CSS 动画教程</title>
    <link href="../styles.css" rel="stylesheet" />
    <script type="module" src="/src/theme-sync.js"></script>
    <style>
      @keyframes rotate3d-animation {
        0% {
          transform: rotate3d(1, 1, 1, 0deg);
        }
        100% {
          transform: rotate3d(1, 1, 1, 360deg);
        }
      }
    </style>
  </head>
  <body>
    <!-- 左侧边栏导航 -->
    <!-- 左侧边栏导航 -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>CSS Transform & Transition</h1>
        <a class="back-home" href="../index.html">← 返回主页</a>
      </div>
      <nav class="sidebar-nav">
        <!-- 基础概念 -->
        <div class="nav-section">
          <h3>基础概念</h3>
          <a class="nav-item" href="overview.html">CSS 动画总览</a>
          <a class="nav-item" href="coordinate.html">坐标系统</a>
        </div>

        <!-- Transform 变换 -->
        <div class="nav-section">
          <h3>Transform 变换</h3>
          <a class="nav-item" href="translate.html">translate()</a>
          <a class="nav-item" href="translateX.html">translateX()</a>
          <a class="nav-item" href="translateY.html">translateY()</a>
          <a class="nav-item" href="translateZ.html">translateZ()</a>
          <a class="nav-item" href="rotate.html">rotate()</a>
          <a class="nav-item" href="rotateX.html">rotateX()</a>
          <a class="nav-item" href="rotateY.html">rotateY()</a>
          <a class="nav-item" href="rotateZ.html">rotateZ()</a>
          <a class="nav-item" href="scale.html">scale()</a>
          <a class="nav-item" href="scaleX.html">scaleX()</a>
          <a class="nav-item" href="scaleY.html">scaleY()</a>
          <a class="nav-item" href="scaleZ.html">scaleZ()</a>
          <a class="nav-item" href="skew.html">skew()</a>
          <a class="nav-item" href="skewX.html">skewX()</a>
          <a class="nav-item" href="skewY.html">skewY()</a>
          <a class="nav-item" href="multiple.html">组合变换</a>
        </div>

        <!-- Transition 过渡 -->
        <div class="nav-section">
          <h3>Transition 过渡</h3>
          <a class="nav-item" href="duration.html">transition-duration</a>
          <a class="nav-item" href="timing.html">transition-timing-function</a>
          <a class="nav-item" href="delay.html">transition-delay</a>
        </div>

        <!-- Animation 动画 -->
        <div class="nav-section">
          <h3>Animation 动画</h3>
          <a class="nav-item" href="keyframes.html">@keyframes</a>
          <a class="nav-item" href="animation-play-state.html">animation-play-state</a>
          <a class="nav-item" href="fill-mode-demo.html">animation-fill-mode</a>
        </div>

        <!-- 3D 变换 -->
        <div class="nav-section">
          <h3>3D 变换</h3>
          <a class="nav-item" href="perspective.html">perspective</a>
          <a class="nav-item active" href="rotate3d.html">rotate3d()</a>
          <a class="nav-item" href="translate3d.html">translate3d()</a>
          <a class="nav-item" href="transform-style.html">transform-style</a>
          <a class="nav-item" href="backface-visibility.html">backface-visibility</a>
          <a class="nav-item" href="perspective-origin.html">perspective-origin</a>
        </div>

        <!-- 高级属性 -->
        <div class="nav-section">
          <h3>高级属性</h3>
          <a class="nav-item" href="transform-origin.html">transform-origin</a>
          <a class="nav-item" href="will-change.html">will-change</a>
        </div>
      </nav>
    </aside>

    <main class="main-content">
      <div class="demo-page">
        <h1>rotate3d() - 3D 旋转</h1>
        <p class="subtitle">围绕自定义 3D 轴旋转元素</p>

        <section class="section">
          <h2>语法说明</h2>
          <pre
            class="code-block"
          ><code><span class="keyword">transform:</span> <span class="property">rotate3d</span>(<span class="value">x, y, z, angle</span>);</code></pre>

          <ul>
            <li><span class="highlight">x, y, z</span> - 定义旋转轴的 3D 向量（0-1 之间的数值）</li>
            <li><span class="highlight">angle</span> - 旋转角度</li>
            <li><strong>rotate3d(1, 0, 0, 45deg)</strong> = rotateX(45deg)</li>
            <li><strong>rotate3d(0, 1, 0, 45deg)</strong> = rotateY(45deg)</li>
            <li><strong>rotate3d(0, 0, 1, 45deg)</strong> = rotateZ(45deg)</li>
            <li>可以组合多个轴创建对角线旋转</li>
          </ul>
        </section>

        <section class="section">
          <h2>示例 1：单轴旋转</h2>
          <p>分别围绕 X、Y、Z 轴旋转</p>

          <button class="play-button" data-demo="demo1" style="margin-bottom: 15px">播放演示</button>

          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px">
            <div>
              <p><strong>X 轴旋转</strong></p>
              <div class="demo-area perspective">
                <div id="box-x" class="box" style="width: 80px; height: 80px; font-size: 14px">X轴</div>
              </div>
            </div>
            <div>
              <p><strong>Y 轴旋转</strong></p>
              <div class="demo-area perspective">
                <div id="box-y" class="box" style="width: 80px; height: 80px; font-size: 14px">Y轴</div>
              </div>
            </div>
            <div>
              <p><strong>Z 轴旋转</strong></p>
              <div class="demo-area perspective">
                <div id="box-z" class="box" style="width: 80px; height: 80px; font-size: 14px">Z轴</div>
              </div>
            </div>
          </div>

          <pre class="code-block"><code><span class="comment">/* X 轴旋转 */</span>
<span class="keyword">.box-x</span> {
  <span class="property">transform</span>: <span class="value">rotate3d(1, 0, 0, 60deg)</span>;
}

<span class="comment">/* Y 轴旋转 */</span>
<span class="keyword">.box-y</span> {
  <span class="property">transform</span>: <span class="value">rotate3d(0, 1, 0, 60deg)</span>;
}

<span class="comment">/* Z 轴旋转 */</span>
<span class="keyword">.box-z</span> {
  <span class="property">transform</span>: <span class="value">rotate3d(0, 0, 1, 60deg)</span>;
}</code></pre>
        </section>

        <section class="section">
          <h2>示例 2：对角线旋转</h2>
          <p>同时在多个轴上旋转，创建对角线旋转效果</p>

          <button class="play-button" data-demo="demo2" style="margin-bottom: 15px">播放演示</button>

          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px">
            <div>
              <p><strong>XY 对角线</strong></p>
              <div class="demo-area perspective">
                <div id="box-xy" class="box">XY</div>
              </div>
              <div class="code-block" style="margin-top: 10px; font-size: 0.85rem">
                <span class="property">rotate3d</span>(<span class="value">1, 1, 0, 180deg</span>)
              </div>
            </div>
            <div>
              <p><strong>XYZ 全方向</strong></p>
              <div class="demo-area perspective">
                <div id="box-xyz" class="box">XYZ</div>
              </div>
              <div class="code-block" style="margin-top: 10px; font-size: 0.85rem">
                <span class="property">rotate3d</span>(<span class="value">1, 1, 1, 180deg</span>)
              </div>
            </div>
          </div>
        </section>

        <section class="section">
          <h2>示例 3：连续 3D 旋转动画</h2>
          <p>创建立体旋转效果</p>

          <div class="demo-area perspective">
            <div id="box-continuous" class="box" style="animation: none">3D</div>
          </div>

          <button class="play-button" data-demo="demo3">播放连续旋转</button>

          <pre
            class="code-block"
          ><code><span class="keyword">@keyframes</span> <span class="value">rotate3d-animation</span> {
  <span class="keyword">0%</span> {
    <span class="property">transform</span>: <span class="value">rotate3d(1, 1, 1, 0deg)</span>;
  }
  <span class="keyword">100%</span> {
    <span class="property">transform</span>: <span class="value">rotate3d(1, 1, 1, 360deg)</span>;
  }
}

<span class="keyword">.box</span> {
  <span class="property">animation</span>: <span class="value">rotate3d-animation 3s linear</span>;
}</code></pre>

          <div class="info-box">
            <p><strong>应用场景：</strong>产品 3D 展示、Logo 动画、加载动画、创意交互效果</p>
          </div>
        </section>
      </div>
    </main>

    <script type="module">
      import { playTransform } from '/src/utils.js';

      // 使用事件委托，避免全局命名冲突
      const demos = {
        demo1: () => {
          const boxX = document.getElementById('box-x');
          const boxY = document.getElementById('box-y');
          const boxZ = document.getElementById('box-z');

          playTransform(boxX, 'rotate3d(1, 0, 0, 60deg)', 1500);
          playTransform(boxY, 'rotate3d(0, 1, 0, 60deg)', 1500);
          playTransform(boxZ, 'rotate3d(0, 0, 1, 60deg)', 1500);
        },
        demo2: () => {
          const boxXY = document.getElementById('box-xy');
          const boxXYZ = document.getElementById('box-xyz');

          playTransform(boxXY, 'rotate3d(1, 1, 0, 180deg)', 1500);
          playTransform(boxXYZ, 'rotate3d(1, 1, 1, 180deg)', 1500);
        },
        demo3: () => {
          const box = document.getElementById('box-continuous');

          // 重置动画
          box.style.animation = 'none';
          box.offsetHeight;

          // 应用动画
          box.style.animation = 'rotate3d-animation 3s linear';

          // 3 秒后重置
          setTimeout(() => {
            box.style.animation = 'none';
          }, 3000);
        },
      };

      // 事件委托：监听所有点击
      document.addEventListener('click', (e) => {
        const button = e.target.closest('[data-demo]');
        if (button) {
          const demoName = button.dataset.demo;
          const param = button.dataset.param;
          if (demos[demoName]) {
            demos[demoName](param);
          }
        }
      });
    </script>
  </body>
</html>
