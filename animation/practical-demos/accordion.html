<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="æ‰‹é£ç´æ•ˆæœ - ä½¿ç”¨ max-height å’Œ CSS Grid å®ç°å¯æŠ˜å çš„å†…å®¹é¢æ¿" />
    <title>æ‰‹é£ç´æ•ˆæœ - CSS Transform & Transition å®æˆ˜åº”ç”¨</title>
    <link href="/src/styles/common.css" rel="stylesheet" />
    <link href="../styles.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <!-- é˜²æ­¢ä¸»é¢˜é—ªçƒ -->
    <script>
      (function () {
        try {
          const theme = localStorage.getItem('themeMode') || 'light';
          const color = localStorage.getItem('primaryColor') || '#10b981';
          let actualTheme = theme;
          if (theme === 'auto') {
            actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', actualTheme);
          document.documentElement.style.setProperty('--primary', color);
        } catch (e) {
          console.log(e);
        }
      })();
    </script>
    <script type="module" src="/src/theme-sync.js"></script>
    <style>
      /* æ¼”ç¤ºä¸“ç”¨æ ·å¼ */
      .accordion-container {
        max-width: 700px;
        margin: 0 auto;
      }

      .accordion-item {
        margin-bottom: var(--spacing-sm);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-lg);
        overflow: hidden;
        background: var(--card-bg);
        transition: all var(--transition-base);
      }

      .accordion-item:hover {
        border-color: var(--primary);
        box-shadow: var(--shadow-md);
      }

      .accordion-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: var(--spacing-md) var(--spacing-lg);
        background: var(--bg-secondary);
        cursor: pointer;
        user-select: none;
        transition: all var(--transition-fast);
      }

      .accordion-header:hover {
        background: var(--primary-light);
      }

      .accordion-header.active {
        background: var(--primary-light);
        color: var(--primary);
      }

      .accordion-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin: 0;
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
      }

      .accordion-icon {
        font-size: 1.3rem;
        flex-shrink: 0;
      }

      .accordion-toggle {
        font-size: 1.5rem;
        color: var(--text-secondary);
        transition: transform var(--transition-base);
        flex-shrink: 0;
      }

      .accordion-header.active .accordion-toggle {
        transform: rotate(180deg);
        color: var(--primary);
      }

      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .accordion-content.open {
        max-height: 500px;
      }

      .accordion-body {
        padding: 0 var(--spacing-lg);
        color: var(--text-primary);
        line-height: 1.8;
      }

      .accordion-body p {
        margin: 0 0 var(--spacing-sm) 0;
      }

      .accordion-body p:last-child {
        margin-bottom: 0;
      }

      .accordion-body ul {
        margin: var(--spacing-sm) 0;
        padding-left: var(--spacing-lg);
      }

      .accordion-body li {
        margin-bottom: var(--spacing-xs);
      }

      /* æ¨¡å¼åˆ‡æ¢æŒ‰é’® */
      .mode-toggle {
        display: flex;
        gap: var(--spacing-sm);
        margin-bottom: var(--spacing-lg);
        padding: var(--spacing-sm);
        background: var(--bg-secondary);
        border-radius: var(--radius-lg);
        border: 2px solid var(--border-color);
      }

      .mode-btn {
        flex: 1;
        padding: var(--spacing-sm) var(--spacing-md);
        background: var(--card-bg);
        color: var(--text-primary);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-md);
        cursor: pointer;
        font-weight: 600;
        transition: all var(--transition-fast);
      }

      .mode-btn:hover {
        border-color: var(--primary);
        transform: translateY(-2px);
      }

      .mode-btn.active {
        background: var(--primary);
        color: white;
        border-color: var(--primary);
      }

      /* Grid æ¼”ç¤ºæ ·å¼ */
      .accordion-content-scale {
        display: grid;
        grid-template-rows: 0fr;
        max-height: unset;
        transition: grid-template-rows 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .accordion-content-scale.open {
        grid-template-rows: 1fr;
        padding-top: var(--spacing-lg);
        padding-bottom: var(--spacing-lg);
      }

      .accordion-content-scale .accordion-body {
        overflow: hidden;
      }

      /* ç§»åŠ¨ç«¯é€‚é… */
      @media (max-width: 768px) {
        .accordion-container {
          max-width: 100%;
        }

        .accordion-title {
          font-size: 1rem;
        }

        .accordion-icon {
          font-size: 1.1rem;
        }

        .accordion-header {
          padding: var(--spacing-sm) var(--spacing-md);
        }

        .accordion-body {
          padding: var(--spacing-md);
        }

        .mode-toggle {
          flex-direction: column;
        }
      }

      @media (max-width: 480px) {
        .accordion-header {
          padding: var(--spacing-xs) var(--spacing-sm);
        }

        .accordion-body {
          padding: var(--spacing-sm);
        }
      }
    </style>
  </head>
  <body>
    <div class="demo-page">
      <!-- é¢åŒ…å±‘å¯¼èˆª -->
      <nav class="breadcrumb">
        <a href="../../index.html">é¦–é¡µ</a>
        <span class="separator">â€º</span>
        <a href="../index.html">CSS Transform & Transition</a>
        <span class="separator">â€º</span>
        <a href="index.html">å®æˆ˜åº”ç”¨</a>
        <span class="separator">â€º</span>
        <span class="current">æ‰‹é£ç´æ•ˆæœ</span>
      </nav>

      <!-- æ ‡é¢˜å’Œæè¿° -->
      <h1>ğŸ“‹ æ‰‹é£ç´æ•ˆæœ</h1>
      <p class="subtitle">å¯æŠ˜å çš„å†…å®¹é¢æ¿ï¼Œä½¿ç”¨ max-height æˆ– CSS Grid å®ç°å¹³æ»‘çš„å±•å¼€æ”¶èµ·åŠ¨ç”»</p>

      <!-- çŸ¥è¯†ç‚¹æ ‡ç­¾ -->
      <div class="knowledge-tags">
        <span class="tag-label">ä½¿ç”¨çš„çŸ¥è¯†ç‚¹ï¼š</span>
        <a class="knowledge-tag" href="../demos/duration.html">
          <span class="tag-icon">â°</span>
          transition-duration
        </a>
        <a class="knowledge-tag" href="../demos/timing-function.html">
          <span class="tag-icon">ğŸ“ˆ</span>
          timing-function
        </a>
      </div>

      <!-- äº¤äº’æ¼”ç¤ºåŒº -->
      <section class="interactive-demo">
        <h2>äº¤äº’æ¼”ç¤º</h2>
        <p>ç‚¹å‡»é¢æ¿æ ‡é¢˜å±•å¼€æˆ–æ”¶èµ·å†…å®¹ï¼Œä½“éªŒä¸¤ç§ä¸åŒçš„å®ç°æ–¹å¼ï¼š</p>

        <!-- æ¨¡å¼åˆ‡æ¢ -->
        <div class="mode-toggle">
          <button class="mode-btn active" data-mode="maxheight">max-height æ¨¡å¼</button>
          <button class="mode-btn" data-mode="scale">Grid æ¨¡å¼ï¼ˆæ¨èï¼‰</button>
        </div>

        <div class="demo-info">
          <p>ğŸ’¡ æç¤ºï¼šå•å¼€æ¨¡å¼ä¸‹ï¼Œæ‰“å¼€æ–°é¢æ¿ä¼šè‡ªåŠ¨å…³é—­å…¶ä»–é¢æ¿ï¼›å¤šå¼€æ¨¡å¼ä¸‹å¯ä»¥åŒæ—¶å±•å¼€å¤šä¸ªé¢æ¿</p>
        </div>

        <div class="demo-controls">
          <button id="toggle-mode" class="btn btn-primary">åˆ‡æ¢ä¸ºå¤šå¼€æ¨¡å¼</button>
          <button id="expand-all" class="btn btn-secondary">å…¨éƒ¨å±•å¼€</button>
          <button id="collapse-all" class="btn btn-secondary">å…¨éƒ¨æ”¶èµ·</button>
        </div>

        <div class="demo-container" style="display: block; padding: var(--spacing-lg)">
          <div id="accordion" class="accordion-container">
            <!-- æ‰‹é£ç´é¡¹ç›® 1 -->
            <div class="accordion-item">
              <div class="accordion-header">
                <h3 class="accordion-title">
                  <span class="accordion-icon">ğŸ¨</span>
                  ä»€ä¹ˆæ˜¯ CSS Transformï¼Ÿ
                </h3>
                <span class="accordion-toggle">â–¼</span>
              </div>
              <div class="accordion-content">
                <div class="accordion-body">
                  <p>CSS Transform æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ CSS å±æ€§ï¼Œå…è®¸ä½ å¯¹å…ƒç´ è¿›è¡Œ 2D æˆ– 3D å˜æ¢ã€‚</p>
                  <p><strong>ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</strong></p>
                  <ul>
                    <li>å¹³ç§»ï¼ˆtranslateï¼‰- ç§»åŠ¨å…ƒç´ ä½ç½®</li>
                    <li>æ—‹è½¬ï¼ˆrotateï¼‰- æ—‹è½¬å…ƒç´ </li>
                    <li>ç¼©æ”¾ï¼ˆscaleï¼‰- æ”¹å˜å…ƒç´ å¤§å°</li>
                    <li>å€¾æ–œï¼ˆskewï¼‰- æ‰­æ›²å…ƒç´ å½¢çŠ¶</li>
                  </ul>
                  <p>Transform ä½¿ç”¨ GPU åŠ é€Ÿï¼Œæ€§èƒ½ä¼˜äºç›´æ¥ä¿®æ”¹ topã€left ç­‰å±æ€§ã€‚</p>
                </div>
              </div>
            </div>

            <!-- æ‰‹é£ç´é¡¹ç›® 2 -->
            <div class="accordion-item">
              <div class="accordion-header">
                <h3 class="accordion-title">
                  <span class="accordion-icon">âš¡</span>
                  ä¸ºä»€ä¹ˆä½¿ç”¨ Transformï¼Ÿ
                </h3>
                <span class="accordion-toggle">â–¼</span>
              </div>
              <div class="accordion-content">
                <div class="accordion-body">
                  <p>ä½¿ç”¨ Transform æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
                  <ul>
                    <li><strong>æ€§èƒ½ä¼˜è¶Š</strong> - ä½¿ç”¨ GPU åŠ é€Ÿï¼ŒåŠ¨ç”»æ›´æµç•…</li>
                    <li><strong>ä¸å½±å“å¸ƒå±€</strong> - å˜æ¢ä¸ä¼šè§¦å‘é¡µé¢é‡æ’</li>
                    <li><strong>ç»„åˆä½¿ç”¨</strong> - å¯ä»¥åŒæ—¶åº”ç”¨å¤šä¸ªå˜æ¢æ•ˆæœ</li>
                    <li><strong>3D æ”¯æŒ</strong> - æ”¯æŒåˆ›å»ºç«‹ä½“æ•ˆæœ</li>
                    <li><strong>æ˜“äºåŠ¨ç”»</strong> - é…åˆ transition å®ç°å¹³æ»‘è¿‡æ¸¡</li>
                  </ul>
                  <p>è¿™ä½¿å¾— Transform æˆä¸ºç°ä»£ Web åŠ¨ç”»çš„é¦–é€‰æ–¹æ¡ˆã€‚</p>
                </div>
              </div>
            </div>

            <!-- æ‰‹é£ç´é¡¹ç›® 3 -->
            <div class="accordion-item">
              <div class="accordion-header">
                <h3 class="accordion-title">
                  <span class="accordion-icon">ğŸ¯</span>
                  å¸¸è§åº”ç”¨åœºæ™¯
                </h3>
                <span class="accordion-toggle">â–¼</span>
              </div>
              <div class="accordion-content">
                <div class="accordion-body">
                  <p>Transform åœ¨å®é™…é¡¹ç›®ä¸­æœ‰å¹¿æ³›åº”ç”¨ï¼š</p>
                  <ul>
                    <li><strong>å¯¼èˆªèœå•</strong> - ä¾§è¾¹æ æ»‘å…¥æ»‘å‡ºã€ä¸‹æ‹‰èœå•å±•å¼€</li>
                    <li><strong>å¡ç‰‡æ•ˆæœ</strong> - ç¿»è½¬å¡ç‰‡ã€æ‚¬åœæ”¾å¤§</li>
                    <li><strong>è½®æ’­å›¾</strong> - å›¾ç‰‡åˆ‡æ¢ã€æ— ç¼æ»šåŠ¨</li>
                    <li><strong>3D å±•ç¤º</strong> - äº§å“æŸ¥çœ‹å™¨ã€ç«‹æ–¹ä½“æ—‹è½¬</li>
                    <li><strong>åŠ è½½åŠ¨ç”»</strong> - æ—‹è½¬åŠ è½½å™¨ã€è„‰å†²æ•ˆæœ</li>
                    <li><strong>é¡µé¢è¿‡æ¸¡</strong> - è·¯ç”±åˆ‡æ¢åŠ¨ç”»</li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- æ‰‹é£ç´é¡¹ç›® 4 -->
            <div class="accordion-item">
              <div class="accordion-header">
                <h3 class="accordion-title">
                  <span class="accordion-icon">ğŸ’¡</span>
                  æœ€ä½³å®è·µå»ºè®®
                </h3>
                <span class="accordion-toggle">â–¼</span>
              </div>
              <div class="accordion-content">
                <div class="accordion-body">
                  <p>ä½¿ç”¨ Transform æ—¶çš„æ³¨æ„äº‹é¡¹ï¼š</p>
                  <ul>
                    <li><strong>ä¼˜å…ˆä½¿ç”¨ transform</strong> - è€Œä¸æ˜¯ top/left/margin</li>
                    <li><strong>åˆç†ä½¿ç”¨ will-change</strong> - æå‰å‘ŠçŸ¥æµè§ˆå™¨ä¼˜åŒ–</li>
                    <li><strong>é¿å…è¿‡åº¦åŠ¨ç”»</strong> - ä¿æŒåŠ¨ç”»ç®€æ´æµç•…</li>
                    <li><strong>è€ƒè™‘å¯è®¿é—®æ€§</strong> - å°Šé‡ç”¨æˆ·çš„å‡å°‘åŠ¨ç”»åå¥½</li>
                    <li><strong>æµ‹è¯•æ€§èƒ½</strong> - åœ¨ä½ç«¯è®¾å¤‡ä¸ŠéªŒè¯æ•ˆæœ</li>
                    <li><strong>æä¾›é™çº§æ–¹æ¡ˆ</strong> - ç¡®ä¿æ—§æµè§ˆå™¨çš„åŸºæœ¬åŠŸèƒ½</li>
                  </ul>
                  <p>éµå¾ªè¿™äº›åŸåˆ™å¯ä»¥åˆ›å»ºé«˜è´¨é‡çš„ç”¨æˆ·ä½“éªŒã€‚</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å®ç°æ­¥éª¤ -->
      <section class="implementation">
        <h2>å®ç°æ­¥éª¤</h2>

        <h3>æ–¹æ³•ä¸€ï¼šmax-height å®ç°</h3>
        <p>ä½¿ç”¨ max-height è¿‡æ¸¡æ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œå…¼å®¹æ€§å¥½ä¸”æ•ˆæœè‡ªç„¶,ä½†æ˜¯éœ€è¦è®¾ç½®é«˜åº¦</p>

        <div class="code-section">
          <div class="code-header">
            <span class="code-label">HTML</span>
          </div>
          <pre
            class="code-block"
          ><code><span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"accordion-item"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"accordion-header"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h3&gt;</span>æ ‡é¢˜<span class="tag">&lt;/h3&gt;</span>
    <span class="tag">&lt;span</span> <span class="attr">class</span>=<span class="string">"accordion-toggle"</span><span class="tag">&gt;</span>â–¼<span class="tag">&lt;/span&gt;</span>
  <span class="tag">&lt;/div&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"accordion-content"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"accordion-body"</span><span class="tag">&gt;</span>
      å†…å®¹...
    <span class="tag">&lt;/div&gt;</span>
  <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
        </div>

        <div class="code-section">
          <div class="code-header">
            <span class="code-label">CSS</span>
          </div>
          <pre class="code-block"><code><span class="keyword">.accordion-content</span> {
  <span class="comment">/* åˆå§‹çŠ¶æ€ï¼šé«˜åº¦ä¸º 0 */</span>
  <span class="property">max-height</span>: <span class="value">0</span>;
  <span class="property">overflow</span>: <span class="value">hidden</span>;
  <span class="property">transition</span>: <span class="value">max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1)</span>;
}

<span class="comment">/* å±•å¼€çŠ¶æ€ï¼šè®¾ç½®è¶³å¤Ÿå¤§çš„é«˜åº¦ */</span>
<span class="keyword">.accordion-content.open</span> {
  <span class="property">max-height</span>: <span class="value">500px</span>; <span class="comment">/* æ ¹æ®å®é™…å†…å®¹è°ƒæ•´ */</span>
}

<span class="comment">/* ç®­å¤´æ—‹è½¬åŠ¨ç”» */</span>
<span class="keyword">.accordion-toggle</span> {
  <span class="property">transition</span>: <span class="value">transform 0.3s ease</span>;
}

<span class="keyword">.accordion-header.active .accordion-toggle</span> {
  <span class="property">transform</span>: <span class="value">rotate(180deg)</span>;
}</code></pre>
        </div>

        <h3>æ–¹æ³•äºŒï¼šGrid å®ç°ï¼ˆæ¨èï¼‰</h3>
        <p>ä½¿ç”¨ CSS Grid çš„ grid-template-rows å®ç°ï¼ŒåŠ¨ç”»æµç•…ä¸”ä¸å æ®æ–‡æ¡£æµç©ºé—´ï¼š</p>

        <div class="code-section">
          <div class="code-header">
            <span class="code-label">CSS</span>
          </div>
          <pre class="code-block"><code><span class="keyword">.accordion-content</span> {
  <span class="comment">/* ä½¿ç”¨ Grid å¸ƒå±€æ§åˆ¶é«˜åº¦ */</span>
  <span class="property">display</span>: <span class="value">grid</span>;
  <span class="property">grid-template-rows</span>: <span class="value">0fr</span>; <span class="comment">/* æŠ˜å çŠ¶æ€ */</span>
  <span class="property">transition</span>: <span class="value">grid-template-rows 0.3s cubic-bezier(0.4, 0, 0.2, 1)</span>;
}

<span class="keyword">.accordion-content.open</span> {
  <span class="property">grid-template-rows</span>: <span class="value">1fr</span>; <span class="comment">/* å±•å¼€çŠ¶æ€ */</span>
}

<span class="comment">/* å†…å®¹éœ€è¦è®¾ç½® overflow: hidden */</span>
<span class="keyword">.accordion-body</span> {
  <span class="property">overflow</span>: <span class="value">hidden</span>;
}</code></pre>
        </div>

        <h3>JavaScript äº¤äº’é€»è¾‘</h3>
        <p>å®ç°å•å¼€å’Œå¤šå¼€ä¸¤ç§æ¨¡å¼ï¼š</p>

        <div class="code-section">
          <div class="code-header">
            <span class="code-label">JavaScript</span>
          </div>
          <pre
            class="code-block"
          ><code><span class="keyword">let</span> multipleMode = <span class="value">false</span>; <span class="comment">// å•å¼€/å¤šå¼€æ¨¡å¼</span>

<span class="keyword">const</span> headers = <span class="property">document</span>.<span class="value">querySelectorAll</span>(<span class="string">'.accordion-header'</span>);

headers.<span class="value">forEach</span>(<span class="keyword">header</span> => {
  header.<span class="value">addEventListener</span>(<span class="string">'click'</span>, () => {
    <span class="keyword">const</span> item = header.<span class="property">parentElement</span>;
    <span class="keyword">const</span> content = item.<span class="value">querySelector</span>(<span class="string">'.accordion-content'</span>);
    <span class="keyword">const</span> isOpen = content.<span class="property">classList</span>.<span class="value">contains</span>(<span class="string">'open'</span>);

    <span class="comment">// å•å¼€æ¨¡å¼ï¼šå…³é—­å…¶ä»–é¢æ¿</span>
    <span class="keyword">if</span> (!multipleMode && !isOpen) {
      <span class="property">document</span>.<span class="value">querySelectorAll</span>(<span class="string">'.accordion-content'</span>).<span class="value">forEach</span>(<span class="keyword">c</span> => {
        c.<span class="property">classList</span>.<span class="value">remove</span>(<span class="string">'open'</span>);
        c.<span class="property">parentElement</span>.<span class="value">querySelector</span>(<span class="string">'.accordion-header'</span>)
          .<span class="property">classList</span>.<span class="value">remove</span>(<span class="string">'active'</span>);
      });
    }

    <span class="comment">// åˆ‡æ¢å½“å‰é¢æ¿</span>
    content.<span class="property">classList</span>.<span class="value">toggle</span>(<span class="string">'open'</span>);
    header.<span class="property">classList</span>.<span class="value">toggle</span>(<span class="string">'active'</span>);
  });
});</code></pre>
        </div>
      </section>

      <!-- å…³é”®è¦ç‚¹ -->
      <section class="key-points">
        <h2>å…³é”®è¦ç‚¹</h2>
        <ul>
          <li><strong>Grid æ–¹æ³•</strong>æ˜¯æœ€ç°ä»£çš„æ–¹æ¡ˆï¼Œä½¿ç”¨ grid-template-rows: 0fr/1fr å®ç°é«˜åº¦è¿‡æ¸¡</li>
          <li><strong>æ— éœ€é¢„ä¼°é«˜åº¦</strong> - Grid æ–¹æ³•è‡ªåŠ¨é€‚åº”å†…å®¹ï¼Œä¸åƒ max-height éœ€è¦è®¾ç½®å›ºå®šå€¼</li>
          <li><strong>ä¸å æ®ç©ºé—´</strong> - æŠ˜å çŠ¶æ€ä¸‹å®Œå…¨ä¸å æ®æ–‡æ¡£æµç©ºé—´ï¼Œå¸ƒå±€æ›´è‡ªç„¶</li>
          <li><strong>max-height æ–¹æ³•</strong>å…¼å®¹æ€§æ›´å¥½ï¼Œé€‚åˆéœ€è¦æ”¯æŒæ—§æµè§ˆå™¨çš„é¡¹ç›®</li>
          <li><strong>max-height å€¼</strong>éœ€è¦è®¾ç½®å¾—è¶³å¤Ÿå¤§ä»¥å®¹çº³å†…å®¹ï¼Œä½†ä¸è¦è¿‡å¤§ä»¥å…å½±å“åŠ¨ç”»æ—¶é•¿</li>
          <li><strong>overflow: hidden</strong> æ˜¯å¿…éœ€çš„ï¼Œé˜²æ­¢å†…å®¹æº¢å‡º</li>
          <li><strong>cubic-bezier ç¼“åŠ¨</strong>æä¾›è‡ªç„¶çš„åŠ é€Ÿå’Œå‡é€Ÿæ•ˆæœ</li>
          <li><strong>å•å¼€æ¨¡å¼</strong>é€‚åˆ FAQ é¡µé¢ï¼Œå¤šå¼€æ¨¡å¼é€‚åˆå†…å®¹åˆ†ç±»å±•ç¤º</li>
          <li><strong>ç®­å¤´æ—‹è½¬</strong>æä¾›è§†è§‰åé¦ˆï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒ</li>
        </ul>
      </section>

      <!-- ç›¸å…³æ¼”ç¤º -->
      <section class="related-demos">
        <h2>ç›¸å…³æ¼”ç¤º</h2>
        <div class="scenario-links">
          <a class="scenario-link" href="../demos/duration.html">
            <span class="scenario-icon">â°</span>
            <div class="scenario-content">
              <h4>transition-duration</h4>
              <p>æ§åˆ¶åŠ¨ç”»æŒç»­æ—¶é—´ â†’</p>
            </div>
          </a>
          <a class="scenario-link" href="../demos/timing-function.html">
            <span class="scenario-icon">ğŸ“ˆ</span>
            <div class="scenario-content">
              <h4>timing-function</h4>
              <p>è°ƒæ•´åŠ¨ç”»ç¼“åŠ¨æ•ˆæœ â†’</p>
            </div>
          </a>
          <a class="scenario-link" href="dropdown-menu.html">
            <span class="scenario-icon">ğŸ“‹</span>
            <div class="scenario-content">
              <h4>ä¸‹æ‹‰èœå•</h4>
              <p>æŸ¥çœ‹ç±»ä¼¼çš„å±•å¼€æ”¶èµ·æ•ˆæœ â†’</p>
            </div>
          </a>
        </div>
      </section>

      <!-- è¿”å›é“¾æ¥ -->
      <div style="margin-top: 60px; text-align: center">
        <a class="btn" href="index.html">â† è¿”å›å®æˆ˜åº”ç”¨åˆ—è¡¨</a>
      </div>
    </div>

    <script type="module">
      // æ‰‹é£ç´äº¤äº’é€»è¾‘
      let multipleMode = false; // å•å¼€/å¤šå¼€æ¨¡å¼
      let currentMethod = 'maxheight'; // å½“å‰å®ç°æ–¹æ³•

      const accordion = document.getElementById('accordion');
      const headers = accordion.querySelectorAll('.accordion-header');
      const toggleModeBtn = document.getElementById('toggle-mode');
      const expandAllBtn = document.getElementById('expand-all');
      const collapseAllBtn = document.getElementById('collapse-all');
      const modeBtns = document.querySelectorAll('.mode-btn');

      // åˆ‡æ¢æ‰‹é£ç´é¢æ¿
      function toggleAccordion(header) {
        const item = header.parentElement;
        const content = item.querySelector('.accordion-content');
        const isOpen = content.classList.contains('open');

        // å•å¼€æ¨¡å¼ï¼šå…³é—­å…¶ä»–é¢æ¿
        if (!multipleMode && !isOpen) {
          accordion.querySelectorAll('.accordion-content').forEach((c) => {
            c.classList.remove('open');
            c.parentElement.querySelector('.accordion-header').classList.remove('active');
          });
        }

        // åˆ‡æ¢å½“å‰é¢æ¿
        content.classList.toggle('open');
        header.classList.toggle('active');
      }

      // ä¸ºæ¯ä¸ªæ ‡é¢˜æ·»åŠ ç‚¹å‡»äº‹ä»¶
      headers.forEach((header) => {
        header.addEventListener('click', () => toggleAccordion(header));
      });

      // åˆ‡æ¢å•å¼€/å¤šå¼€æ¨¡å¼
      toggleModeBtn.addEventListener('click', () => {
        multipleMode = !multipleMode;
        toggleModeBtn.textContent = multipleMode ? 'åˆ‡æ¢ä¸ºå•å¼€æ¨¡å¼' : 'åˆ‡æ¢ä¸ºå¤šå¼€æ¨¡å¼';
      });

      // å…¨éƒ¨å±•å¼€
      expandAllBtn.addEventListener('click', () => {
        accordion.querySelectorAll('.accordion-content').forEach((content) => {
          content.classList.add('open');
          content.parentElement.querySelector('.accordion-header').classList.add('active');
        });
      });

      // å…¨éƒ¨æ”¶èµ·
      collapseAllBtn.addEventListener('click', () => {
        accordion.querySelectorAll('.accordion-content').forEach((content) => {
          content.classList.remove('open');
          content.parentElement.querySelector('.accordion-header').classList.remove('active');
        });
      });

      // åˆ‡æ¢å®ç°æ–¹æ³•ï¼ˆmax-height vs Gridï¼‰
      modeBtns.forEach((btn) => {
        btn.addEventListener('click', () => {
          const mode = btn.dataset.mode;
          if (mode === currentMethod) {
            return;
          }

          // æ›´æ–°æŒ‰é’®çŠ¶æ€
          modeBtns.forEach((b) => b.classList.remove('active'));
          btn.classList.add('active');

          // åˆ‡æ¢å®ç°æ–¹æ³•
          currentMethod = mode;
          const contents = accordion.querySelectorAll('.accordion-content');

          if (mode === 'scale') {
            contents.forEach((content) => {
              content.classList.add('accordion-content-scale');
            });
          } else {
            contents.forEach((content) => {
              content.classList.remove('accordion-content-scale');
            });
          }
        });
      });
    </script>
  </body>
</html>
