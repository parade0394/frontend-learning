<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>åŠ è½½åŠ¨ç”» - CSS Transform & Transition å®æˆ˜åº”ç”¨</title>
    <link href="../../src/styles/common.css" rel="stylesheet" />
    <link href="../styles.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script type="module" src="/src/theme-sync.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="demo-page">
        <nav class="breadcrumb">
          <a href="../../index.html">é¦–é¡µ</a>
          <span class="separator">â€º</span>
          <a href="../index.html">CSS Transform & Transition</a>
          <span class="separator">â€º</span>
          <a href="index.html">å®æˆ˜åº”ç”¨</a>
          <span class="separator">â€º</span>
          <span class="current">åŠ è½½åŠ¨ç”»</span>
        </nav>

        <h1>â³ åŠ è½½åŠ¨ç”»</h1>
        <p class="subtitle">ä½¿ç”¨ @keyframes å’Œ animation-play-state åˆ›å»ºå¤šç§åŠ è½½æŒ‡ç¤ºå™¨</p>

        <div class="knowledge-tags">
          <span class="tag-label">ä½¿ç”¨çš„çŸ¥è¯†ç‚¹ï¼š</span>
          <a class="knowledge-tag" href="../demos/keyframes.html">
            <span class="tag-icon">ğŸ¬</span>
            @keyframes
          </a>
          <a class="knowledge-tag" href="../demos/rotate.html">
            <span class="tag-icon">ğŸ”„</span>
            rotate
          </a>
          <a class="knowledge-tag" href="../demos/scale.html">
            <span class="tag-icon">ğŸ“</span>
            scale
          </a>
          <a class="knowledge-tag" href="../demos/animation-play-state.html">
            <span class="tag-icon">â¯ï¸</span>
            animation-play-state
          </a>
        </div>

        <section class="interactive-demo">
          <h2>äº¤äº’æ¼”ç¤º</h2>

          <div class="demo-controls">
            <button id="toggleAll" class="btn-primary">
              <span id="toggleText">â¸ï¸ æš‚åœæ‰€æœ‰</span>
            </button>
            <button id="resetAll" class="btn-secondary">ğŸ”„ é‡ç½®</button>
          </div>

          <div class="spinners-grid">
            <!-- Spinner 1: Classic Rotate -->
            <div class="spinner-card">
              <h3>ç»å…¸æ—‹è½¬</h3>
              <div class="spinner-container">
                <div class="spinner spinner-classic"></div>
              </div>
              <button class="btn-small" data-toggle="spinner-classic">â¸ï¸ æš‚åœ</button>
              <p class="spinner-desc">ä½¿ç”¨ rotate å®ç°çš„ç»å…¸åŠ è½½å™¨</p>
            </div>

            <!-- Spinner 2: Pulse Scale -->
            <div class="spinner-card">
              <h3>è„‰å†²ç¼©æ”¾</h3>
              <div class="spinner-container">
                <div class="spinner spinner-pulse"></div>
              </div>
              <button class="btn-small" data-toggle="spinner-pulse">â¸ï¸ æš‚åœ</button>
              <p class="spinner-desc">ä½¿ç”¨ scale å®ç°çš„è„‰å†²æ•ˆæœ</p>
            </div>

            <!-- Spinner 3: Fade Dots -->
            <div class="spinner-card">
              <h3>æ¸å˜ç‚¹</h3>
              <div class="spinner-container">
                <div class="spinner spinner-dots">
                  <span></span>
                  <span></span>
                  <span></span>
                </div>
              </div>
              <button class="btn-small" data-toggle="spinner-dots">â¸ï¸ æš‚åœ</button>
              <p class="spinner-desc">ä½¿ç”¨ opacity å®ç°çš„æ¸å˜æ•ˆæœ</p>
            </div>

            <!-- Spinner 4: Bounce -->
            <div class="spinner-card">
              <h3>å¼¹è·³çƒ</h3>
              <div class="spinner-container">
                <div class="spinner spinner-bounce">
                  <span></span>
                  <span></span>
                  <span></span>
                </div>
              </div>
              <button class="btn-small" data-toggle="spinner-bounce">â¸ï¸ æš‚åœ</button>
              <p class="spinner-desc">ç»„åˆ scale å’Œ translateY çš„å¼¹è·³æ•ˆæœ</p>
            </div>

            <!-- Spinner 5: Progressive Dots -->
            <div class="spinner-card">
              <h3>æ¸è¿›ç‚¹</h3>
              <div class="spinner-container">
                <div class="spinner spinner-progressive">
                  <span></span>
                  <span></span>
                  <span></span>
                </div>
              </div>
              <button class="btn-small" data-toggle="spinner-progressive">â¸ï¸ æš‚åœ</button>
              <p class="spinner-desc">ä¾æ¬¡æ˜¾ç¤º1ä¸ªã€2ä¸ªã€3ä¸ªç‚¹çš„å¾ªç¯æ•ˆæœ</p>
            </div>
          </div>

          <div class="demo-info">
            <p>ğŸ’¡ æç¤ºï¼šç‚¹å‡»å•ä¸ªæŒ‰é’®æ§åˆ¶å¯¹åº”åŠ¨ç”»ï¼Œæˆ–ä½¿ç”¨"æš‚åœæ‰€æœ‰"æ§åˆ¶å…¨éƒ¨</p>
          </div>
        </section>

        <section class="implementation">
          <h2>å®ç°æ­¥éª¤</h2>

          <div class="step">
            <h3>æ­¥éª¤ 1ï¼šHTML ç»“æ„</h3>
            <p>åˆ›å»ºä¸åŒç±»å‹çš„åŠ è½½å™¨å®¹å™¨ï¼š</p>
            <pre class="code-block"><code><span class="comment"><!-- ç»å…¸æ—‹è½¬åŠ è½½å™¨ --></span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"spinner spinner-classic"</span><span class="tag">&gt;&lt;/div&gt;</span>

<span class="comment"><!-- è„‰å†²ç¼©æ”¾åŠ è½½å™¨ --></span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"spinner spinner-pulse"</span><span class="tag">&gt;&lt;/div&gt;</span>

<span class="comment"><!-- æ¸å˜ç‚¹åŠ è½½å™¨ --></span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"spinner spinner-dots"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="comment"><!-- å¼¹è·³çƒåŠ è½½å™¨ --></span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"spinner spinner-bounce"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="comment"><!-- æ¸è¿›ç‚¹åŠ è½½å™¨ --></span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"spinner spinner-progressive"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
  <span class="tag">&lt;span&gt;&lt;/span&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
          </div>

          <div class="step">
            <h3>æ­¥éª¤ 2ï¼šå®šä¹‰ @keyframes åŠ¨ç”»</h3>
            <p>ä¸ºæ¯ç§åŠ è½½å™¨åˆ›å»ºå…³é”®å¸§åŠ¨ç”»ï¼š</p>
            <pre class="code-block"><code><span class="comment">/* ç»å…¸æ—‹è½¬åŠ¨ç”» */</span>
<span class="keyword">@keyframes</span> <span class="value">spin</span> {
  <span class="keyword">from</span> {
    <span class="property">transform</span>: <span class="value">rotate(0deg)</span>;
  }
  <span class="keyword">to</span> {
    <span class="property">transform</span>: <span class="value">rotate(360deg)</span>;
  }
}

<span class="comment">/* è„‰å†²ç¼©æ”¾åŠ¨ç”» */</span>
<span class="keyword">@keyframes</span> <span class="value">pulse</span> {
  <span class="keyword">0%, 100%</span> {
    <span class="property">transform</span>: <span class="value">scale(1)</span>;
    <span class="property">opacity</span>: <span class="value">1</span>;
  }
  <span class="keyword">50%</span> {
    <span class="property">transform</span>: <span class="value">scale(1.5)</span>;
    <span class="property">opacity</span>: <span class="value">0.5</span>;
  }
}

<span class="comment">/* æ¸å˜åŠ¨ç”» */</span>
<span class="keyword">@keyframes</span> <span class="value">fade</span> {
  <span class="keyword">0%, 100%</span> {
    <span class="property">opacity</span>: <span class="value">0.2</span>;
  }
  <span class="keyword">50%</span> {
    <span class="property">opacity</span>: <span class="value">1</span>;
  }
}

<span class="comment">/* å¼¹è·³åŠ¨ç”» */</span>
<span class="keyword">@keyframes</span> <span class="value">bounce</span> {
  <span class="keyword">0%, 100%</span> {
    <span class="property">transform</span>: <span class="value">translateY(0) scale(1)</span>;
  }
  <span class="keyword">50%</span> {
    <span class="property">transform</span>: <span class="value">translateY(-20px) scale(0.8)</span>;
  }
}

<span class="comment">/* æ¸è¿›ç‚¹åŠ¨ç”» - ç¬¬1ä¸ªç‚¹ */</span>
<span class="keyword">@keyframes</span> <span class="value">progressiveDot1</span> {
  <span class="keyword">0%</span> {
    <span class="property">opacity</span>: <span class="value">1</span>;
    <span class="property">transform</span>: <span class="value">scale(1)</span>;
  }
  <span class="keyword">75%</span> {
    <span class="property">opacity</span>: <span class="value">1</span>;
  }
  <span class="keyword">85%</span> {
    <span class="property">opacity</span>: <span class="value">0</span>;
    <span class="property">transform</span>: <span class="value">scale(0)</span>;
  }
}

<span class="comment">/* æ¸è¿›ç‚¹åŠ¨ç”» - ç¬¬2ä¸ªç‚¹ */</span>
<span class="keyword">@keyframes</span> <span class="value">progressiveDot2</span> {
  <span class="keyword">0%, 25%</span> {
    <span class="property">opacity</span>: <span class="value">0</span>;
    <span class="property">transform</span>: <span class="value">scale(0)</span>;
  }
  <span class="keyword">30%</span> {
    <span class="property">opacity</span>: <span class="value">1</span>;
    <span class="property">transform</span>: <span class="value">scale(1)</span>;
  }
  <span class="keyword">75%</span> {
    <span class="property">opacity</span>: <span class="value">1</span>;
  }
  <span class="keyword">85%</span> {
    <span class="property">opacity</span>: <span class="value">0</span>;
  }
}

<span class="comment">/* æ¸è¿›ç‚¹åŠ¨ç”» - ç¬¬3ä¸ªç‚¹ */</span>
<span class="keyword">@keyframes</span> <span class="value">progressiveDot3</span> {
  <span class="keyword">0%, 50%</span> {
    <span class="property">opacity</span>: <span class="value">0</span>;
    <span class="property">transform</span>: <span class="value">scale(0)</span>;
  }
  <span class="keyword">55%</span> {
    <span class="property">opacity</span>: <span class="value">1</span>;
    <span class="property">transform</span>: <span class="value">scale(1)</span>;
  }
  <span class="keyword">75%</span> {
    <span class="property">opacity</span>: <span class="value">1</span>;
  }
  <span class="keyword">85%</span> {
    <span class="property">opacity</span>: <span class="value">0</span>;
  }
}</code></pre>
          </div>

          <div class="step">
            <h3>æ­¥éª¤ 3ï¼šåº”ç”¨åŠ¨ç”»åˆ°å…ƒç´ </h3>
            <p>ä½¿ç”¨ animation å±æ€§åº”ç”¨åŠ¨ç”»ï¼š</p>
            <pre class="code-block"><code><span class="comment">/* ç»å…¸æ—‹è½¬ */</span>
<span class="keyword">.spinner-classic</span> {
  <span class="property">width</span>: <span class="value">50px</span>;
  <span class="property">height</span>: <span class="value">50px</span>;
  <span class="property">border</span>: <span class="value">4px solid var(--gray-200)</span>;
  <span class="property">border-top-color</span>: <span class="value">var(--primary)</span>;
  <span class="property">border-radius</span>: <span class="value">50%</span>;
  <span class="property">animation</span>: <span class="value">spin 1s linear infinite</span>;
}

<span class="comment">/* è„‰å†²ç¼©æ”¾ */</span>
<span class="keyword">.spinner-pulse</span> {
  <span class="property">width</span>: <span class="value">50px</span>;
  <span class="property">height</span>: <span class="value">50px</span>;
  <span class="property">background</span>: <span class="value">var(--primary)</span>;
  <span class="property">border-radius</span>: <span class="value">50%</span>;
  <span class="property">animation</span>: <span class="value">pulse 1.5s ease-in-out infinite</span>;
}

<span class="comment">/* æ¸å˜ç‚¹ */</span>
<span class="keyword">.spinner-dots span</span> {
  <span class="property">width</span>: <span class="value">12px</span>;
  <span class="property">height</span>: <span class="value">12px</span>;
  <span class="property">background</span>: <span class="value">var(--primary)</span>;
  <span class="property">border-radius</span>: <span class="value">50%</span>;
  <span class="property">animation</span>: <span class="value">fade 1.4s ease-in-out infinite</span>;
}

<span class="keyword">.spinner-dots span:nth-child(2)</span> {
  <span class="property">animation-delay</span>: <span class="value">0.2s</span>;
}

<span class="keyword">.spinner-dots span:nth-child(3)</span> {
  <span class="property">animation-delay</span>: <span class="value">0.4s</span>;
}

<span class="comment">/* æ¸è¿›ç‚¹ - ä¾æ¬¡æ˜¾ç¤º1ä¸ªã€2ä¸ªã€3ä¸ªç‚¹ */</span>
<span class="keyword">.spinner-progressive span</span> {
  <span class="property">width</span>: <span class="value">12px</span>;
  <span class="property">height</span>: <span class="value">12px</span>;
  <span class="property">background</span>: <span class="value">var(--primary)</span>;
  <span class="property">border-radius</span>: <span class="value">50%</span>;
  <span class="property">opacity</span>: <span class="value">0</span>;
  <span class="property">transform</span>: <span class="value">scale(0)</span>;
}

<span class="keyword">.spinner-progressive span:nth-child(1)</span> {
  <span class="property">animation</span>: <span class="value">progressiveDot1 2s ease-in-out infinite</span>;
}

<span class="keyword">.spinner-progressive span:nth-child(2)</span> {
  <span class="property">animation</span>: <span class="value">progressiveDot2 2s ease-in-out infinite</span>;
}

<span class="keyword">.spinner-progressive span:nth-child(3)</span> {
  <span class="property">animation</span>: <span class="value">progressiveDot3 2s ease-in-out infinite</span>;
}</code></pre>
          </div>

          <div class="step">
            <h3>æ­¥éª¤ 4ï¼šä½¿ç”¨ animation-play-state æ§åˆ¶æ’­æ”¾</h3>
            <p>é€šè¿‡ JavaScript åˆ‡æ¢ animation-play-stateï¼š</p>
            <pre class="code-block"><code><span class="comment">/* CSS æš‚åœçŠ¶æ€ */</span>
<span class="keyword">.spinner.paused</span> {
  <span class="property">animation-play-state</span>: <span class="value">paused</span>;
}

<span class="keyword">.spinner.paused *</span> {
  <span class="property">animation-play-state</span>: <span class="value">paused</span>;
}

<span class="comment">// JavaScript æ§åˆ¶</span>
<span class="keyword">const</span> spinner = document.querySelector(<span class="string">'.spinner-classic'</span>);
<span class="keyword">const</span> button = document.querySelector(<span class="string">'[data-toggle]'</span>);

button.addEventListener(<span class="string">'click'</span>, () => {
  spinner.classList.toggle(<span class="string">'paused'</span>);

  <span class="keyword">if</span> (spinner.classList.contains(<span class="string">'paused'</span>)) {
    button.textContent = <span class="string">'â–¶ï¸ æ’­æ”¾'</span>;
  } <span class="keyword">else</span> {
    button.textContent = <span class="string">'â¸ï¸ æš‚åœ'</span>;
  }
});</code></pre>
          </div>
        </section>

        <section class="key-points">
          <h2>å…³é”®è¦ç‚¹</h2>
          <ul>
            <li><strong>@keyframes å®šä¹‰ï¼š</strong>ä½¿ç”¨ @keyframes å®šä¹‰å¯å¤ç”¨çš„åŠ¨ç”»åºåˆ—ï¼Œæ”¯æŒç™¾åˆ†æ¯”æˆ– from/to å…³é”®å­—</li>
            <li><strong>animation å±æ€§ï¼š</strong>ç®€å†™å±æ€§åŒ…å« nameã€durationã€timing-functionã€iteration-count ç­‰</li>
            <li><strong>infinite å¾ªç¯ï¼š</strong>ä½¿ç”¨ animation-iteration-count: infinite åˆ›å»ºæ— é™å¾ªç¯åŠ¨ç”»</li>
            <li><strong>animation-play-stateï¼š</strong>é€šè¿‡ paused/running å€¼æ§åˆ¶åŠ¨ç”»çš„æ’­æ”¾å’Œæš‚åœ</li>
            <li><strong>animation-delayï¼š</strong>ä½¿ç”¨å»¶è¿Ÿåˆ›å»ºäº¤é”™æ•ˆæœï¼Œè®©å¤šä¸ªå…ƒç´ ä¾æ¬¡åŠ¨ç”»</li>
            <li><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong>ä¼˜å…ˆä½¿ç”¨ transform å’Œ opacity å±æ€§ï¼Œå®ƒä»¬ç”± GPU åŠ é€Ÿ</li>
            <li><strong>ç»„åˆåŠ¨ç”»ï¼š</strong>å¯ä»¥åœ¨ä¸€ä¸ª @keyframes ä¸­ç»„åˆå¤šä¸ªå±æ€§å˜åŒ–ï¼ˆrotate + scale + opacityï¼‰</li>
          </ul>
        </section>

        <section class="related-demos">
          <h2>ç›¸å…³æ¼”ç¤º</h2>
          <div class="scenario-links">
            <a class="scenario-link" href="../demos/keyframes.html">
              <span class="scenario-icon">ğŸ¬</span>
              <div class="scenario-content">
                <h4>@keyframes åŸºç¡€</h4>
                <p>å­¦ä¹ å…³é”®å¸§åŠ¨ç”»çš„åŸºç¡€çŸ¥è¯† â†’</p>
              </div>
            </a>
            <a class="scenario-link" href="../demos/animation-play-state.html">
              <span class="scenario-icon">â¯ï¸</span>
              <div class="scenario-content">
                <h4>animation-play-state</h4>
                <p>æ§åˆ¶åŠ¨ç”»çš„æ’­æ”¾å’Œæš‚åœ â†’</p>
              </div>
            </a>
            <a class="scenario-link" href="../demos/rotate.html">
              <span class="scenario-icon">ğŸ”„</span>
              <div class="scenario-content">
                <h4>rotate æ—‹è½¬</h4>
                <p>å­¦ä¹ æ—‹è½¬å˜æ¢çš„ä½¿ç”¨ â†’</p>
              </div>
            </a>
            <a class="scenario-link" href="staggered-list.html">
              <span class="scenario-icon">ğŸ“</span>
              <div class="scenario-content">
                <h4>åˆ—è¡¨äº¤é”™åŠ¨ç”»</h4>
                <p>æŸ¥çœ‹æ›´å¤šå»¶è¿ŸåŠ¨ç”»åº”ç”¨ â†’</p>
              </div>
            </a>
          </div>
        </section>
      </div>
    </div>

    <script type="module">
      // å•ä¸ªåŠ è½½å™¨çš„æš‚åœ/æ’­æ”¾æ§åˆ¶
      const toggleButtons = document.querySelectorAll('[data-toggle]');

      toggleButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const spinnerClass = button.dataset.toggle;
          const spinner = document.querySelector(`.${spinnerClass}`);

          if (spinner) {
            spinner.classList.toggle('paused');

            if (spinner.classList.contains('paused')) {
              button.innerHTML = 'â–¶ï¸ æ’­æ”¾';
            } else {
              button.innerHTML = 'â¸ï¸ æš‚åœ';
            }
          }
        });
      });

      // å…¨å±€æš‚åœ/æ’­æ”¾æ§åˆ¶
      const toggleAllBtn = document.getElementById('toggleAll');
      const toggleText = document.getElementById('toggleText');
      let allPaused = false;

      toggleAllBtn.addEventListener('click', () => {
        const spinners = document.querySelectorAll('.spinner');
        allPaused = !allPaused;

        spinners.forEach((spinner) => {
          if (allPaused) {
            spinner.classList.add('paused');
          } else {
            spinner.classList.remove('paused');
          }
        });

        // æ›´æ–°æ‰€æœ‰æŒ‰é’®æ–‡æœ¬
        toggleButtons.forEach((button) => {
          button.innerHTML = allPaused ? 'â–¶ï¸ æ’­æ”¾' : 'â¸ï¸ æš‚åœ';
        });

        toggleText.textContent = allPaused ? 'â–¶ï¸ æ’­æ”¾æ‰€æœ‰' : 'â¸ï¸ æš‚åœæ‰€æœ‰';
      });

      // é‡ç½®æ‰€æœ‰åŠ¨ç”»
      const resetAllBtn = document.getElementById('resetAll');

      resetAllBtn.addEventListener('click', () => {
        const spinners = document.querySelectorAll('.spinner');

        // ç§»é™¤æš‚åœçŠ¶æ€
        spinners.forEach((spinner) => {
          spinner.classList.remove('paused');
          // è§¦å‘é‡æ’ä»¥é‡å¯åŠ¨ç”»
          spinner.style.animation = 'none';
          spinner.offsetHeight; // è§¦å‘é‡æ’
          spinner.style.animation = '';
        });

        // é‡ç½®æ‰€æœ‰æŒ‰é’®
        allPaused = false;
        toggleButtons.forEach((button) => {
          button.innerHTML = 'â¸ï¸ æš‚åœ';
        });
        toggleText.textContent = 'â¸ï¸ æš‚åœæ‰€æœ‰';
      });
    </script>
  </body>
</html>
