<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>åˆ—è¡¨äº¤é”™åŠ¨ç”» - CSS Transform & Transition å®æˆ˜åº”ç”¨</title>
    <link href="../../src/styles/common.css" rel="stylesheet" />
    <link href="../styles.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script type="module" src="/src/theme-sync.js"></script>
    <style>
      /* ========================================
         åˆ—è¡¨äº¤é”™åŠ¨ç”»æ ·å¼
         ======================================== */

      .list-demo-container {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-lg);
      }

      /* åˆ—è¡¨å®¹å™¨ */
      .staggered-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-sm);
      }

      /* åˆ—è¡¨é¡¹åŸºç¡€æ ·å¼ */
      .list-item {
        padding: var(--spacing-md) var(--spacing-lg);
        background: var(--card-bg);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-lg);
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
        box-shadow: var(--shadow-sm);

        /* åˆå§‹çŠ¶æ€ï¼šéšè— */
        opacity: 0;
        transform: translateY(20px);

        /* è¿‡æ¸¡æ•ˆæœ */
        transition:
          opacity 0.6s ease-out,
          transform 0.6s ease-out;
      }

      /* æ˜¾ç¤ºçŠ¶æ€ */
      .list-item.show {
        opacity: 1;
        transform: translateY(0);
      }

      /* åˆ—è¡¨é¡¹å›¾æ ‡ */
      .list-item-icon {
        width: 50px;
        height: 50px;
        background: var(--primary-light);
        border: 2px solid var(--primary);
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        flex-shrink: 0;
      }

      /* åˆ—è¡¨é¡¹å†…å®¹ */
      .list-item-content {
        flex: 1;
      }

      .list-item-title {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--text-primary);
        margin: 0 0 4px 0;
      }

      .list-item-desc {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin: 0;
        line-height: 1.5;
      }

      /* åˆ—è¡¨é¡¹åºå· */
      .list-item-number {
        width: 32px;
        height: 32px;
        background: var(--primary);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.9rem;
        flex-shrink: 0;
      }

      /* å»¶è¿Ÿå€¼ç¤ºä¾‹ */
      .delay-example {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--spacing-md);
        margin: var(--spacing-lg) 0;
      }

      .delay-card {
        padding: var(--spacing-md);
        background: var(--bg-secondary);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-md);
        text-align: center;
      }

      .delay-card-title {
        font-size: 0.85rem;
        color: var(--text-secondary);
        margin-bottom: var(--spacing-xs);
        font-weight: 600;
      }

      .delay-card-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary);
        font-family: var(--font-mono);
      }

      /* å“åº”å¼è°ƒæ•´ */
      @media (max-width: 768px) {
        .list-container {
          max-width: 100%;
        }

        .list-item {
          padding: var(--spacing-sm) var(--spacing-md);
        }

        .list-item-icon {
          width: 40px;
          height: 40px;
          font-size: 1.2rem;
        }

        .list-item-title {
          font-size: 1rem;
        }

        .list-item-desc {
          font-size: 0.85rem;
        }
      }

      @media (max-width: 480px) {
        .list-item {
          flex-direction: column;
          text-align: center;
          padding: var(--spacing-sm);
        }

        .delay-example {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="demo-page">
        <nav class="breadcrumb">
          <a href="../../index.html">é¦–é¡µ</a>
          <span class="separator">â€º</span>
          <a href="../index.html">CSS Transform & Transition</a>
          <span class="separator">â€º</span>
          <a href="index.html">å®æˆ˜åº”ç”¨</a>
          <span class="separator">â€º</span>
          <span class="current">åˆ—è¡¨äº¤é”™åŠ¨ç”»</span>
        </nav>

        <h1>ğŸ“ åˆ—è¡¨äº¤é”™åŠ¨ç”»</h1>
        <p class="subtitle">ä½¿ç”¨é€’å¢çš„ transition-delay åˆ›å»ºåˆ—è¡¨é¡¹ä¾æ¬¡å‡ºç°çš„ä¼˜é›…æ•ˆæœ</p>

        <div class="knowledge-tags">
          <span class="tag-label">ä½¿ç”¨çš„çŸ¥è¯†ç‚¹ï¼š</span>
          <a class="knowledge-tag" href="../demos/delay.html">
            <span class="tag-icon">â±ï¸</span>
            transition-delay
          </a>
          <a class="knowledge-tag" href="../demos/translateY.html">
            <span class="tag-icon">â†•ï¸</span>
            translateY
          </a>
          <a class="knowledge-tag" href="../demos/duration.html">
            <span class="tag-icon">â°</span>
            transition-duration
          </a>
          <a class="knowledge-tag" href="../demos/timing.html">
            <span class="tag-icon">ğŸ“ˆ</span>
            transition-timing-function
          </a>
        </div>

        <section class="interactive-demo">
          <h2>äº¤äº’æ¼”ç¤º</h2>

          <div class="demo-controls">
            <button id="playBtn" class="btn-primary">â–¶ï¸ æ’­æ”¾åŠ¨ç”»</button>
            <button id="resetBtn" class="btn-secondary">ğŸ”„ é‡ç½®</button>
          </div>

          <div class="demo-container">
            <div class="list-demo-container">
              <ul id="list1" class="staggered-list">
                <li class="list-item" data-delay="0">
                  <div class="list-item-icon">ğŸ¯</div>
                  <div class="list-item-content">
                    <h3 class="list-item-title">ç¬¬ä¸€æ­¥ï¼šè§„åˆ’é¡¹ç›®</h3>
                    <p class="list-item-desc">æ˜ç¡®é¡¹ç›®ç›®æ ‡å’Œéœ€æ±‚ï¼Œåˆ¶å®šè¯¦ç»†çš„å¼€å‘è®¡åˆ’</p>
                  </div>
                  <div class="list-item-number">1</div>
                </li>
                <li class="list-item" data-delay="100">
                  <div class="list-item-icon">ğŸ¨</div>
                  <div class="list-item-content">
                    <h3 class="list-item-title">ç¬¬äºŒæ­¥ï¼šè®¾è®¡ç•Œé¢</h3>
                    <p class="list-item-desc">åˆ›å»ºç”¨æˆ·å‹å¥½çš„ç•Œé¢è®¾è®¡å’Œäº¤äº’åŸå‹</p>
                  </div>
                  <div class="list-item-number">2</div>
                </li>
                <li class="list-item" data-delay="200">
                  <div class="list-item-icon">ğŸ’»</div>
                  <div class="list-item-content">
                    <h3 class="list-item-title">ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ä»£ç </h3>
                    <p class="list-item-desc">ä½¿ç”¨æœ€ä½³å®è·µå®ç°åŠŸèƒ½ï¼Œç¡®ä¿ä»£ç è´¨é‡</p>
                  </div>
                  <div class="list-item-number">3</div>
                </li>
                <li class="list-item" data-delay="300">
                  <div class="list-item-icon">ğŸ§ª</div>
                  <div class="list-item-content">
                    <h3 class="list-item-title">ç¬¬å››æ­¥ï¼šæµ‹è¯•éªŒè¯</h3>
                    <p class="list-item-desc">è¿›è¡Œå…¨é¢æµ‹è¯•ï¼Œä¿®å¤å‘ç°çš„é—®é¢˜å’Œç¼ºé™·</p>
                  </div>
                  <div class="list-item-number">4</div>
                </li>
                <li class="list-item" data-delay="400">
                  <div class="list-item-icon">ğŸš€</div>
                  <div class="list-item-content">
                    <h3 class="list-item-title">ç¬¬äº”æ­¥ï¼šéƒ¨ç½²ä¸Šçº¿</h3>
                    <p class="list-item-desc">å°†é¡¹ç›®éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œå¼€å§‹æ­£å¼è¿è¥</p>
                  </div>
                  <div class="list-item-number">5</div>
                </li>
                <li class="list-item" data-delay="500">
                  <div class="list-item-icon">ğŸ“Š</div>
                  <div class="list-item-content">
                    <h3 class="list-item-title">ç¬¬å…­æ­¥ï¼šç›‘æ§ä¼˜åŒ–</h3>
                    <p class="list-item-desc">æŒç»­ç›‘æ§æ€§èƒ½æŒ‡æ ‡ï¼Œä¸æ–­ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</p>
                  </div>
                  <div class="list-item-number">6</div>
                </li>
              </ul>
            </div>
          </div>

          <div class="demo-info">
            <p>ğŸ’¡ æç¤ºï¼šç‚¹å‡»"æ’­æ”¾åŠ¨ç”»"æŸ¥çœ‹åˆ—è¡¨é¡¹ä¾æ¬¡å‡ºç°çš„æ•ˆæœ</p>
          </div>
        </section>

        <section class="implementation">
          <h2>å®ç°æ­¥éª¤</h2>

          <div class="step">
            <h3>æ­¥éª¤ 1ï¼šHTML ç»“æ„</h3>
            <p>åˆ›å»ºåˆ—è¡¨ç»“æ„ï¼Œæ¯ä¸ªåˆ—è¡¨é¡¹åŒ…å«å›¾æ ‡ã€å†…å®¹å’Œåºå·ï¼š</p>
            <pre
              class="code-block"
            ><code><span class="tag">&lt;ul</span> <span class="attr">class</span>=<span class="string">"staggered-list"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;li</span> <span class="attr">class</span>=<span class="string">"list-item"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"list-item-icon"</span><span class="tag">&gt;</span>ğŸ¯<span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"list-item-content"</span><span class="tag">&gt;</span>
      <span class="tag">&lt;h3</span> <span class="attr">class</span>=<span class="string">"list-item-title"</span><span class="tag">&gt;</span>æ ‡é¢˜<span class="tag">&lt;/h3&gt;</span>
      <span class="tag">&lt;p</span> <span class="attr">class</span>=<span class="string">"list-item-desc"</span><span class="tag">&gt;</span>æè¿°<span class="tag">&lt;/p&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"list-item-number"</span><span class="tag">&gt;</span>1<span class="tag">&lt;/div&gt;</span>
  <span class="tag">&lt;/li&gt;</span>
  <span class="comment">&lt;!-- æ›´å¤šåˆ—è¡¨é¡¹... --&gt;</span>
<span class="tag">&lt;/ul&gt;</span></code></pre>
          </div>

          <div class="step">
            <h3>æ­¥éª¤ 2ï¼šè®¾ç½®åˆå§‹çŠ¶æ€</h3>
            <p>åˆ—è¡¨é¡¹åˆå§‹çŠ¶æ€ä¸ºéšè—ï¼ˆé€æ˜ä¸”å‘ä¸‹åç§»ï¼‰ï¼š</p>
            <pre class="code-block"><code><span class="keyword">.list-item</span> {
  <span class="comment">/* åˆå§‹çŠ¶æ€ï¼šéšè— */</span>
  <span class="property">opacity</span>: <span class="value">0</span>;
  <span class="property">transform</span>: <span class="value">translateY(20px)</span>;

  <span class="comment">/* è¿‡æ¸¡æ•ˆæœ */</span>
  <span class="property">transition</span>:
    <span class="value">opacity 0.6s ease-out</span>,
    <span class="value">transform 0.6s ease-out</span>;
}</code></pre>
          </div>

          <div class="step">
            <h3>æ­¥éª¤ 3ï¼šå®šä¹‰æ˜¾ç¤ºçŠ¶æ€</h3>
            <p>æ·»åŠ  .show ç±»ä½¿åˆ—è¡¨é¡¹æ˜¾ç¤ºï¼š</p>
            <pre class="code-block"><code><span class="keyword">.list-item.show</span> {
  <span class="property">opacity</span>: <span class="value">1</span>;
  <span class="property">transform</span>: <span class="value">translateY(0)</span>;
}</code></pre>
          </div>

          <div class="step">
            <h3>æ­¥éª¤ 4ï¼šä½¿ç”¨ JavaScript æ·»åŠ é€’å¢å»¶è¿Ÿ</h3>
            <p>é€šè¿‡ JavaScript ä¸ºæ¯ä¸ªåˆ—è¡¨é¡¹è®¾ç½®é€’å¢çš„ transition-delayï¼š</p>
            <pre class="code-block"><code><span class="comment">// è·å–æ‰€æœ‰åˆ—è¡¨é¡¹</span>
<span class="keyword">const</span> items = document.querySelectorAll(<span class="string">'.list-item'</span>);

<span class="comment">// æ’­æ”¾åŠ¨ç”»</span>
<span class="keyword">function</span> playAnimation() {
  items.forEach((item, index) => {
    <span class="comment">// ä¸ºæ¯ä¸ªé¡¹è®¾ç½®é€’å¢çš„å»¶è¿Ÿï¼ˆ100ms é—´éš”ï¼‰</span>
    <span class="keyword">const</span> delay = index * <span class="value">100</span>;
    item.style.transitionDelay = <span class="string">`</span>${delay}<span class="string">ms`</span>;

    <span class="comment">// æ·»åŠ  show ç±»è§¦å‘åŠ¨ç”»</span>
    setTimeout(() => {
      item.classList.add(<span class="string">'show'</span>);
    }, <span class="value">50</span>);
  });
}

<span class="comment">// é‡ç½®åŠ¨ç”»</span>
<span class="keyword">function</span> resetAnimation() {
  items.forEach(item => {
    item.classList.remove(<span class="string">'show'</span>);
    item.style.transitionDelay = <span class="string">'0ms'</span>;
  });
}</code></pre>
          </div>

          <div class="step">
            <h3>æ­¥éª¤ 5ï¼šå»¶è¿Ÿå€¼ç¤ºä¾‹</h3>
            <p>æ¯ä¸ªåˆ—è¡¨é¡¹çš„å»¶è¿Ÿå€¼é€’å¢ï¼Œåˆ›å»ºäº¤é”™æ•ˆæœï¼š</p>
            <div class="delay-example">
              <div class="delay-card">
                <div class="delay-card-title">ç¬¬ 1 é¡¹</div>
                <div class="delay-card-value">0ms</div>
              </div>
              <div class="delay-card">
                <div class="delay-card-title">ç¬¬ 2 é¡¹</div>
                <div class="delay-card-value">100ms</div>
              </div>
              <div class="delay-card">
                <div class="delay-card-title">ç¬¬ 3 é¡¹</div>
                <div class="delay-card-value">200ms</div>
              </div>
              <div class="delay-card">
                <div class="delay-card-title">ç¬¬ 4 é¡¹</div>
                <div class="delay-card-value">300ms</div>
              </div>
              <div class="delay-card">
                <div class="delay-card-title">ç¬¬ 5 é¡¹</div>
                <div class="delay-card-value">400ms</div>
              </div>
              <div class="delay-card">
                <div class="delay-card-title">ç¬¬ 6 é¡¹</div>
                <div class="delay-card-value">500ms</div>
              </div>
            </div>
          </div>
        </section>

        <section class="key-points">
          <h2>å…³é”®è¦ç‚¹</h2>
          <ul>
            <li><strong>transition-delayï¼š</strong>é€šè¿‡é€’å¢çš„å»¶è¿Ÿå€¼åˆ›å»ºäº¤é”™æ•ˆæœï¼Œæ¯ä¸ªå…ƒç´ ä¾æ¬¡å‡ºç°</li>
            <li><strong>ç»„åˆå˜æ¢ï¼š</strong>åŒæ—¶ä½¿ç”¨ translateY å’Œ opacity åˆ›å»ºå¹³æ»‘çš„æ·¡å…¥ä¸Šå‡æ•ˆæœ</li>
            <li><strong>å»¶è¿Ÿé—´éš”ï¼š</strong>é€šå¸¸ä½¿ç”¨ 50-150ms çš„é—´éš”ï¼Œå¤ªçŸ­ä¼šæ˜¾å¾—ä»“ä¿ƒï¼Œå¤ªé•¿ä¼šæ˜¾å¾—æ‹–æ²“</li>
            <li><strong>timing-functionï¼š</strong>ä½¿ç”¨ ease-out è®©åŠ¨ç”»å¼€å§‹å¿«ã€ç»“æŸæ…¢ï¼Œæ›´è‡ªç„¶</li>
            <li><strong>åˆå§‹çŠ¶æ€ï¼š</strong>ç¡®ä¿å…ƒç´ åˆå§‹çŠ¶æ€ä¸ºéšè—ï¼ˆopacity: 0ï¼‰ï¼Œé¿å…é—ªçƒ</li>
            <li><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong>ä½¿ç”¨ transform å’Œ opacity å±æ€§ï¼Œå®ƒä»¬ç”± GPU åŠ é€Ÿ</li>
            <li><strong>å¯è®¿é—®æ€§ï¼š</strong>è€ƒè™‘ä½¿ç”¨ prefers-reduced-motion ä¸ºéœ€è¦çš„ç”¨æˆ·ç¦ç”¨åŠ¨ç”»</li>
            <li><strong>åº”ç”¨åœºæ™¯ï¼š</strong>é€‚ç”¨äºåˆ—è¡¨åŠ è½½ã€èœå•å±•å¼€ã€å¡ç‰‡ç½‘æ ¼ç­‰åœºæ™¯</li>
          </ul>
        </section>

        <section class="related-demos">
          <h2>ç›¸å…³æ¼”ç¤º</h2>
          <div class="scenario-links">
            <a class="scenario-link" href="../demos/delay.html">
              <span class="scenario-icon">â±ï¸</span>
              <div class="scenario-content">
                <h4>transition-delay åŸºç¡€</h4>
                <p>å­¦ä¹ è¿‡æ¸¡å»¶è¿Ÿçš„åŸºç¡€çŸ¥è¯† â†’</p>
              </div>
            </a>
            <a class="scenario-link" href="../demos/translateY.html">
              <span class="scenario-icon">â†•ï¸</span>
              <div class="scenario-content">
                <h4>translateY å‚ç›´ç§»åŠ¨</h4>
                <p>å­¦ä¹ å‚ç›´æ–¹å‘çš„ä½ç§»å˜æ¢ â†’</p>
              </div>
            </a>
            <a class="scenario-link" href="../demos/timing.html">
              <span class="scenario-icon">ğŸ“ˆ</span>
              <div class="scenario-content">
                <h4>timing-function ç¼“åŠ¨å‡½æ•°</h4>
                <p>äº†è§£ä¸åŒçš„åŠ¨ç”»ç¼“åŠ¨æ•ˆæœ â†’</p>
              </div>
            </a>
            <a class="scenario-link" href="loading-spinner.html">
              <span class="scenario-icon">â³</span>
              <div class="scenario-content">
                <h4>åŠ è½½åŠ¨ç”»</h4>
                <p>æŸ¥çœ‹æ›´å¤šå»¶è¿ŸåŠ¨ç”»åº”ç”¨ â†’</p>
              </div>
            </a>
          </div>
        </section>
      </div>
    </div>

    <script type="module">
      const playBtn = document.getElementById('playBtn');
      const resetBtn = document.getElementById('resetBtn');
      const items = document.querySelectorAll('.list-item');

      // æ’­æ”¾åŠ¨ç”»
      function playAnimation() {
        // å…ˆé‡ç½®
        resetAnimation();

        // å»¶è¿Ÿä¸€ç‚¹å†å¼€å§‹ï¼Œç¡®ä¿é‡ç½®å®Œæˆ
        setTimeout(() => {
          items.forEach((item, index) => {
            const delay = parseInt(item.dataset.delay) || index * 100;
            item.style.transitionDelay = `${delay}ms`;

            // æ·»åŠ  show ç±»è§¦å‘åŠ¨ç”»
            setTimeout(() => {
              item.classList.add('show');
            }, 50);
          });
        }, 50);

        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        playBtn.disabled = true;
        playBtn.textContent = 'â³ æ’­æ”¾ä¸­...';

        // åŠ¨ç”»å®Œæˆåæ¢å¤æŒ‰é’®
        const totalDuration = (items.length - 1) * 100 + 600 + 100; // æœ€åä¸€é¡¹å»¶è¿Ÿ + åŠ¨ç”»æ—¶é•¿ + ç¼“å†²
        setTimeout(() => {
          playBtn.disabled = false;
          playBtn.textContent = 'â–¶ï¸ æ’­æ”¾åŠ¨ç”»';
        }, totalDuration);
      }

      // é‡ç½®åŠ¨ç”»
      function resetAnimation() {
        items.forEach((item) => {
          item.classList.remove('show');
          item.style.transitionDelay = '0ms';
        });
      }

      // äº‹ä»¶ç›‘å¬
      playBtn.addEventListener('click', playAnimation);
      resetBtn.addEventListener('click', resetAnimation);

      // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ’­æ”¾ä¸€æ¬¡
      window.addEventListener('load', () => {
        setTimeout(playAnimation, 500);
      });
    </script>
  </body>
</html>
