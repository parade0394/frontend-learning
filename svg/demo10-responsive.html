<!doctype html>
<html data-theme="light" lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å“åº”å¼ SVG - å‰ç«¯å­¦ä¹ ä¸­å¿ƒ</title>
    <link href="/src/styles/common.css" rel="stylesheet" />
    <script src="../shared/theme-sync.js"></script>
    <script src="../shared/utils.js"></script>
    <style>
      .responsive-demo {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        padding: var(--spacing-md);
        margin: var(--spacing-lg) 0;
      }

      .responsive-demo h3 {
        margin-top: 0;
        color: var(--primary);
      }

      .demo-container {
        background: var(--bg-primary);
        border-radius: var(--radius-sm);
        padding: var(--spacing-md);
        margin: var(--spacing-md) 0;
        resize: both;
        overflow: auto;
        min-width: 200px;
        min-height: 200px;
        border: 2px dashed var(--border-color);
      }

      .demo-container svg {
        display: block;
        width: 100%;
        height: auto;
      }

      .aspect-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--spacing-md);
        margin: var(--spacing-md) 0;
      }

      .aspect-item {
        background: var(--bg-primary);
        border-radius: var(--radius-sm);
        padding: var(--spacing-sm);
        text-align: center;
      }

      .aspect-item svg {
        width: 100%;
        height: auto;
        border: 1px solid var(--border-color);
        border-radius: var(--radius-sm);
      }

      .aspect-item p {
        margin-top: var(--spacing-xs);
        font-size: 0.85rem;
        color: var(--text-secondary);
      }

      .controls {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-sm);
        margin: var(--spacing-md) 0;
      }

      .control-row {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
      }

      .control-row label {
        min-width: 150px;
        font-size: 0.9rem;
        color: var(--text-secondary);
      }

      .control-row select {
        flex: 1;
        padding: 8px;
        border: 1px solid var(--border-color);
        border-radius: var(--radius-sm);
        background: var(--bg-primary);
        color: var(--text-primary);
      }
    </style>
    <!-- é˜²æ­¢ä¸»é¢˜é—ªçƒ -->
    <script>
      (function () {
        try {
          const theme = localStorage.getItem('themeMode') || 'light';
          const color = localStorage.getItem('primaryColor') || '#10b981';
          let actualTheme = theme;
          if (theme === 'auto') {
            actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', actualTheme);
          document.documentElement.style.setProperty('--primary', color);
        } catch (e) {
          console.log(e);
        }
      })();
    </script>
    <script type="module" src="/src/theme.js"></script>
    <link href="styles.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Skip to main content link for accessibility -->
    <a class="skip-link" href="#main-content">è·³è½¬åˆ°ä¸»è¦å†…å®¹</a>

    <!-- å·¦ä¾§è¾¹æ å¯¼èˆª -->
    <aside class="sidebar" aria-label="æ¼”ç¤ºå¯¼èˆª" role="navigation">
      <div class="sidebar-header">
        <h1>SVG å›¾å½¢</h1>
        <a class="back-home" href="index.html" aria-label="è¿”å›ä¸»é¡µ">â† è¿”å›ä¸»é¡µ</a>
      </div>
      <nav class="sidebar-nav" aria-label="ä¸»å¯¼èˆª">
        <div class="nav-section">
          <h3>åŸºç¡€å›¾å½¢</h3>
          <a class="nav-item" href="demo1-basic-shapes.html">åŸºç¡€å½¢çŠ¶</a>
          <a class="nav-item" href="demo2-paths.html">è·¯å¾„ç»˜åˆ¶</a>
        </div>
        <div class="nav-section">
          <h3>æ ·å¼ä¸æ•ˆæœ</h3>
          <a class="nav-item" href="demo3-gradients.html">æ¸å˜å¡«å……</a>
          <a class="nav-item" href="demo4-transforms.html">å˜æ¢æ“ä½œ</a>
          <a class="nav-item" href="demo5-text.html">æ–‡æœ¬å¤„ç†</a>
          <a class="nav-item" href="demo6-filters.html">æ»¤é•œæ•ˆæœ</a>
        </div>
        <div class="nav-section">
          <h3>é«˜çº§åº”ç”¨</h3>
          <a class="nav-item" href="demo7-animations.html">åŠ¨ç”»æ•ˆæœ</a>
          <a class="nav-item" href="demo8-icons.html">å›¾æ ‡ç³»ç»Ÿ</a>
          <a class="nav-item" href="demo9-charts.html">äº¤äº’å›¾è¡¨</a>
          <a class="nav-item active" href="demo10-responsive.html">å“åº”å¼ SVG</a>
        </div>
      </nav>
    </aside>

    <!-- å³ä¾§ä¸»å†…å®¹åŒº -->
    <main id="main-content" class="main-content" role="main">
      <div class="demo-page">
        <div class="container">
          <a class="back-link" href="index.html">â† è¿”å› SVG æ¨¡å—</a>

          <h1>å“åº”å¼ SVG</h1>
          <p>å­¦ä¹ å¦‚ä½•åˆ›å»ºè‡ªé€‚åº”ä¸åŒå°ºå¯¸å’Œæ¯”ä¾‹çš„ SVG å›¾å½¢ã€‚</p>

          <!-- viewBox åŸºç¡€ -->
          <div class="responsive-demo">
            <h3>ğŸ“ viewBox åŸºç¡€</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md)">
              æ‹–åŠ¨å³ä¸‹è§’è°ƒæ•´å®¹å™¨å¤§å°ï¼Œè§‚å¯Ÿ SVG å¦‚ä½•è‡ªé€‚åº”
            </p>

            <div class="demo-container" style="width: 400px; height: 300px">
              <svg viewBox="0 0 200 200">
                <rect
                  x="10"
                  y="10"
                  width="180"
                  height="180"
                  fill="none"
                  stroke="var(--primary)"
                  stroke-width="2"
                  stroke-dasharray="5,5"
                />
                <circle cx="100" cy="100" r="60" fill="var(--primary)" opacity="0.6" />
                <text x="100" y="105" text-anchor="middle" fill="white" font-size="20" font-weight="bold">viewBox</text>
              </svg>
            </div>

            <div class="code-block">
              <code
                >&lt;!-- viewBox="min-x min-y width height" --&gt; &lt;svg viewBox="0 0 200 200"&gt; &lt;!--
                å†…å®¹ä¼šè‡ªåŠ¨ç¼©æ”¾ä»¥é€‚åº”å®¹å™¨ --&gt; &lt;/svg&gt;</code
              >
            </div>
          </div>

          <!-- preserveAspectRatio -->
          <div class="responsive-demo">
            <h3>ğŸ¯ preserveAspectRatio</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md)">
              æ§åˆ¶ SVG åœ¨å®¹å™¨ä¸­çš„å¯¹é½å’Œç¼©æ”¾æ–¹å¼
            </p>

            <div class="aspect-grid">
              <div class="aspect-item">
                <svg viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet" style="width: 100%; height: 150px">
                  <rect width="100" height="100" fill="var(--primary)" opacity="0.3" />
                  <circle cx="50" cy="50" r="30" fill="var(--primary)" />
                </svg>
                <p>xMinYMin meet</p>
              </div>

              <div class="aspect-item">
                <svg viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet" style="width: 100%; height: 150px">
                  <rect width="100" height="100" fill="var(--primary)" opacity="0.3" />
                  <circle cx="50" cy="50" r="30" fill="var(--primary)" />
                </svg>
                <p>xMidYMid meet</p>
              </div>

              <div class="aspect-item">
                <svg viewBox="0 0 100 100" preserveAspectRatio="xMaxYMax meet" style="width: 100%; height: 150px">
                  <rect width="100" height="100" fill="var(--primary)" opacity="0.3" />
                  <circle cx="50" cy="50" r="30" fill="var(--primary)" />
                </svg>
                <p>xMaxYMax meet</p>
              </div>

              <div class="aspect-item">
                <svg viewBox="0 0 100 100" preserveAspectRatio="none" style="width: 100%; height: 150px">
                  <rect width="100" height="100" fill="var(--primary)" opacity="0.3" />
                  <circle cx="50" cy="50" r="30" fill="var(--primary)" />
                </svg>
                <p>none (æ‹‰ä¼¸)</p>
              </div>
            </div>

            <div class="code-block">
              <code
                >&lt;!-- å¯¹é½æ–¹å¼: xMin/xMid/xMax + YMin/YMid/YMax --&gt; &lt;!-- ç¼©æ”¾æ–¹å¼: meet(å®Œæ•´æ˜¾ç¤º) / slice(è£å‰ª)
                / none(æ‹‰ä¼¸) --&gt; &lt;svg preserveAspectRatio="xMidYMid meet"&gt;...&lt;/svg&gt;</code
              >
            </div>
          </div>

          <!-- äº¤äº’å¼ç¼–è¾‘å™¨ -->
          <div class="responsive-demo">
            <h3>ğŸ® äº¤äº’å¼ preserveAspectRatio ç¼–è¾‘å™¨</h3>

            <div
              style="
                background: var(--bg-primary);
                border-radius: var(--radius-sm);
                padding: var(--spacing-md);
                margin: var(--spacing-md) 0;
              "
            >
              <svg
                id="interactive-svg"
                viewBox="0 0 200 200"
                preserveAspectRatio="xMidYMid meet"
                style="
                  width: 100%;
                  height: 300px;
                  border: 2px solid var(--border-color);
                  border-radius: var(--radius-sm);
                "
              >
                <rect width="200" height="200" fill="var(--bg-secondary)" />
                <rect
                  x="10"
                  y="10"
                  width="180"
                  height="180"
                  fill="none"
                  stroke="var(--text-secondary)"
                  stroke-width="1"
                  stroke-dasharray="5,5"
                />
                <circle cx="100" cy="100" r="60" fill="var(--primary)" opacity="0.8" />
                <text x="100" y="105" text-anchor="middle" fill="white" font-size="16" font-weight="bold">SVG</text>
              </svg>
            </div>

            <div class="controls">
              <div class="control-row">
                <label>X å¯¹é½:</label>
                <select id="align-x">
                  <option value="xMin">xMin (å·¦å¯¹é½)</option>
                  <option value="xMid" selected>xMid (å±…ä¸­)</option>
                  <option value="xMax">xMax (å³å¯¹é½)</option>
                </select>
              </div>
              <div class="control-row">
                <label>Y å¯¹é½:</label>
                <select id="align-y">
                  <option value="YMin">YMin (é¡¶éƒ¨å¯¹é½)</option>
                  <option value="YMid" selected>YMid (å‚ç›´å±…ä¸­)</option>
                  <option value="YMax">YMax (åº•éƒ¨å¯¹é½)</option>
                </select>
              </div>
              <div class="control-row">
                <label>ç¼©æ”¾æ–¹å¼:</label>
                <select id="meet-slice">
                  <option value="meet" selected>meet (å®Œæ•´æ˜¾ç¤º)</option>
                  <option value="slice">slice (å¡«å……è£å‰ª)</option>
                  <option value="none">none (æ‹‰ä¼¸å˜å½¢)</option>
                </select>
              </div>
            </div>

            <div class="code-block">
              <code id="aspect-code">preserveAspectRatio="xMidYMid meet"</code>
            </div>
          </div>

          <!-- å“åº”å¼å›¾æ ‡ -->
          <div class="responsive-demo">
            <h3>ğŸ“± å“åº”å¼å›¾æ ‡ç¤ºä¾‹</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md)">ä½¿ç”¨ viewBox åˆ›å»ºå¯ç¼©æ”¾çš„å›¾æ ‡</p>

            <div
              style="
                display: flex;
                gap: var(--spacing-lg);
                align-items: center;
                justify-content: center;
                padding: var(--spacing-lg);
                background: var(--bg-primary);
                border-radius: var(--radius-sm);
              "
            >
              <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="var(--primary)" stroke-width="2">
                <circle cx="12" cy="12" r="10" />
                <path d="M12 6v6l4 2" />
              </svg>

              <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="var(--primary)" stroke-width="2">
                <circle cx="12" cy="12" r="10" />
                <path d="M12 6v6l4 2" />
              </svg>

              <svg viewBox="0 0 24 24" width="72" height="72" fill="none" stroke="var(--primary)" stroke-width="2">
                <circle cx="12" cy="12" r="10" />
                <path d="M12 6v6l4 2" />
              </svg>
            </div>

            <div class="code-block" style="margin-top: var(--spacing-md)">
              <code
                >&lt;!-- ç›¸åŒçš„ viewBoxï¼Œä¸åŒçš„å°ºå¯¸ --&gt; &lt;svg viewBox="0 0 24 24" width="24"
                height="24"&gt;...&lt;/svg&gt; &lt;svg viewBox="0 0 24 24" width="48" height="48"&gt;...&lt;/svg&gt;
                &lt;svg viewBox="0 0 24 24" width="72" height="72"&gt;...&lt;/svg&gt;</code
              >
            </div>
          </div>

          <!-- æµå¼å¸ƒå±€ -->
          <div class="responsive-demo">
            <h3>ğŸŒŠ æµå¼å¸ƒå±€ SVG</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md)">ä½¿ç”¨ç™¾åˆ†æ¯”å®½åº¦å®ç°æµå¼å¸ƒå±€</p>

            <div style="background: var(--bg-primary); border-radius: var(--radius-sm); padding: var(--spacing-md)">
              <svg viewBox="0 0 800 200" style="width: 100%; height: auto">
                <rect x="10" y="10" width="180" height="180" rx="10" fill="var(--primary)" opacity="0.8" />
                <rect x="210" y="10" width="180" height="180" rx="10" fill="var(--success)" opacity="0.8" />
                <rect x="410" y="10" width="180" height="180" rx="10" fill="var(--warning)" opacity="0.8" />
                <rect x="610" y="10" width="180" height="180" rx="10" fill="var(--error)" opacity="0.8" />
              </svg>
            </div>

            <div class="code-block" style="margin-top: var(--spacing-md)">
              <code
                >&lt;svg viewBox="0 0 800 200" style="width: 100%; height: auto;"&gt; &lt;!-- å†…å®¹ä¼šéšå®¹å™¨å®½åº¦è‡ªåŠ¨ç¼©æ”¾
                --&gt; &lt;/svg&gt;</code
              >
            </div>
          </div>

          <div
            class="info-section"
            style="
              margin-top: var(--spacing-xl);
              padding: var(--spacing-md);
              background: var(--bg-secondary);
              border-radius: var(--radius-md);
            "
          >
            <h2>ğŸ’¡ å…³é”®çŸ¥è¯†ç‚¹</h2>
            <ul>
              <li><strong>viewBox</strong>: å®šä¹‰ SVG çš„åæ ‡ç³»ç»Ÿï¼Œæ ¼å¼ä¸º "min-x min-y width height"</li>
              <li><strong>preserveAspectRatio</strong>: æ§åˆ¶ SVG å¦‚ä½•é€‚åº”å®¹å™¨</li>
              <li><strong>meet</strong>: ä¿æŒå®½é«˜æ¯”ï¼Œå®Œæ•´æ˜¾ç¤ºå†…å®¹ï¼ˆç±»ä¼¼ containï¼‰</li>
              <li><strong>slice</strong>: ä¿æŒå®½é«˜æ¯”ï¼Œå¡«å……å®¹å™¨å¹¶è£å‰ªï¼ˆç±»ä¼¼ coverï¼‰</li>
              <li><strong>none</strong>: ä¸ä¿æŒå®½é«˜æ¯”ï¼Œæ‹‰ä¼¸å¡«å……å®¹å™¨</li>
              <li><strong>å¯¹é½æ–¹å¼</strong>: xMin/xMid/xMax æ§åˆ¶æ°´å¹³å¯¹é½ï¼ŒYMin/YMid/YMax æ§åˆ¶å‚ç›´å¯¹é½</li>
              <li><strong>å“åº”å¼æŠ€å·§</strong>: ä½¿ç”¨ width: 100% å’Œ height: auto å®ç°æµå¼å¸ƒå±€</li>
              <li><strong>å›¾æ ‡è®¾è®¡</strong>: ä½¿ç”¨å›ºå®šçš„ viewBoxï¼ˆå¦‚ 24x24ï¼‰ä¾¿äºç¼©æ”¾</li>
            </ul>
          </div>
        </div>

        <script>
          (function () {
            'use strict';

            const svg = document.getElementById('interactive-svg');
            const alignX = document.getElementById('align-x');
            const alignY = document.getElementById('align-y');
            const meetSlice = document.getElementById('meet-slice');
            const aspectCode = document.getElementById('aspect-code');

            alignX.addEventListener('change', updateAspectRatio);
            alignY.addEventListener('change', updateAspectRatio);
            meetSlice.addEventListener('change', updateAspectRatio);

            function updateAspectRatio() {
              const x = alignX.value;
              const y = alignY.value;
              const scale = meetSlice.value;

              let value;
              if (scale === 'none') {
                value = 'none';
              } else {
                value = `${x}${y} ${scale}`;
              }

              svg.setAttribute('preserveAspectRatio', value);
              aspectCode.textContent = `preserveAspectRatio="${value}"`;
            }
          })();
        </script>
      </div>
    </main>
  </body>
</html>
