<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SVG åŸºç¡€å½¢çŠ¶ - å‰ç«¯å­¦ä¹ ä¸­å¿ƒ</title>
  <link rel="stylesheet" href="/src/styles/common.css">
  <link rel="stylesheet" href="./svg-common.css">
  <script src="../shared/theme-sync.js"></script>
  <script src="../shared/utils.js"></script>
  
  <style>
    .shapes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--spacing-lg);
      margin: var(--spacing-lg) 0;
    }

    .shape-demo {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
    }

    .shape-demo h3 {
      margin-top: 0;
      color: var(--primary);
      font-size: 1.1rem;
    }

    .svg-container {
      background: var(--bg-primary);
      border-radius: var(--radius-sm);
      padding: var(--spacing-md);
      margin: var(--spacing-md) 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 200px;
    }

    .svg-container svg {
      max-width: 100%;
      height: auto;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-sm);
      margin-top: var(--spacing-md);
    }

    .control-group {
      flex: 1;
      min-width: 200px;
    }

    .control-group label {
      display: block;
      margin-bottom: 4px;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .control-group input[type="range"] {
      width: 100%;
    }

    .control-group input[type="color"] {
      width: 100%;
      height: 36px;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      cursor: pointer;
    }

    .value-display {
      display: inline-block;
      margin-left: var(--spacing-xs);
      font-weight: 600;
      color: var(--primary);
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-link">â† è¿”å› SVG æ¨¡å—</a>
    
    <h1>SVG åŸºç¡€å½¢çŠ¶</h1>
    <p>SVG æä¾›äº†å¤šç§åŸºæœ¬å›¾å½¢å…ƒç´ ï¼Œæ¯ç§éƒ½æœ‰ç‰¹å®šçš„å±æ€§æ¥æ§åˆ¶å…¶å¤–è§‚ã€‚</p>

    <div class="shapes-grid">
      <!-- åœ†å½¢ -->
      <div class="shape-demo">
        <h3>åœ†å½¢ (circle)</h3>
        <div class="svg-container">
          <svg id="circle-svg" width="200" height="200" viewBox="0 0 200 200">
            <circle id="circle" cx="100" cy="100" r="60" 
                    fill="#10b981" stroke="#059669" stroke-width="3"/>
          </svg>
        </div>
        <div class="controls">
          <div class="control-group">
            <label>åŠå¾„ (r): <span class="value-display" id="circle-r-value">60</span></label>
            <input type="range" id="circle-r" min="20" max="90" value="60">
          </div>
          <div class="control-group">
            <label>å¡«å……é¢œè‰²:</label>
            <input type="color" id="circle-fill" value="#10b981">
          </div>
        </div>
        <div class="code-block">
          <code id="circle-code">&lt;circle cx="100" cy="100" r="60" fill="#10b981" stroke="#059669" stroke-width="3"/&gt;</code>
        </div>
      </div>

      <!-- çŸ©å½¢ -->
      <div class="shape-demo">
        <h3>çŸ©å½¢ (rect)</h3>
        <div class="svg-container">
          <svg id="rect-svg" width="200" height="200" viewBox="0 0 200 200">
            <rect id="rect" x="50" y="50" width="100" height="100" rx="10"
                  fill="#10b981" stroke="#059669" stroke-width="3"/>
          </svg>
        </div>
        <div class="controls">
          <div class="control-group">
            <label>åœ†è§’ (rx): <span class="value-display" id="rect-rx-value">10</span></label>
            <input type="range" id="rect-rx" min="0" max="50" value="10">
          </div>
          <div class="control-group">
            <label>å¡«å……é¢œè‰²:</label>
            <input type="color" id="rect-fill" value="#10b981">
          </div>
        </div>
        <div class="code-block">
          <code id="rect-code">&lt;rect x="50" y="50" width="100" height="100" rx="10" fill="#10b981"/&gt;</code>
        </div>
      </div>

      <!-- æ¤­åœ† -->
      <div class="shape-demo">
        <h3>æ¤­åœ† (ellipse)</h3>
        <div class="svg-container">
          <svg id="ellipse-svg" width="200" height="200" viewBox="0 0 200 200">
            <ellipse id="ellipse" cx="100" cy="100" rx="80" ry="50"
                     fill="#10b981" stroke="#059669" stroke-width="3"/>
          </svg>
        </div>
        <div class="controls">
          <div class="control-group">
            <label>æ°´å¹³åŠå¾„ (rx): <span class="value-display" id="ellipse-rx-value">80</span></label>
            <input type="range" id="ellipse-rx" min="30" max="90" value="80">
          </div>
          <div class="control-group">
            <label>å‚ç›´åŠå¾„ (ry): <span class="value-display" id="ellipse-ry-value">50</span></label>
            <input type="range" id="ellipse-ry" min="20" max="90" value="50">
          </div>
        </div>
        <div class="code-block">
          <code id="ellipse-code">&lt;ellipse cx="100" cy="100" rx="80" ry="50" fill="#10b981"/&gt;</code>
        </div>
      </div>

      <!-- ç›´çº¿ -->
      <div class="shape-demo">
        <h3>ç›´çº¿ (line)</h3>
        <div class="svg-container">
          <svg id="line-svg" width="200" height="200" viewBox="0 0 200 200">
            <line id="line" x1="30" y1="30" x2="170" y2="170"
                  stroke="#10b981" stroke-width="5" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="controls">
          <div class="control-group">
            <label>çº¿å®½: <span class="value-display" id="line-width-value">5</span></label>
            <input type="range" id="line-width" min="1" max="20" value="5">
          </div>
          <div class="control-group">
            <label>çº¿æ¡é¢œè‰²:</label>
            <input type="color" id="line-stroke" value="#10b981">
          </div>
        </div>
        <div class="code-block">
          <code id="line-code">&lt;line x1="30" y1="30" x2="170" y2="170" stroke="#10b981" stroke-width="5"/&gt;</code>
        </div>
      </div>

      <!-- æŠ˜çº¿ -->
      <div class="shape-demo">
        <h3>æŠ˜çº¿ (polyline)</h3>
        <div class="svg-container">
          <svg id="polyline-svg" width="200" height="200" viewBox="0 0 200 200">
            <polyline id="polyline" points="30,150 60,50 100,120 140,40 170,150"
                      fill="none" stroke="#10b981" stroke-width="4" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="controls">
          <div class="control-group">
            <label>çº¿å®½: <span class="value-display" id="polyline-width-value">4</span></label>
            <input type="range" id="polyline-width" min="1" max="10" value="4">
          </div>
          <div class="control-group">
            <label>çº¿æ¡é¢œè‰²:</label>
            <input type="color" id="polyline-stroke" value="#10b981">
          </div>
        </div>
        <div class="code-block">
          <code id="polyline-code">&lt;polyline points="30,150 60,50 100,120 140,40 170,150" fill="none" stroke="#10b981"/&gt;</code>
        </div>
      </div>

      <!-- å¤šè¾¹å½¢ -->
      <div class="shape-demo">
        <h3>å¤šè¾¹å½¢ (polygon)</h3>
        <div class="svg-container">
          <svg id="polygon-svg" width="200" height="200" viewBox="0 0 200 200">
            <polygon id="polygon" points="100,30 170,80 150,160 50,160 30,80"
                     fill="#10b981" stroke="#059669" stroke-width="3"/>
          </svg>
        </div>
        <div class="controls">
          <div class="control-group">
            <label>è¾¹æ•°: <span class="value-display" id="polygon-sides-value">5</span></label>
            <input type="range" id="polygon-sides" min="3" max="8" value="5">
          </div>
          <div class="control-group">
            <label>å¡«å……é¢œè‰²:</label>
            <input type="color" id="polygon-fill" value="#10b981">
          </div>
        </div>
        <div class="code-block">
          <code id="polygon-code">&lt;polygon points="100,30 170,80 150,160 50,160 30,80" fill="#10b981"/&gt;</code>
        </div>
      </div>
    </div>

    <div class="info-section" style="margin-top: var(--spacing-xl); padding: var(--spacing-md); background: var(--bg-secondary); border-radius: var(--radius-md);">
      <h2>ğŸ’¡ å…³é”®çŸ¥è¯†ç‚¹</h2>
      <ul>
        <li><strong>circle</strong>: ä½¿ç”¨ cx, cy (åœ†å¿ƒåæ ‡) å’Œ r (åŠå¾„) å®šä¹‰</li>
        <li><strong>rect</strong>: ä½¿ç”¨ x, y (å·¦ä¸Šè§’åæ ‡), width, height å®šä¹‰ï¼Œrx/ry æ§åˆ¶åœ†è§’</li>
        <li><strong>ellipse</strong>: ä½¿ç”¨ cx, cy (ä¸­å¿ƒåæ ‡), rx (æ°´å¹³åŠå¾„), ry (å‚ç›´åŠå¾„) å®šä¹‰</li>
        <li><strong>line</strong>: ä½¿ç”¨ x1, y1 (èµ·ç‚¹) å’Œ x2, y2 (ç»ˆç‚¹) å®šä¹‰</li>
        <li><strong>polyline</strong>: ä½¿ç”¨ points å±æ€§å®šä¹‰ä¸€ç³»åˆ—è¿æ¥çš„ç‚¹ï¼ˆä¸è‡ªåŠ¨é—­åˆï¼‰</li>
        <li><strong>polygon</strong>: ä½¿ç”¨ points å±æ€§å®šä¹‰ä¸€ç³»åˆ—ç‚¹ï¼ˆè‡ªåŠ¨é—­åˆå½¢æˆå¤šè¾¹å½¢ï¼‰</li>
      </ul>
    </div>
  </div>

  <script>
    (function() {
      'use strict';

      // åœ†å½¢æ§åˆ¶
      const circle = document.getElementById('circle');
      const circleR = document.getElementById('circle-r');
      const circleRValue = document.getElementById('circle-r-value');
      const circleFill = document.getElementById('circle-fill');
      const circleCode = document.getElementById('circle-code');

      circleR.addEventListener('input', (e) => {
        const r = e.target.value;
        circle.setAttribute('r', r);
        circleRValue.textContent = r;
        updateCode(circleCode, circle);
      });

      circleFill.addEventListener('input', (e) => {
        circle.setAttribute('fill', e.target.value);
        updateCode(circleCode, circle);
      });

      // çŸ©å½¢æ§åˆ¶
      const rect = document.getElementById('rect');
      const rectRx = document.getElementById('rect-rx');
      const rectRxValue = document.getElementById('rect-rx-value');
      const rectFill = document.getElementById('rect-fill');
      const rectCode = document.getElementById('rect-code');

      rectRx.addEventListener('input', (e) => {
        const rx = e.target.value;
        rect.setAttribute('rx', rx);
        rect.setAttribute('ry', rx);
        rectRxValue.textContent = rx;
        updateCode(rectCode, rect);
      });

      rectFill.addEventListener('input', (e) => {
        rect.setAttribute('fill', e.target.value);
        updateCode(rectCode, rect);
      });

      // æ¤­åœ†æ§åˆ¶
      const ellipse = document.getElementById('ellipse');
      const ellipseRx = document.getElementById('ellipse-rx');
      const ellipseRy = document.getElementById('ellipse-ry');
      const ellipseRxValue = document.getElementById('ellipse-rx-value');
      const ellipseRyValue = document.getElementById('ellipse-ry-value');
      const ellipseCode = document.getElementById('ellipse-code');

      ellipseRx.addEventListener('input', (e) => {
        const rx = e.target.value;
        ellipse.setAttribute('rx', rx);
        ellipseRxValue.textContent = rx;
        updateCode(ellipseCode, ellipse);
      });

      ellipseRy.addEventListener('input', (e) => {
        const ry = e.target.value;
        ellipse.setAttribute('ry', ry);
        ellipseRyValue.textContent = ry;
        updateCode(ellipseCode, ellipse);
      });

      // ç›´çº¿æ§åˆ¶
      const line = document.getElementById('line');
      const lineWidth = document.getElementById('line-width');
      const lineWidthValue = document.getElementById('line-width-value');
      const lineStroke = document.getElementById('line-stroke');
      const lineCode = document.getElementById('line-code');

      lineWidth.addEventListener('input', (e) => {
        const width = e.target.value;
        line.setAttribute('stroke-width', width);
        lineWidthValue.textContent = width;
        updateCode(lineCode, line);
      });

      lineStroke.addEventListener('input', (e) => {
        line.setAttribute('stroke', e.target.value);
        updateCode(lineCode, line);
      });

      // æŠ˜çº¿æ§åˆ¶
      const polyline = document.getElementById('polyline');
      const polylineWidth = document.getElementById('polyline-width');
      const polylineWidthValue = document.getElementById('polyline-width-value');
      const polylineStroke = document.getElementById('polyline-stroke');
      const polylineCode = document.getElementById('polyline-code');

      polylineWidth.addEventListener('input', (e) => {
        const width = e.target.value;
        polyline.setAttribute('stroke-width', width);
        polylineWidthValue.textContent = width;
        updateCode(polylineCode, polyline);
      });

      polylineStroke.addEventListener('input', (e) => {
        polyline.setAttribute('stroke', e.target.value);
        updateCode(polylineCode, polyline);
      });

      // å¤šè¾¹å½¢æ§åˆ¶
      const polygon = document.getElementById('polygon');
      const polygonSides = document.getElementById('polygon-sides');
      const polygonSidesValue = document.getElementById('polygon-sides-value');
      const polygonFill = document.getElementById('polygon-fill');
      const polygonCode = document.getElementById('polygon-code');

      polygonSides.addEventListener('input', (e) => {
        const sides = parseInt(e.target.value);
        const points = generatePolygonPoints(100, 100, 70, sides);
        polygon.setAttribute('points', points);
        polygonSidesValue.textContent = sides;
        updateCode(polygonCode, polygon);
      });

      polygonFill.addEventListener('input', (e) => {
        polygon.setAttribute('fill', e.target.value);
        updateCode(polygonCode, polygon);
      });

      // ç”Ÿæˆæ­£å¤šè¾¹å½¢çš„ç‚¹
      function generatePolygonPoints(cx, cy, radius, sides) {
        const points = [];
        for (let i = 0; i < sides; i++) {
          const angle = (i * 2 * Math.PI / sides) - Math.PI / 2;
          const x = cx + radius * Math.cos(angle);
          const y = cy + radius * Math.sin(angle);
          points.push(`${x.toFixed(0)},${y.toFixed(0)}`);
        }
        return points.join(' ');
      }

      // æ›´æ–°ä»£ç æ˜¾ç¤º
      function updateCode(codeElement, svgElement) {
        const attrs = Array.from(svgElement.attributes)
          .filter(attr => attr.name !== 'id')
          .map(attr => `${attr.name}="${attr.value}"`)
          .join(' ');
        codeElement.textContent = `<${svgElement.tagName} ${attrs}/>`;
      }
    })();
  </script>
</body>
</html>
