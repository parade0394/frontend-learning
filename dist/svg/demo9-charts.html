<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SVG äº¤äº’å›¾è¡¨ - å‰ç«¯å­¦ä¹ ä¸­å¿ƒ</title>
  <link rel="stylesheet" href="../shared/common.css">
  <script src="../shared/theme-sync.js"></script>
  <script src="../shared/utils.js"></script>
  <style>
    .chart-demo {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      margin: var(--spacing-lg) 0;
    }

    .chart-demo h3 {
      margin-top: 0;
      color: var(--primary);
    }

    .svg-container {
      background: var(--bg-primary);
      border-radius: var(--radius-sm);
      padding: var(--spacing-lg);
      margin: var(--spacing-md) 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .svg-container svg {
      max-width: 100%;
      height: auto;
    }

    .bar {
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .bar:hover {
      opacity: 0.8;
    }

    .pie-slice {
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .pie-slice:hover {
      opacity: 0.8;
      transform: scale(1.05);
      transform-origin: center;
    }

    .line-point {
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .line-point:hover {
      r: 6;
    }

    .tooltip {
      position: absolute;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      padding: 8px 12px;
      font-size: 0.85rem;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s ease;
      box-shadow: var(--shadow-md);
      z-index: 1000;
    }

    .tooltip.show {
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="tooltip" id="tooltip"></div>

  <div class="container">
    <a href="index.html" class="back-link">â† è¿”å› SVG æ¨¡å—</a>
    
    <h1>SVG äº¤äº’å›¾è¡¨</h1>
    <p>ä½¿ç”¨ SVG åˆ›å»ºåŠ¨æ€ã€å¯äº¤äº’çš„æ•°æ®å¯è§†åŒ–å›¾è¡¨ã€‚</p>

    <!-- æŸ±çŠ¶å›¾ -->
    <div class="chart-demo">
      <h3>ğŸ“Š æŸ±çŠ¶å›¾ (Bar Chart)</h3>
      <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md);">
        æ‚¬åœæŸ¥çœ‹æ•°æ®è¯¦æƒ…
      </p>
      <div class="svg-container">
        <svg id="bar-chart" width="600" height="300" viewBox="0 0 600 300">
          <!-- åæ ‡è½´ -->
          <line x1="50" y1="250" x2="550" y2="250" stroke="var(--text-secondary)" stroke-width="2"/>
          <line x1="50" y1="50" x2="50" y2="250" stroke="var(--text-secondary)" stroke-width="2"/>
          
          <!-- æŸ±å­ -->
          <rect class="bar" data-value="85" x="80" y="92.5" width="60" height="157.5" 
                fill="var(--primary)" rx="4"/>
          <rect class="bar" data-value="120" x="170" y="50" width="60" height="200" 
                fill="var(--primary)" rx="4"/>
          <rect class="bar" data-value="95" x="260" y="77.5" width="60" height="172.5" 
                fill="var(--primary)" rx="4"/>
          <rect class="bar" data-value="140" x="350" y="20" width="60" height="230" 
                fill="var(--primary)" rx="4"/>
          <rect class="bar" data-value="110" x="440" y="62.5" width="60" height="187.5" 
                fill="var(--primary)" rx="4"/>
          
          <!-- æ ‡ç­¾ -->
          <text x="110" y="270" text-anchor="middle" fill="var(--text-secondary)" font-size="12">ä¸€æœˆ</text>
          <text x="200" y="270" text-anchor="middle" fill="var(--text-secondary)" font-size="12">äºŒæœˆ</text>
          <text x="290" y="270" text-anchor="middle" fill="var(--text-secondary)" font-size="12">ä¸‰æœˆ</text>
          <text x="380" y="270" text-anchor="middle" fill="var(--text-secondary)" font-size="12">å››æœˆ</text>
          <text x="470" y="270" text-anchor="middle" fill="var(--text-secondary)" font-size="12">äº”æœˆ</text>
        </svg>
      </div>
      <div class="code-block">
        <code>&lt;svg width="600" height="300"&gt;
  &lt;rect class="bar" x="80" y="92.5" width="60" height="157.5"/&gt;
  &lt;!-- æ›´å¤šæŸ±å­... --&gt;
&lt;/svg&gt;</code>
      </div>
    </div>

    <!-- æŠ˜çº¿å›¾ -->
    <div class="chart-demo">
      <h3>ğŸ“ˆ æŠ˜çº¿å›¾ (Line Chart)</h3>
      <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md);">
        æ‚¬åœæŸ¥çœ‹æ•°æ®ç‚¹
      </p>
      <div class="svg-container">
        <svg id="line-chart" width="600" height="300" viewBox="0 0 600 300">
          <!-- ç½‘æ ¼çº¿ -->
          <line x1="50" y1="50" x2="550" y2="50" stroke="var(--border-color)" stroke-width="1"/>
          <line x1="50" y1="100" x2="550" y2="100" stroke="var(--border-color)" stroke-width="1"/>
          <line x1="50" y1="150" x2="550" y2="150" stroke="var(--border-color)" stroke-width="1"/>
          <line x1="50" y1="200" x2="550" y2="200" stroke="var(--border-color)" stroke-width="1"/>
          <line x1="50" y1="250" x2="550" y2="250" stroke="var(--border-color)" stroke-width="1"/>
          
          <!-- åæ ‡è½´ -->
          <line x1="50" y1="250" x2="550" y2="250" stroke="var(--text-secondary)" stroke-width="2"/>
          <line x1="50" y1="50" x2="50" y2="250" stroke="var(--text-secondary)" stroke-width="2"/>
          
          <!-- æŠ˜çº¿ -->
          <polyline points="50,180 150,120 250,160 350,80 450,140 550,100" 
                    fill="none" stroke="var(--primary)" stroke-width="3"/>
          
          <!-- æ•°æ®ç‚¹ -->
          <circle class="line-point" data-value="70" cx="50" cy="180" r="5" fill="var(--primary)"/>
          <circle class="line-point" data-value="100" cx="150" cy="120" r="5" fill="var(--primary)"/>
          <circle class="line-point" data-value="80" cx="250" cy="160" r="5" fill="var(--primary)"/>
          <circle class="line-point" data-value="130" cx="350" cy="80" r="5" fill="var(--primary)"/>
          <circle class="line-point" data-value="90" cx="450" cy="140" r="5" fill="var(--primary)"/>
          <circle class="line-point" data-value="110" cx="550" cy="100" r="5" fill="var(--primary)"/>
        </svg>
      </div>
      <div class="code-block">
        <code>&lt;polyline points="50,180 150,120 250,160..." 
          fill="none" stroke="var(--primary)"/&gt;
&lt;circle cx="50" cy="180" r="5"/&gt;</code>
      </div>
    </div>

    <!-- é¥¼å›¾ -->
    <div class="chart-demo">
      <h3>ğŸ¥§ é¥¼å›¾ (Pie Chart)</h3>
      <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md);">
        æ‚¬åœæŸ¥çœ‹å æ¯”
      </p>
      <div class="svg-container">
        <svg id="pie-chart" width="400" height="400" viewBox="0 0 400 400">
          <g transform="translate(200, 200)">
            <!-- é¥¼å›¾åˆ‡ç‰‡ -->
            <path class="pie-slice" data-label="äº§å“ A" data-value="35" 
                  d="M 0,0 L 0,-150 A 150,150 0 0,1 106.07,-106.07 Z" 
                  fill="#10b981"/>
            <path class="pie-slice" data-label="äº§å“ B" data-value="25" 
                  d="M 0,0 L 106.07,-106.07 A 150,150 0 0,1 150,0 Z" 
                  fill="#3b82f6"/>
            <path class="pie-slice" data-label="äº§å“ C" data-value="20" 
                  d="M 0,0 L 150,0 A 150,150 0 0,1 106.07,106.07 Z" 
                  fill="#f59e0b"/>
            <path class="pie-slice" data-label="äº§å“ D" data-value="20" 
                  d="M 0,0 L 106.07,106.07 A 150,150 0 0,1 0,150 Z" 
                  fill="#8b5cf6"/>
          </g>
          
          <!-- å›¾ä¾‹ -->
          <g transform="translate(320, 100)">
            <rect x="0" y="0" width="15" height="15" fill="#10b981"/>
            <text x="20" y="12" font-size="14" fill="var(--text-primary)">äº§å“ A (35%)</text>
            
            <rect x="0" y="30" width="15" height="15" fill="#3b82f6"/>
            <text x="20" y="42" font-size="14" fill="var(--text-primary)">äº§å“ B (25%)</text>
            
            <rect x="0" y="60" width="15" height="15" fill="#f59e0b"/>
            <text x="20" y="72" font-size="14" fill="var(--text-primary)">äº§å“ C (20%)</text>
            
            <rect x="0" y="90" width="15" height="15" fill="#8b5cf6"/>
            <text x="20" y="102" font-size="14" fill="var(--text-primary)">äº§å“ D (20%)</text>
          </g>
        </svg>
      </div>
      <div class="code-block">
        <code>&lt;path d="M 0,0 L 0,-150 A 150,150 0 0,1 106.07,-106.07 Z" 
      fill="#10b981"/&gt;</code>
      </div>
    </div>

    <!-- ç¯å½¢å›¾ -->
    <div class="chart-demo">
      <h3>ğŸ© ç¯å½¢å›¾ (Donut Chart)</h3>
      <div class="svg-container">
        <svg width="300" height="300" viewBox="0 0 300 300">
          <g transform="translate(150, 150)">
            <!-- ç¯å½¢åˆ‡ç‰‡ -->
            <path d="M 0,-100 A 100,100 0 0,1 70.71,-70.71 L 42.43,-42.43 A 60,60 0 0,0 0,-60 Z" 
                  fill="var(--primary)"/>
            <path d="M 70.71,-70.71 A 100,100 0 0,1 100,0 L 60,0 A 60,60 0 0,0 42.43,-42.43 Z" 
                  fill="var(--success)"/>
            <path d="M 100,0 A 100,100 0 0,1 0,100 L 0,60 A 60,60 0 0,0 60,0 Z" 
                  fill="var(--warning)"/>
            <path d="M 0,100 A 100,100 0 0,1 -70.71,70.71 L -42.43,42.43 A 60,60 0 0,0 0,60 Z" 
                  fill="var(--error)"/>
            <path d="M -70.71,70.71 A 100,100 0 0,1 0,-100 L 0,-60 A 60,60 0 0,0 -42.43,42.43 Z" 
                  fill="var(--info)"/>
            
            <!-- ä¸­å¿ƒæ–‡å­— -->
            <text text-anchor="middle" y="5" font-size="24" font-weight="bold" 
                  fill="var(--text-primary)">100%</text>
          </g>
        </svg>
      </div>
      <div class="code-block">
        <code>&lt;!-- å¤–åœ†åŠå¾„ 100ï¼Œå†…åœ†åŠå¾„ 60 --&gt;
&lt;path d="M 0,-100 A 100,100 0 0,1 70.71,-70.71 
         L 42.43,-42.43 A 60,60 0 0,0 0,-60 Z"/&gt;</code>
      </div>
    </div>

    <div class="info-section" style="margin-top: var(--spacing-xl); padding: var(--spacing-md); background: var(--bg-secondary); border-radius: var(--radius-md);">
      <h2>ğŸ’¡ å…³é”®çŸ¥è¯†ç‚¹</h2>
      <ul>
        <li><strong>æŸ±çŠ¶å›¾</strong>: ä½¿ç”¨ rect å…ƒç´ ï¼Œé«˜åº¦æ ¹æ®æ•°æ®å€¼è®¡ç®—</li>
        <li><strong>æŠ˜çº¿å›¾</strong>: ä½¿ç”¨ polyline æˆ– path ç»˜åˆ¶è¿çº¿ï¼Œcircle æ ‡è®°æ•°æ®ç‚¹</li>
        <li><strong>é¥¼å›¾</strong>: ä½¿ç”¨ path çš„å¼§çº¿å‘½ä»¤ (A) ç»˜åˆ¶æ‰‡å½¢</li>
        <li><strong>ç¯å½¢å›¾</strong>: åœ¨é¥¼å›¾åŸºç¡€ä¸Šï¼Œä½¿ç”¨ä¸¤ä¸ªå¼§çº¿åˆ›å»ºç¯å½¢</li>
        <li><strong>äº¤äº’æ€§</strong>: ä½¿ç”¨ CSS :hover å’Œ JavaScript äº‹ä»¶å®ç°äº¤äº’</li>
        <li><strong>å“åº”å¼</strong>: ä½¿ç”¨ viewBox å®ç°å›¾è¡¨è‡ªé€‚åº”</li>
        <li><strong>åŠ¨ç”»</strong>: å¯ä»¥ä½¿ç”¨ CSS transition æˆ– SMIL åŠ¨ç”»</li>
        <li><strong>æ•°æ®ç»‘å®š</strong>: ä½¿ç”¨ data-* å±æ€§å­˜å‚¨æ•°æ®å€¼</li>
      </ul>
    </div>
  </div>

  <script>
    (function() {
      'use strict';

      const tooltip = document.getElementById('tooltip');

      // æŸ±çŠ¶å›¾äº¤äº’
      document.querySelectorAll('#bar-chart .bar').forEach(bar => {
        bar.addEventListener('mouseenter', (e) => {
          const value = e.target.dataset.value;
          showTooltip(e, `é”€å”®é¢: ${value}ä¸‡`);
        });
        bar.addEventListener('mouseleave', hideTooltip);
      });

      // æŠ˜çº¿å›¾äº¤äº’
      document.querySelectorAll('#line-chart .line-point').forEach(point => {
        point.addEventListener('mouseenter', (e) => {
          const value = e.target.dataset.value;
          showTooltip(e, `æ•°å€¼: ${value}`);
        });
        point.addEventListener('mouseleave', hideTooltip);
      });

      // é¥¼å›¾äº¤äº’
      document.querySelectorAll('#pie-chart .pie-slice').forEach(slice => {
        slice.addEventListener('mouseenter', (e) => {
          const label = e.target.dataset.label;
          const value = e.target.dataset.value;
          showTooltip(e, `${label}: ${value}%`);
        });
        slice.addEventListener('mouseleave', hideTooltip);
      });

      function showTooltip(e, text) {
        tooltip.textContent = text;
        tooltip.style.left = e.pageX + 10 + 'px';
        tooltip.style.top = e.pageY + 10 + 'px';
        tooltip.classList.add('show');
      }

      function hideTooltip() {
        tooltip.classList.remove('show');
      }
    })();
  </script>
</body>
</html>
